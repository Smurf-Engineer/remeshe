{"version":3,"file":"pagination.60bb7933.js","sources":["../../../projects/domains/src/others/github-users.ts","../../../projects/domains/src/others/pagination.ts","../../../projects/react-demos/src/others/pagination.tsx"],"sourcesContent":["const delay = (ms: number) => new Promise<void>((resolve) => setTimeout(resolve, ms))\r\n\r\nconst fakeData = [\r\n  {\r\n    login: 'mojombo',\r\n    id: 1,\r\n    node_id: 'MDQ6VXNlcjE=',\r\n    avatar_url: 'https://avatars.githubusercontent.com/u/1?v=4',\r\n    gravatar_id: '',\r\n    url: 'https://api.github.com/users/mojombo',\r\n    html_url: 'https://github.com/mojombo',\r\n    followers_url: 'https://api.github.com/users/mojombo/followers',\r\n    following_url: 'https://api.github.com/users/mojombo/following{/other_user}',\r\n    gists_url: 'https://api.github.com/users/mojombo/gists{/gist_id}',\r\n    starred_url: 'https://api.github.com/users/mojombo/starred{/owner}{/repo}',\r\n    subscriptions_url: 'https://api.github.com/users/mojombo/subscriptions',\r\n    organizations_url: 'https://api.github.com/users/mojombo/orgs',\r\n    repos_url: 'https://api.github.com/users/mojombo/repos',\r\n    events_url: 'https://api.github.com/users/mojombo/events{/privacy}',\r\n    received_events_url: 'https://api.github.com/users/mojombo/received_events',\r\n    type: 'User',\r\n    site_admin: false,\r\n  },\r\n  {\r\n    login: 'defunkt',\r\n    id: 2,\r\n    node_id: 'MDQ6VXNlcjI=',\r\n    avatar_url: 'https://avatars.githubusercontent.com/u/2?v=4',\r\n    gravatar_id: '',\r\n    url: 'https://api.github.com/users/defunkt',\r\n    html_url: 'https://github.com/defunkt',\r\n    followers_url: 'https://api.github.com/users/defunkt/followers',\r\n    following_url: 'https://api.github.com/users/defunkt/following{/other_user}',\r\n    gists_url: 'https://api.github.com/users/defunkt/gists{/gist_id}',\r\n    starred_url: 'https://api.github.com/users/defunkt/starred{/owner}{/repo}',\r\n    subscriptions_url: 'https://api.github.com/users/defunkt/subscriptions',\r\n    organizations_url: 'https://api.github.com/users/defunkt/orgs',\r\n    repos_url: 'https://api.github.com/users/defunkt/repos',\r\n    events_url: 'https://api.github.com/users/defunkt/events{/privacy}',\r\n    received_events_url: 'https://api.github.com/users/defunkt/received_events',\r\n    type: 'User',\r\n    site_admin: false,\r\n  },\r\n  {\r\n    login: 'pjhyett',\r\n    id: 3,\r\n    node_id: 'MDQ6VXNlcjM=',\r\n    avatar_url: 'https://avatars.githubusercontent.com/u/3?v=4',\r\n    gravatar_id: '',\r\n    url: 'https://api.github.com/users/pjhyett',\r\n    html_url: 'https://github.com/pjhyett',\r\n    followers_url: 'https://api.github.com/users/pjhyett/followers',\r\n    following_url: 'https://api.github.com/users/pjhyett/following{/other_user}',\r\n    gists_url: 'https://api.github.com/users/pjhyett/gists{/gist_id}',\r\n    starred_url: 'https://api.github.com/users/pjhyett/starred{/owner}{/repo}',\r\n    subscriptions_url: 'https://api.github.com/users/pjhyett/subscriptions',\r\n    organizations_url: 'https://api.github.com/users/pjhyett/orgs',\r\n    repos_url: 'https://api.github.com/users/pjhyett/repos',\r\n    events_url: 'https://api.github.com/users/pjhyett/events{/privacy}',\r\n    received_events_url: 'https://api.github.com/users/pjhyett/received_events',\r\n    type: 'User',\r\n    site_admin: false,\r\n  },\r\n  {\r\n    login: 'wycats',\r\n    id: 4,\r\n    node_id: 'MDQ6VXNlcjQ=',\r\n    avatar_url: 'https://avatars.githubusercontent.com/u/4?v=4',\r\n    gravatar_id: '',\r\n    url: 'https://api.github.com/users/wycats',\r\n    html_url: 'https://github.com/wycats',\r\n    followers_url: 'https://api.github.com/users/wycats/followers',\r\n    following_url: 'https://api.github.com/users/wycats/following{/other_user}',\r\n    gists_url: 'https://api.github.com/users/wycats/gists{/gist_id}',\r\n    starred_url: 'https://api.github.com/users/wycats/starred{/owner}{/repo}',\r\n    subscriptions_url: 'https://api.github.com/users/wycats/subscriptions',\r\n    organizations_url: 'https://api.github.com/users/wycats/orgs',\r\n    repos_url: 'https://api.github.com/users/wycats/repos',\r\n    events_url: 'https://api.github.com/users/wycats/events{/privacy}',\r\n    received_events_url: 'https://api.github.com/users/wycats/received_events',\r\n    type: 'User',\r\n    site_admin: false,\r\n  },\r\n  {\r\n    login: 'ezmobius',\r\n    id: 5,\r\n    node_id: 'MDQ6VXNlcjU=',\r\n    avatar_url: 'https://avatars.githubusercontent.com/u/5?v=4',\r\n    gravatar_id: '',\r\n    url: 'https://api.github.com/users/ezmobius',\r\n    html_url: 'https://github.com/ezmobius',\r\n    followers_url: 'https://api.github.com/users/ezmobius/followers',\r\n    following_url: 'https://api.github.com/users/ezmobius/following{/other_user}',\r\n    gists_url: 'https://api.github.com/users/ezmobius/gists{/gist_id}',\r\n    starred_url: 'https://api.github.com/users/ezmobius/starred{/owner}{/repo}',\r\n    subscriptions_url: 'https://api.github.com/users/ezmobius/subscriptions',\r\n    organizations_url: 'https://api.github.com/users/ezmobius/orgs',\r\n    repos_url: 'https://api.github.com/users/ezmobius/repos',\r\n    events_url: 'https://api.github.com/users/ezmobius/events{/privacy}',\r\n    received_events_url: 'https://api.github.com/users/ezmobius/received_events',\r\n    type: 'User',\r\n    site_admin: false,\r\n  },\r\n  {\r\n    login: 'ivey',\r\n    id: 6,\r\n    node_id: 'MDQ6VXNlcjY=',\r\n    avatar_url: 'https://avatars.githubusercontent.com/u/6?v=4',\r\n    gravatar_id: '',\r\n    url: 'https://api.github.com/users/ivey',\r\n    html_url: 'https://github.com/ivey',\r\n    followers_url: 'https://api.github.com/users/ivey/followers',\r\n    following_url: 'https://api.github.com/users/ivey/following{/other_user}',\r\n    gists_url: 'https://api.github.com/users/ivey/gists{/gist_id}',\r\n    starred_url: 'https://api.github.com/users/ivey/starred{/owner}{/repo}',\r\n    subscriptions_url: 'https://api.github.com/users/ivey/subscriptions',\r\n    organizations_url: 'https://api.github.com/users/ivey/orgs',\r\n    repos_url: 'https://api.github.com/users/ivey/repos',\r\n    events_url: 'https://api.github.com/users/ivey/events{/privacy}',\r\n    received_events_url: 'https://api.github.com/users/ivey/received_events',\r\n    type: 'User',\r\n    site_admin: false,\r\n  },\r\n  {\r\n    login: 'evanphx',\r\n    id: 7,\r\n    node_id: 'MDQ6VXNlcjc=',\r\n    avatar_url: 'https://avatars.githubusercontent.com/u/7?v=4',\r\n    gravatar_id: '',\r\n    url: 'https://api.github.com/users/evanphx',\r\n    html_url: 'https://github.com/evanphx',\r\n    followers_url: 'https://api.github.com/users/evanphx/followers',\r\n    following_url: 'https://api.github.com/users/evanphx/following{/other_user}',\r\n    gists_url: 'https://api.github.com/users/evanphx/gists{/gist_id}',\r\n    starred_url: 'https://api.github.com/users/evanphx/starred{/owner}{/repo}',\r\n    subscriptions_url: 'https://api.github.com/users/evanphx/subscriptions',\r\n    organizations_url: 'https://api.github.com/users/evanphx/orgs',\r\n    repos_url: 'https://api.github.com/users/evanphx/repos',\r\n    events_url: 'https://api.github.com/users/evanphx/events{/privacy}',\r\n    received_events_url: 'https://api.github.com/users/evanphx/received_events',\r\n    type: 'User',\r\n    site_admin: false,\r\n  },\r\n  {\r\n    login: 'vanpelt',\r\n    id: 17,\r\n    node_id: 'MDQ6VXNlcjE3',\r\n    avatar_url: 'https://avatars.githubusercontent.com/u/17?v=4',\r\n    gravatar_id: '',\r\n    url: 'https://api.github.com/users/vanpelt',\r\n    html_url: 'https://github.com/vanpelt',\r\n    followers_url: 'https://api.github.com/users/vanpelt/followers',\r\n    following_url: 'https://api.github.com/users/vanpelt/following{/other_user}',\r\n    gists_url: 'https://api.github.com/users/vanpelt/gists{/gist_id}',\r\n    starred_url: 'https://api.github.com/users/vanpelt/starred{/owner}{/repo}',\r\n    subscriptions_url: 'https://api.github.com/users/vanpelt/subscriptions',\r\n    organizations_url: 'https://api.github.com/users/vanpelt/orgs',\r\n    repos_url: 'https://api.github.com/users/vanpelt/repos',\r\n    events_url: 'https://api.github.com/users/vanpelt/events{/privacy}',\r\n    received_events_url: 'https://api.github.com/users/vanpelt/received_events',\r\n    type: 'User',\r\n    site_admin: false,\r\n  },\r\n  {\r\n    login: 'wayneeseguin',\r\n    id: 18,\r\n    node_id: 'MDQ6VXNlcjE4',\r\n    avatar_url: 'https://avatars.githubusercontent.com/u/18?v=4',\r\n    gravatar_id: '',\r\n    url: 'https://api.github.com/users/wayneeseguin',\r\n    html_url: 'https://github.com/wayneeseguin',\r\n    followers_url: 'https://api.github.com/users/wayneeseguin/followers',\r\n    following_url: 'https://api.github.com/users/wayneeseguin/following{/other_user}',\r\n    gists_url: 'https://api.github.com/users/wayneeseguin/gists{/gist_id}',\r\n    starred_url: 'https://api.github.com/users/wayneeseguin/starred{/owner}{/repo}',\r\n    subscriptions_url: 'https://api.github.com/users/wayneeseguin/subscriptions',\r\n    organizations_url: 'https://api.github.com/users/wayneeseguin/orgs',\r\n    repos_url: 'https://api.github.com/users/wayneeseguin/repos',\r\n    events_url: 'https://api.github.com/users/wayneeseguin/events{/privacy}',\r\n    received_events_url: 'https://api.github.com/users/wayneeseguin/received_events',\r\n    type: 'User',\r\n    site_admin: false,\r\n  },\r\n  {\r\n    login: 'brynary',\r\n    id: 19,\r\n    node_id: 'MDQ6VXNlcjE5',\r\n    avatar_url: 'https://avatars.githubusercontent.com/u/19?v=4',\r\n    gravatar_id: '',\r\n    url: 'https://api.github.com/users/brynary',\r\n    html_url: 'https://github.com/brynary',\r\n    followers_url: 'https://api.github.com/users/brynary/followers',\r\n    following_url: 'https://api.github.com/users/brynary/following{/other_user}',\r\n    gists_url: 'https://api.github.com/users/brynary/gists{/gist_id}',\r\n    starred_url: 'https://api.github.com/users/brynary/starred{/owner}{/repo}',\r\n    subscriptions_url: 'https://api.github.com/users/brynary/subscriptions',\r\n    organizations_url: 'https://api.github.com/users/brynary/orgs',\r\n    repos_url: 'https://api.github.com/users/brynary/repos',\r\n    events_url: 'https://api.github.com/users/brynary/events{/privacy}',\r\n    received_events_url: 'https://api.github.com/users/brynary/received_events',\r\n    type: 'User',\r\n    site_admin: false,\r\n  },\r\n]\r\n\r\nexport type User = typeof fakeData[number]\r\n\r\nexport type UserList = User[]\r\n\r\nlet fakeUid = 1000000\r\n\r\nexport type Pagination = {\r\n  offset: number\r\n  pageSize: number\r\n}\r\n\r\nexport const getFakeUserList = async (_pagination: Pagination): Promise<UserList> => {\r\n  await delay(500)\r\n  return fakeData.map((data) => {\r\n    return {\r\n      ...data,\r\n      id: fakeUid++,\r\n    }\r\n  })\r\n}\r\n\r\nlet hasError = false\r\nexport const getUserList = async (pagination: Pagination): Promise<UserList> => {\r\n  if (hasError) {\r\n    return getFakeUserList(pagination)\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.github.com/users?since=${pagination.offset}&per_page=${pagination.pageSize}`,\r\n    )\r\n    if (!response.ok) {\r\n      throw new Error(response.statusText)\r\n    }\r\n    const json = await response.json()\r\n    return json\r\n  } catch (e) {\r\n    hasError = true\r\n    return getFakeUserList(pagination)\r\n  }\r\n}\r\n","import { Remesh } from 'remesh'\r\nimport { AsyncModule, AsyncData } from 'remesh/modules/async'\r\n\r\nimport { Pagination, UserList, getUserList } from './github-users'\r\n\r\nexport const PaginationDomain = Remesh.domain({\r\n  name: 'PaginationDomain',\r\n  impl: (domain) => {\r\n    const defaultPagination: Pagination = {\r\n      offset: 0,\r\n      pageSize: 10,\r\n    }\r\n\r\n    const PaginationState = domain.state({\r\n      name: 'PaginationState',\r\n      default: defaultPagination,\r\n    })\r\n\r\n    const UserListState = domain.state<UserList>({\r\n      name: 'UserListState',\r\n      default: [],\r\n    })\r\n\r\n    const UserListQuery = domain.query({\r\n      name: 'UserListQuery',\r\n      impl: ({ get }) => {\r\n        return get(UserListState())\r\n      },\r\n    })\r\n\r\n    const IsEmptyUserListQuery = domain.query({\r\n      name: 'IsEmptyUserListQuery',\r\n      impl: ({ get }) => {\r\n        const userList = get(UserListQuery())\r\n        return userList.length === 0\r\n      },\r\n    })\r\n\r\n    const NextPaginationQuery = domain.query({\r\n      name: 'NextPaginationQuery',\r\n      impl: ({ get }) => {\r\n        const pagination = get(PaginationState())\r\n        const userList = get(UserListQuery())\r\n\r\n        if (userList.length === 0) {\r\n          return pagination\r\n        }\r\n\r\n        const lastUser = userList[userList.length - 1]\r\n\r\n        const nextPagination = {\r\n          ...pagination,\r\n          offset: lastUser.id + 1,\r\n        }\r\n\r\n        return nextPagination\r\n      },\r\n    })\r\n\r\n    const SetPaginationCommand = domain.command({\r\n      name: 'SetPaginationCommand',\r\n      impl: ({ get }, pagination: Pagination) => {\r\n        return PaginationState().new(pagination)\r\n      },\r\n    })\r\n\r\n    const SetUserListCommand = domain.command({\r\n      name: 'SetUserListCommand',\r\n      impl: ({ get }, userList: UserList) => {\r\n        return UserListState().new(userList)\r\n      },\r\n    })\r\n\r\n    const UserAsyncModule = AsyncModule<Pagination, UserList>(domain, {\r\n      name: 'UserAsyncModule',\r\n      load: async ({}, pagination) => {\r\n        const newUserList = await getUserList(pagination)\r\n        return newUserList\r\n      },\r\n      onSuccess: ({ get }, result) => {\r\n        const nextPagination = get(NextPaginationQuery())\r\n        const currentUserList = get(UserListState())\r\n\r\n        return [SetPaginationCommand(nextPagination), SetUserListCommand([...currentUserList, ...result])]\r\n      },\r\n    })\r\n\r\n    domain.effect({\r\n      name: 'UserEffect',\r\n      impl: ({}) => {\r\n        return [UserAsyncModule.command.LoadCommand(defaultPagination)]\r\n      },\r\n    })\r\n\r\n    const LoadMoreCommand = domain.command({\r\n      name: 'LoadMoreCommand',\r\n      impl: ({ get }) => {\r\n        const nextPagination = get(NextPaginationQuery())\r\n        return UserAsyncModule.command.LoadCommand(nextPagination)\r\n      },\r\n    })\r\n\r\n    const ResetCommand = domain.command({\r\n      name: 'ResetCommand',\r\n      impl: ({}) => {\r\n        return [SetPaginationCommand(defaultPagination), SetUserListCommand([]), LoadMoreCommand()]\r\n      },\r\n    })\r\n\r\n    return {\r\n      query: {\r\n        UserListQuery,\r\n        IsEmptyUserListQuery,\r\n        AsyncDataQuery: UserAsyncModule.query.AsyncDataQuery,\r\n      },\r\n      command: {\r\n        LoadMoreCommand: LoadMoreCommand,\r\n        ResetCommand: ResetCommand,\r\n      },\r\n      event: {\r\n        LoadingUsersEvent: UserAsyncModule.event.LoadingEvent,\r\n        SuccessToLoadUsersEvent: UserAsyncModule.event.SuccessEvent,\r\n        FailedToLoadUsersEvent: UserAsyncModule.event.FailedEvent,\r\n      },\r\n    }\r\n  },\r\n})\r\n","import { useRemeshDomain, useRemeshQuery, useRemeshSend } from 'remesh-react'\r\n\r\nimport { PaginationDomain } from 'remesh-domains-for-demos/dist/others/pagination'\r\nimport { AsyncData } from 'remesh/modules/async'\r\n\r\nexport default () => {\r\n  const paginationDomain = useRemeshDomain(PaginationDomain())\r\n  const isEmptyUserList = useRemeshQuery(paginationDomain.query.IsEmptyUserListQuery())\r\n\r\n  return (\r\n    <div>\r\n      <h2>Pagination</h2>\r\n      {isEmptyUserList ? 'loading...' : <UserListView />}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UserListView = () => {\r\n  const send = useRemeshSend()\r\n  const paginationDomain = useRemeshDomain(PaginationDomain())\r\n\r\n  const asyncData = useRemeshQuery(paginationDomain.query.AsyncDataQuery())\r\n\r\n  const isLoading = AsyncData.isLoading(asyncData)\r\n\r\n  const handleRest = () => {\r\n    send(paginationDomain.command.ResetCommand())\r\n  }\r\n\r\n  const handleLoadMore = () => {\r\n    send(paginationDomain.command.LoadMoreCommand())\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <button onClick={handleRest}>reset</button>\r\n      </div>\r\n      <UserListContent />\r\n      <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around' }}>\r\n        {!isLoading && <button onClick={handleLoadMore}>load more</button>}\r\n        {isLoading && 'loading...'}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst UserListContent = () => {\r\n  const paginationDomain = useRemeshDomain(PaginationDomain())\r\n\r\n  const userList = useRemeshQuery(paginationDomain.query.UserListQuery())\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around' }}>\r\n      {userList.map((user) => {\r\n        return (\r\n          <div style={{ width: 100, margin: 10 }} key={user.id}>\r\n            <img style={{ width: 100, height: 100 }} src={user.avatar_url} loading=\"lazy\" />\r\n            <p>\r\n              <a href={user.html_url}>{user.login}</a>\r\n            </p>\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n"],"names":["delay","ms","resolve","fakeData","fakeUid","getFakeUserList","_pagination","data","hasError","getUserList","pagination","response","PaginationDomain","Remesh","domain","defaultPagination","PaginationState","UserListState","UserListQuery","get","IsEmptyUserListQuery","NextPaginationQuery","userList","lastUser","SetPaginationCommand","SetUserListCommand","UserAsyncModule","AsyncModule","result","nextPagination","currentUserList","LoadMoreCommand","ResetCommand","paginationDomain","useRemeshDomain","isEmptyUserList","useRemeshQuery","query","_jsx","UserListView","send","useRemeshSend","asyncData","AsyncDataQuery","isLoading","AsyncData","_Fragment","command","UserListContent","display","flexWrap","justifyContent","map","user","width","margin","height","avatar_url","html_url","login","id"],"mappings":"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"}