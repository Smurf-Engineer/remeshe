import{r as k,a as fr}from"./jsx-runtime.5f4d5f7e.js";var Ge=function(n,t,o,s){var i=o?o.call(s,n,t):void 0;if(i!==void 0)return!!i;if(n===t)return!0;if(typeof n!="object"||!n||typeof t!="object"||!t)return!1;var u=Object.keys(n),f=Object.keys(t);if(u.length!==f.length)return!1;for(var m=Object.prototype.hasOwnProperty.bind(t),y=0;y<u.length;y++){var v=u[y];if(!m(v))return!1;var S=n[v],h=t[v];if(i=o?o.call(s,S,h,v):void 0,i===!1||i===void 0&&S!==h)return!1}return!0};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function He(e){return Object.prototype.toString.call(e)==="[object Object]"}function Je(e){var n,t;return He(e)===!1?!1:(n=e.constructor,n===void 0?!0:(t=n.prototype,!(He(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}let dr=0;function tt(e){var o;const n=dr++,t=s=>({type:"RemeshEventAction",arg:s,Event:t});return t.type="RemeshEvent",t.eventId=n,t.eventName=e.name,t.owner=V(),t.inspectable="inspectable"in e&&(o=e.inspectable)!=null?o:!0,t.toSubscribeOnlyEvent=()=>nt(t),"impl"in e&&(t.impl=e.impl),t}const Be=new WeakMap,rt=new WeakMap,nt=e=>{const n=Be.get(e);if(n)return n;const t={type:"RemeshSubscribeOnlyEvent",eventId:e.eventId,eventName:e.eventName};return Be.set(e,t),rt.set(t,e),t},Xe=e=>{const n=rt.get(e);if(n)return n;throw new Error(`SubscribeOnlyEvent ${e.eventName} does not have an associated Event`)};let mr=0;const ye=(e,n)=>Je(e)&&Je(n)||Array.isArray(e)&&Array.isArray(n)?Ge(e,n):e===n,ot=e=>{var s,i;const n=mr++;let t=null;const o=u=>{if(u===void 0&&t)return t;const f={type:"RemeshStateItem",key:u,State:o,new:m=>({type:"RemeshStateItemUpdatePayload",key:u,value:m,stateItem:f})};return u===void 0&&(t=f),f};return o.type="RemeshState",o.stateId=n,o.stateName=e.name,o.default=e.default,o.compare=(s=e.compare)!=null?s:ye,o.owner=V(),o.inspectable=(i=e.inspectable)!=null?i:!0,o};let pr=0;const st=e=>{var s,i;const n=pr++;let t=null;const o=u=>{if(u===void 0&&t)return t;const f={type:"RemeshEntityItem",key:`${u}`,Entity:o,new:m=>({type:"RemeshEntityItemUpdatePayload",key:u,value:m,entityItem:f})};return u===void 0&&(t=f),f};return o.type="RemeshEntity",o.entityId=n,o.entityName=e.name,o.key=e.key,o.injectEntities=e.injectEntities,o.owner=V(),o.inspectable=(s=e.inspectable)!=null?s:!0,o.compare=(i=e.compare)!=null?i:ye,o};let yr=0;const at=e=>{var s,i;const n=yr++;let t=null;const o=u=>{if(u===void 0&&t)return t;const f={type:"RemeshQueryAction",Query:o,arg:u};return u===void 0&&(t=f),f};return o.type="RemeshQuery",o.queryId=n,o.queryName=e.name,o.impl=e.impl,o.compare=(s=e.compare)!=null?s:ye,o.owner=V(),o.inspectable=(i=e.inspectable)!=null?i:!0,o};let hr=0;const it=e=>{var o;const n=hr++,t=s=>({type:"RemeshCommandAction",arg:s,Command:t});return t.type="RemeshCommand",t.commandId=n,t.commandName=e.name,t.impl=e.impl,t.owner=V(),t.inspectable=(o=e.inspectable)!=null?o:!0,t};let vr=0;const Sr=e=>{const n={type:"RemeshExtern",externId:vr++,default:e.default,impl:t=>({type:"RemeshExternImpl",Extern:n,value:t})};return n},ct=e=>{const n={};if(e.event){const t={};for(const o in e.event){const s=e.event[o];s.type==="RemeshSubscribeOnlyEvent"?t[o]=s:t[o]=nt(s)}n.event=t}return e.query&&(n.query=e.query),e.command&&(n.command=e.command),n},br=e=>ct(e);let gr=0;const he=e=>{var o;let n=null;const t=s=>{if(s===void 0&&n)return n;const i={type:"RemeshDomainAction",Domain:t,arg:s};return s===void 0&&(n=i),i};return t.type="RemeshDomain",t.domainId=gr++,t.domainName=e.name,t.impl=e.impl,t.inspectable=(o=e.inspectable)!=null?o:!0,t},V=he({name:"DefaultDomain",impl:()=>({})});var fe=function(e,n){return fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])},fe(e,n)};function F(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");fe(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function wr(e,n,t,o){function s(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function f(v){try{y(o.next(v))}catch(S){u(S)}}function m(v){try{y(o.throw(v))}catch(S){u(S)}}function y(v){v.done?i(v.value):s(v.value).then(f,m)}y((o=o.apply(e,n||[])).next())})}function ut(e,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,s,i,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(y){return function(v){return m([y,v])}}function m(y){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,s&&(i=y[0]&2?s.return:y[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,y[1])).done)return i;switch(s=0,i&&(y=[y[0]&2,i.value]),y[0]){case 0:case 1:i=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!i||y[1]>i[0]&&y[1]<i[3])){t.label=y[1];break}if(y[0]===6&&t.label<i[1]){t.label=i[1],i=y;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(y);break}i[2]&&t.ops.pop(),t.trys.pop();continue}y=n.call(e,t)}catch(v){y=[6,v],s=0}finally{o=i=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function N(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],o=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var o=t.call(e),s,i=[],u;try{for(;(n===void 0||n-- >0)&&!(s=o.next()).done;)i.push(s.value)}catch(f){u={error:f}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(u)throw u.error}}return i}function Z(e,n,t){if(t||arguments.length===2)for(var o=0,s=n.length,i;o<s;o++)(i||!(o in n))&&(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return e.concat(i||Array.prototype.slice.call(n))}function $(e){return this instanceof $?(this.v=e,this):new $(e)}function Er(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(e,n||[]),s,i=[];return s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s;function u(h){o[h]&&(s[h]=function(b){return new Promise(function(Q,D){i.push([h,b,Q,D])>1||f(h,b)})})}function f(h,b){try{m(o[h](b))}catch(Q){S(i[0][3],Q)}}function m(h){h.value instanceof $?Promise.resolve(h.value.v).then(y,v):S(i[0][2],h)}function y(h){f("next",h)}function v(h){f("throw",h)}function S(h,b){h(b),i.shift(),i.length&&f(i[0][0],i[0][1])}}function Rr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof N=="function"?N(e):e[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(i){t[i]=e[i]&&function(u){return new Promise(function(f,m){u=e[i](u),s(f,m,u.done,u.value)})}}function s(i,u,f,m){Promise.resolve(m).then(function(y){i({value:y,done:f})},u)}}function C(e){return typeof e=="function"}function lt(e){var n=function(o){Error.call(o),o.stack=new Error().stack},t=e(n);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ce=lt(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(o,s){return s+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function de(e,n){if(e){var t=e.indexOf(n);0<=t&&e.splice(t,1)}}var A=function(){function e(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var n,t,o,s,i;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var f=N(u),m=f.next();!m.done;m=f.next()){var y=m.value;y.remove(this)}}catch(D){n={error:D}}finally{try{m&&!m.done&&(t=f.return)&&t.call(f)}finally{if(n)throw n.error}}else u.remove(this);var v=this.initialTeardown;if(C(v))try{v()}catch(D){i=D instanceof ce?D.errors:[D]}var S=this._finalizers;if(S){this._finalizers=null;try{for(var h=N(S),b=h.next();!b.done;b=h.next()){var Q=b.value;try{Ze(Q)}catch(D){i=i!=null?i:[],D instanceof ce?i=Z(Z([],X(i)),X(D.errors)):i.push(D)}}}catch(D){o={error:D}}finally{try{b&&!b.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}}if(i)throw new ce(i)}},e.prototype.add=function(n){var t;if(n&&n!==this)if(this.closed)Ze(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}},e.prototype._hasParent=function(n){var t=this._parentage;return t===n||Array.isArray(t)&&t.includes(n)},e.prototype._addParent=function(n){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n},e.prototype._removeParent=function(n){var t=this._parentage;t===n?this._parentage=null:Array.isArray(t)&&de(t,n)},e.prototype.remove=function(n){var t=this._finalizers;t&&de(t,n),n instanceof e&&n._removeParent(this)},e.EMPTY=function(){var n=new e;return n.closed=!0,n}(),e}(),ft=A.EMPTY;function dt(e){return e instanceof A||e&&"closed"in e&&C(e.remove)&&C(e.add)&&C(e.unsubscribe)}function Ze(e){C(e)?e():e.unsubscribe()}var q={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},me={setTimeout:function(e,n){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];var s=me.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,Z([e,n],X(t))):setTimeout.apply(void 0,Z([e,n],X(t)))},clearTimeout:function(e){var n=me.delegate;return((n==null?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0};function mt(e){me.setTimeout(function(){var n=q.onUnhandledError;if(n)n(e);else throw e})}function Ae(){}var G=null;function J(e){if(q.useDeprecatedSynchronousErrorHandling){var n=!G;if(n&&(G={errorThrown:!1,error:null}),e(),n){var t=G,o=t.errorThrown,s=t.error;if(G=null,o)throw s}}else e()}var ve=function(e){F(n,e);function n(t){var o=e.call(this)||this;return o.isStopped=!1,t?(o.destination=t,dt(t)&&t.add(o)):o.destination=kr,o}return n.create=function(t,o,s){return new pe(t,o,s)},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(A),xr=Function.prototype.bind;function ue(e,n){return xr.call(e,n)}var Cr=function(){function e(n){this.partialObserver=n}return e.prototype.next=function(n){var t=this.partialObserver;if(t.next)try{t.next(n)}catch(o){H(o)}},e.prototype.error=function(n){var t=this.partialObserver;if(t.error)try{t.error(n)}catch(o){H(o)}else H(n)},e.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(t){H(t)}},e}(),pe=function(e){F(n,e);function n(t,o,s){var i=e.call(this)||this,u;if(C(t)||!t)u={next:t!=null?t:void 0,error:o!=null?o:void 0,complete:s!=null?s:void 0};else{var f;i&&q.useDeprecatedNextContext?(f=Object.create(t),f.unsubscribe=function(){return i.unsubscribe()},u={next:t.next&&ue(t.next,f),error:t.error&&ue(t.error,f),complete:t.complete&&ue(t.complete,f)}):u=t}return i.destination=new Cr(u),i}return n}(ve);function H(e){mt(e)}function Dr(e){throw e}var kr={closed:!0,next:Ae,error:Dr,complete:Ae},Se=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Mr(e){return e}function Or(e){return e.length===0?Mr:e.length===1?e[0]:function(t){return e.reduce(function(o,s){return s(o)},t)}}var M=function(){function e(n){n&&(this._subscribe=n)}return e.prototype.lift=function(n){var t=new e;return t.source=this,t.operator=n,t},e.prototype.subscribe=function(n,t,o){var s=this,i=Ir(n)?n:new pe(n,t,o);return J(function(){var u=s,f=u.operator,m=u.source;i.add(f?f.call(i,m):m?s._subscribe(i):s._trySubscribe(i))}),i},e.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(t){n.error(t)}},e.prototype.forEach=function(n,t){var o=this;return t=qe(t),new t(function(s,i){var u=new pe({next:function(f){try{n(f)}catch(m){i(m),u.unsubscribe()}},error:i,complete:s});o.subscribe(u)})},e.prototype._subscribe=function(n){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(n)},e.prototype[Se]=function(){return this},e.prototype.pipe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Or(n)(this)},e.prototype.toPromise=function(n){var t=this;return n=qe(n),new n(function(o,s){var i;t.subscribe(function(u){return i=u},function(u){return s(u)},function(){return o(i)})})},e.create=function(n){return new e(n)},e}();function qe(e){var n;return(n=e!=null?e:q.Promise)!==null&&n!==void 0?n:Promise}function Qr(e){return e&&C(e.next)&&C(e.error)&&C(e.complete)}function Ir(e){return e&&e instanceof ve||Qr(e)&&dt(e)}function Pr(e){return C(e==null?void 0:e.lift)}function be(e){return function(n){if(Pr(n))return n.lift(function(t){try{return e(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(e,n,t,o,s){return new Ur(e,n,t,o,s)}var Ur=function(e){F(n,e);function n(t,o,s,i,u,f){var m=e.call(this,t)||this;return m.onFinalize=u,m.shouldUnsubscribe=f,m._next=o?function(y){try{o(y)}catch(v){t.error(v)}}:e.prototype._next,m._error=i?function(y){try{i(y)}catch(v){t.error(v)}finally{this.unsubscribe()}}:e.prototype._error,m._complete=s?function(){try{s()}catch(y){t.error(y)}finally{this.unsubscribe()}}:e.prototype._complete,m}return n.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;e.prototype.unsubscribe.call(this),!o&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},n}(ve),_r=lt(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),B=function(e){F(n,e);function n(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.prototype.lift=function(t){var o=new et(this,this);return o.operator=t,o},n.prototype._throwIfClosed=function(){if(this.closed)throw new _r},n.prototype.next=function(t){var o=this;J(function(){var s,i;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var u=N(o.currentObservers),f=u.next();!f.done;f=u.next()){var m=f.value;m.next(t)}}catch(y){s={error:y}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}}})},n.prototype.error=function(t){var o=this;J(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=t;for(var s=o.observers;s.length;)s.shift().error(t)}})},n.prototype.complete=function(){var t=this;J(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var o=t.observers;o.length;)o.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},n.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},n.prototype._innerSubscribe=function(t){var o=this,s=this,i=s.hasError,u=s.isStopped,f=s.observers;return i||u?ft:(this.currentObservers=null,f.push(t),new A(function(){o.currentObservers=null,de(f,t)}))},n.prototype._checkFinalizedStatuses=function(t){var o=this,s=o.hasError,i=o.thrownError,u=o.isStopped;s?t.error(i):u&&t.complete()},n.prototype.asObservable=function(){var t=new M;return t.source=this,t},n.create=function(t,o){return new et(t,o)},n}(M),et=function(e){F(n,e);function n(t,o){var s=e.call(this)||this;return s.destination=t,s.source=o,s}return n.prototype.next=function(t){var o,s;(s=(o=this.destination)===null||o===void 0?void 0:o.next)===null||s===void 0||s.call(o,t)},n.prototype.error=function(t){var o,s;(s=(o=this.destination)===null||o===void 0?void 0:o.error)===null||s===void 0||s.call(o,t)},n.prototype.complete=function(){var t,o;(o=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||o===void 0||o.call(t)},n.prototype._subscribe=function(t){var o,s;return(s=(o=this.source)===null||o===void 0?void 0:o.subscribe(t))!==null&&s!==void 0?s:ft},n}(B),yt=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function ht(e){return C(e==null?void 0:e.then)}function vt(e){return C(e[Se])}function St(e){return Symbol.asyncIterator&&C(e==null?void 0:e[Symbol.asyncIterator])}function bt(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function jr(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gt=jr();function wt(e){return C(e==null?void 0:e[gt])}function Et(e){return Er(this,arguments,function(){var t,o,s,i;return ut(this,function(u){switch(u.label){case 0:t=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,$(t.read())];case 3:return o=u.sent(),s=o.value,i=o.done,i?[4,$(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,$(s)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Rt(e){return C(e==null?void 0:e.getReader)}function ge(e){if(e instanceof M)return e;if(e!=null){if(vt(e))return Tr(e);if(yt(e))return $r(e);if(ht(e))return Nr(e);if(St(e))return xt(e);if(wt(e))return Lr(e);if(Rt(e))return Wr(e)}throw bt(e)}function Tr(e){return new M(function(n){var t=e[Se]();if(C(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $r(e){return new M(function(n){for(var t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Nr(e){return new M(function(n){e.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,mt)})}function Lr(e){return new M(function(n){var t,o;try{for(var s=N(e),i=s.next();!i.done;i=s.next()){var u=i.value;if(n.next(u),n.closed)return}}catch(f){t={error:f}}finally{try{i&&!i.done&&(o=s.return)&&o.call(s)}finally{if(t)throw t.error}}n.complete()})}function xt(e){return new M(function(n){Vr(e,n).catch(function(t){return n.error(t)})})}function Wr(e){return xt(Et(e))}function Vr(e,n){var t,o,s,i;return wr(this,void 0,void 0,function(){var u,f;return ut(this,function(m){switch(m.label){case 0:m.trys.push([0,5,6,11]),t=Rr(e),m.label=1;case 1:return[4,t.next()];case 2:if(o=m.sent(),!!o.done)return[3,4];if(u=o.value,n.next(u),n.closed)return[2];m.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return f=m.sent(),s={error:f},[3,11];case 6:return m.trys.push([6,,9,10]),o&&!o.done&&(i=t.return)?[4,i.call(t)]:[3,8];case 7:m.sent(),m.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}function P(e,n,t,o,s){o===void 0&&(o=0),s===void 0&&(s=!1);var i=n.schedule(function(){t(),s?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(i),!s)return i}function Ct(e,n){return n===void 0&&(n=0),be(function(t,o){t.subscribe(pt(o,function(s){return P(o,e,function(){return o.next(s)},n)},function(){return P(o,e,function(){return o.complete()},n)},function(s){return P(o,e,function(){return o.error(s)},n)}))})}function Dt(e,n){return n===void 0&&(n=0),be(function(t,o){o.add(e.schedule(function(){return t.subscribe(o)},n))})}function Fr(e,n){return ge(e).pipe(Dt(n),Ct(n))}function zr(e,n){return ge(e).pipe(Dt(n),Ct(n))}function Kr(e,n){return new M(function(t){var o=0;return n.schedule(function(){o===e.length?t.complete():(t.next(e[o++]),t.closed||this.schedule())})})}function Yr(e,n){return new M(function(t){var o;return P(t,n,function(){o=e[gt](),P(t,n,function(){var s,i,u;try{s=o.next(),i=s.value,u=s.done}catch(f){t.error(f);return}u?t.complete():t.next(i)},0,!0)}),function(){return C(o==null?void 0:o.return)&&o.return()}})}function kt(e,n){if(!e)throw new Error("Iterable cannot be null");return new M(function(t){P(t,n,function(){var o=e[Symbol.asyncIterator]();P(t,n,function(){o.next().then(function(s){s.done?t.complete():t.next(s.value)})},0,!0)})})}function Gr(e,n){return kt(Et(e),n)}function Hr(e,n){if(e!=null){if(vt(e))return Fr(e,n);if(yt(e))return Kr(e,n);if(ht(e))return zr(e,n);if(St(e))return kt(e,n);if(wt(e))return Yr(e,n);if(Rt(e))return Gr(e,n)}throw bt(e)}function Jr(e,n){return n?Hr(e,n):ge(e)}function Br(e,n){return be(function(t,o){var s=0;t.subscribe(pt(o,function(i){o.next(e.call(n,i,s++))}))})}const x={DomainCreated:"Domain::Created",DomainDiscarded:"Domain::Discarded",DomainReused:"Domain::Reused",StateCreated:"State::Created",StateUpdated:"State::Updated",StateDiscarded:"State::Discarded",StateReused:"State::Reused",EntityCreated:"Entity::Created",EntityUpdated:"Entity::Updated",EntityDiscarded:"Entity::Discarded",EntityReused:"Entity::Reused",QueryCreated:"Query::Created",QueryUpdated:"Query::Updated",QueryDiscarded:"Query::Discarded",QueryReused:"Query::Reused",EventEmitted:"Event::Emitted",CommandReceived:"Command::Received"},_=he({name:"RemeshInspectorDomain",impl:e=>{const n=e.event({name:"RemeshDomainStorageEvent"}),t=e.command({name:"RemeshDomainStorageCommand",impl:({},b)=>n(b)}),o=e.event({name:"RemeshStateStorageEvent"}),s=e.command({name:"RemeshStateStorageCommand",impl:({},b)=>o(b)}),i=e.event({name:"RemeshQueryStorageEvent"}),u=e.command({name:"RemeshQueryStorageCommand",impl:({},b)=>i(b)}),f=e.event({name:"RemeshEventEmittedEvent"}),m=e.command({name:"RemeshEventEmittedCommand",impl:({},b)=>f(b)}),y=e.event({name:"RemeshCommandReceivedEvent"}),v=e.command({name:"RemeshCommandReceivedCommand",impl:({},b)=>y(b)}),S=e.event({name:"RemeshEntityStorageEvent"}),h=e.command({name:"RemeshEntityStorageCommand",impl:({},b)=>S(b)});return{command:{RemeshDomainStorageCommand:t,RemeshStateStorageCommand:s,RemeshQueryStorageCommand:u,RemeshEventEmittedCommand:m,RemeshCommandReceivedCommand:v,RemeshEntityStorageCommand:h},event:{RemeshDomainStorageEvent:n,RemeshStateStorageEvent:o,RemeshQueryStorageEvent:i,RemeshEventEmittedEvent:f,RemeshCommandReceivedEvent:y,RemeshEntityStorageEvent:S}}}}),j=e=>e.owner?e.owner.Domain.inspectable&&e.inspectable:e.inspectable,Xr=e=>{var n;return((n=e.inspectors)!=null?n:[]).filter(t=>!!t).map(t=>{const{inspectors:o,...s}=e;return t(s)})},Zr=e=>{let n=null;const t=()=>(n||(n=Xr(e)),n);return{destroyInspectors:()=>{if(n){for(const v of n)v.discard();n=null}},inspectDomainStorage:(v,S)=>{if(j(S.Domain))for(const h of t()){const b=h.getDomain(_());h.send(b.command.RemeshDomainStorageCommand({type:v,storage:S}))}},inspectStateStorage:(v,S)=>{if(j(S.State))for(const h of t()){const b=h.getDomain(_());h.send(b.command.RemeshStateStorageCommand({type:v,storage:S}))}},inspectQueryStorage:(v,S)=>{if(j(S.Query))for(const h of t()){const b=h.getDomain(_());h.send(b.command.RemeshQueryStorageCommand({type:v,storage:S}))}},inspectEntityStorage:(v,S)=>{if(j(S.Entity))for(const h of t()){const b=h.getDomain(_());h.send(b.command.RemeshEntityStorageCommand({type:v,storage:S}))}},inspectEventEmitted:(v,S)=>{if(j(S.Event))for(const h of t()){const b=h.getDomain(_());h.send(b.command.RemeshEventEmittedCommand({type:v,action:S}))}},inspectCommandReceived:(v,S)=>{if(j(S.Command))for(const h of t()){const b=h.getDomain(_());h.send(b.command.RemeshCommandReceivedCommand({type:v,action:S}))}}}};let T=0;const Mt=e=>{const n={...e},t=Zr(n),o=new Set,s=new Set,i=new Set,u=new Map,f=new WeakMap,m=r=>{var a;for(const c of(a=n.externs)!=null?a:[])if(c.Extern===r)return c.value;return r.default},y=r=>{const a=f.get(r);if(a)return a;const c=m(r),l={id:T++,type:"RemeshExternStorage",Extern:r,currentValue:c};return f.set(r,l),l},v=r=>y(r).currentValue,S=new WeakMap,h=r=>{var d;const a=S.get(r);if(a)return a;const c=r.State.stateName,l=`State/${r.State.stateId}/${c}:${(d=r.key)!=null?d:""}`;return S.set(r,l),l},b=r=>{var E;const a=S.get(r);if(a)return a;const c=r.Query.queryName,l=(E=JSON.stringify(r.arg))!=null?E:"",d=`Query/${r.Query.queryId}/${c}:${l}`;return S.set(r,d),d},Q=r=>{var E;const a=S.get(r);if(a)return a;const c=r.Domain.domainName,l=(E=JSON.stringify(r.arg))!=null?E:"",d=`Domain/${r.Domain.domainId}/${c}:${l}`;return S.set(r,d),d},D=r=>{const a=S.get(r);if(a)return a;const c=r.Entity.entityName,l=`Entity/${r.Entity.entityId}/${c}:${r.key}`;return S.set(r,l),l},te=r=>r.type==="RemeshStateItem"?h(r):r.type==="RemeshQueryAction"?b(r):r.type==="RemeshEntityItem"?D(r):Q(r),we=new WeakMap,Ee=r=>typeof r.default=="function"?r.default():r.default,Pt=r=>{const a=w(r.State.owner),c=h(r),l=Ee(r.State),d={id:T++,type:"RemeshStateStorage",State:r.State,key:c,currentState:l,downstreamSet:new Set};return a.stateMap.set(c,d),we.set(r,d),t.inspectStateStorage(x.StateCreated,d),d},Re=r=>{const a=w(r.State.owner);a.stateMap.has(r.key)||(r.currentState=Ee(r.State),a.stateMap.set(r.key,r),t.inspectStateStorage(x.StateReused,r))},z=r=>{const a=w(r.State.owner),c=h(r),l=a.stateMap.get(c);if(l)return l;const d=we.get(r);return d?(Re(d),d):Pt(r)},xe=new WeakMap,Ce=new WeakMap,Ut=r=>{if(!Ce.get(r)&&(Ce.set(r,!0),r.injectEntities))for(const a of r.injectEntities)ze(r(r.key(a)),a)},_t=r=>{const a=w(r.Entity.owner),c=te(r),l={id:T++,type:"RemeshEntityStorage",Entity:r.Entity,key:c,currentEntity:null,downstreamSet:new Set};return a.entityMap.set(c,l),xe.set(r,l),Ut(r.Entity),t.inspectEntityStorage(x.EntityCreated,l),l},De=r=>{const a=w(r.Entity.owner);a.entityMap.has(r.key)||(r.currentEntity=null,a.entityMap.set(r.key,r),t.inspectEntityStorage(x.EntityReused,r))},K=r=>{const a=w(r.Entity.owner),c=te(r),l=a.entityMap.get(c);if(l)return l;const d=xe.get(r);return d?(De(d),d):_t(r)},ke=new WeakMap,jt=r=>{const a=w(r.owner),c={get:R.get},l=new B,d=l.pipe(Br(g=>r.impl?r.impl(c,g):g)),E=ke.get(r),p=Object.assign(E!=null?E:{},{id:T++,type:"RemeshEventStorage",Event:r,subject:l,observable:d,refCount:0});return a.eventMap.set(r,p),ke.set(r,p),p},Y=r=>{var l;return(l=w(r.owner).eventMap.get(r))!=null?l:jt(r)},Me=new WeakMap,Tt=r=>{const a=w(r.Query.owner),c=b(r),l=new B,d=l.asObservable(),E=new Set,p={id:T++,type:"RemeshQueryStorage",Query:r.Query,arg:r.arg,key:c,upstreamSet:E,downstreamSet:new Set,subject:l,observable:d,refCount:0,status:"default",wipUpstreamSet:new Set},{Query:g}=r,ur={get:O=>{if(p.upstreamSet!==E)return R.get(O);if(O.type==="RemeshStateItem"){const I=z(O);return p.upstreamSet.add(I),I.downstreamSet.add(p),R.get(O)}if(O.type==="RemeshEntityItem"){const I=K(O);return p.upstreamSet.add(I),I.downstreamSet.add(p),R.get(O)}if(O.type==="RemeshQueryAction"){const I=W(O);return p.upstreamSet.add(I),I.downstreamSet.add(p),R.get(O)}return R.get(O)}},lr=g.impl(ur,r.arg);return p.currentValue=lr,a.queryMap.set(c,p),Me.set(r,p),t.inspectQueryStorage(x.QueryCreated,p),p},Oe=r=>{const a=w(r.Query.owner);if(a.queryMap.has(r.key))return;const c=new B,l=c.asObservable();r.status="default",r.subject=c,r.observable=l,a.queryMap.set(r.key,r);for(const d of r.upstreamSet)if(d.downstreamSet.add(r),d.type==="RemeshQueryStorage")Oe(d);else if(d.type==="RemeshEntityStorage")De(d);else if(d.type==="RemeshStateStorage")Re(d);else throw new Error(`Unknown upstream: ${d}`);Ne(r),t.inspectQueryStorage(x.QueryReused,r)},W=r=>{const a=w(r.Query.owner),c=b(r),l=a.queryMap.get(c);if(l)return l;const d=Me.get(r);return d?(Oe(d),d):Tt(r)},Qe=new WeakMap,$t=r=>{const a=Q(r),c=new Set,l={state:p=>{const g=ot(p);return g.owner=r,g},entity:p=>{const g=st(p);return g.owner=r,g},query:p=>{const g=at(p);return g.owner=r,g},event:p=>{const g=tt(p);return g.owner=r,g},command:p=>{const g=it(p);return g.owner=r,g},effect:p=>{d.ignited||d.effectList.push(p)},preload:p=>{d.ignited||d.preloadOptionsList.push(p)},getDomain:p=>{const g=w(p);return c.add(g),g.downstreamSet.add(d),d.ignited&&ie(p),g.domain},getExtern:p=>v(p)},d={id:T++,type:"RemeshDomainStorage",Domain:r.Domain,get domain(){return E},arg:r.arg,domainContext:l,domainAction:r,key:a,upstreamSet:c,downstreamSet:new Set,effectList:[],stateMap:new Map,entityMap:new Map,queryMap:new Map,eventMap:new Map,effectMap:new Map,commandMap:new Map,preloadOptionsList:[],preloadedState:{},ignited:!1,hasBeenPreloaded:!1,isDiscarding:!1},E=ct(r.Domain.impl(l,r.arg));return u.set(a,d),Qe.set(r,d),t.inspectDomainStorage(x.DomainCreated,d),Nt(d),d},Nt=r=>{if(!(e!=null&&e.preloadedState))return;const a={get:R.get};for(const c of r.preloadOptionsList)if(Object.prototype.hasOwnProperty.call(e.preloadedState,c.key)){const l=e.preloadedState[c.key];U(c.command(a,l))}},w=r=>{const a=Q(r),c=u.get(a);if(c)return c;const l=Qe.get(r);if(l){l.ignited=!1,l.isDiscarding=!1,u.set(l.key,l);for(const d of l.upstreamSet)d.downstreamSet.add(l);return t.inspectDomainStorage(x.DomainReused,l),l}return $t(r)},Ie=r=>{const a=w(r.Query.owner);if(!!a.queryMap.has(r.key)){a.queryMap.delete(r.key),r.subject.complete(),t.inspectQueryStorage(x.QueryDiscarded,r);for(const c of r.upstreamSet)!c.downstreamSet.has(r)||(c.downstreamSet.delete(r),c.type==="RemeshQueryStorage"?re(c):c.type==="RemeshEntityStorage"?_e(c):Ue(c));oe(a)}},Lt=r=>!(r.refCount>0||r.downstreamSet.size!==0),re=r=>{Lt(r)&&Ie(r)},Pe=r=>{const a=w(r.State.owner);!a.stateMap.has(r.key)||(a.stateMap.delete(r.key),r.downstreamSet.clear(),t.inspectStateStorage(x.StateDiscarded,r))},Wt=r=>r.downstreamSet.size===0,Ue=r=>{Wt(r)&&Pe(r)},Vt=r=>r.downstreamSet.size===0,_e=r=>{Vt(r)&&je(r)},je=r=>{const a=w(r.Entity.owner);!a.entityMap.has(r.key)||(a.entityMap.delete(r.key),r.downstreamSet.clear(),r.currentEntity=null,t.inspectEntityStorage(x.EntityDiscarded,r))},Te=r=>{const a=w(r.Event.owner);r.subject.complete(),a.eventMap.delete(r.Event),oe(a)},Ft=r=>!(r.refCount>0),zt=r=>{Ft(r)&&Te(r)},ne=r=>{if(!r.isDiscarding){r.isDiscarding=!0,r.ignited=!1;for(const a of r.effectMap.values())a.unsubscribe();for(const a of r.eventMap.values())Te(a);for(const a of r.queryMap.values())Ie(a);for(const a of r.stateMap.values())Pe(a);for(const a of r.entityMap.values())je(a);r.downstreamSet.clear(),r.stateMap.clear(),r.queryMap.clear(),r.eventMap.clear(),r.effectMap.clear(),u.delete(r.key),t.inspectDomainStorage(x.DomainDiscarded,r);for(const a of r.upstreamSet)!a.downstreamSet.has(r)||(a.downstreamSet.delete(r),oe(a))}},Kt=r=>{if(r.isDiscarding||r.downstreamSet.size!==0)return!1;for(const a of r.queryMap.values())if(a.refCount>0)return!1;for(const a of r.eventMap.values())if(a.refCount>0)return!1;return!0},oe=r=>{Kt(r)&&ne(r)},Yt=r=>z(r).currentState,$e=r=>{const a=W(r);return se(a),a.currentValue},Gt=r=>{const a=K(r);if(a.currentEntity===null)throw new Error(`The ${a.key} of ${r.Entity.entityName} is not created yet.`);return a.currentEntity},R={get:r=>{if(r.type==="RemeshStateItem")return Yt(r);if(r.type==="RemeshQueryAction")return $e(r);if(r.type==="RemeshEntityItem")return Gt(r);throw new Error(`Unexpected input in ctx.get(..): ${r}`)},fromEvent:r=>{if(r.type==="RemeshEvent")return Y(r).observable;if(r.type==="RemeshSubscribeOnlyEvent"){const a=Xe(r);return Y(a).observable}throw new Error(`Unexpected input in fromEvent(..): ${r}`)},fromQuery:r=>W(r).observable},se=r=>{if(r.status!=="wip")return;if(r.wipUpstreamSet.size!==0){let c=!1;for(const l of r.wipUpstreamSet)if(l.type==="RemeshStateStorage")c=!0;else if(l.type==="RemeshEntityStorage")c=!0;else if(l.type==="RemeshQueryStorage")l.status==="wip"&&se(l),l.status==="updated"&&(c=!0);else throw new Error(`Unexpected upstream: ${l}`);if(r.wipUpstreamSet.clear(),!c){r.status="default";return}}Ne(r)?r.status="updated":r.status="default"},Ne=r=>{const{Query:a}=r;for(const p of r.upstreamSet)!p.downstreamSet.has(r)||(p.downstreamSet.delete(r),p.downstreamSet.size===0&&i.add(p));const c=new Set;r.upstreamSet=c;const l={get:p=>{if(r.upstreamSet!==c)return R.get(p);if(p.type==="RemeshStateItem"){const g=z(p);return r.upstreamSet.add(g),g.downstreamSet.add(r),R.get(p)}if(p.type==="RemeshEntityItem"){const g=K(p);return r.upstreamSet.add(g),g.downstreamSet.add(r),R.get(p)}if(p.type==="RemeshQueryAction"){const g=W(p);return r.upstreamSet.add(g),g.downstreamSet.add(r),R.get(p)}return R.get(p)}},d=a.impl(l,r.arg);return a.compare(r.currentValue,d)?!1:(r.currentValue=d,o.add(r),t.inspectQueryStorage(x.QueryUpdated,r),!0)},Le=()=>{if(i.size===0)return;const r=[...i];i.clear();for(const a of r)a.type==="RemeshQueryStorage"?re(a):a.type==="RemeshStateStorage"?Ue(a):_e(a);Le()},We=()=>{if(o.size===0)return;const r=[...o];o.clear();for(const a of r)o.has(a)||(a.type==="RemeshQueryStorage"?a.subject.next(a.currentValue):a.type==="RemeshEventAction"&&Jt(a));We()},ae=r=>{if(r.status="wip",r.downstreamSet.size>0)for(const a of r.downstreamSet)a.wipUpstreamSet.has(r)||(a.wipUpstreamSet.add(r),ae(a));else s.add(r)},Ve=()=>{if(s.size===0)return;const r=[...s];s.clear();for(const a of r)se(a);Ve()},Fe=()=>{Ve(),Le(),We()},Ht=(r,a)=>{const c=z(r);if(!r.State.compare(c.currentState,a)){c.currentState=a,t.inspectStateStorage(x.StateUpdated,c);for(const d of c.downstreamSet)d.wipUpstreamSet.add(c),ae(d)}},ze=(r,a)=>{const c=K(r),d=r.Entity.key(a);if(d!==r.key)throw new Error(`Entity key mismatch: ${r.key} !== ${d}`);if(c.currentEntity===null){c.currentEntity=a;return}if(!r.Entity.compare(c.currentEntity,a)){c.currentEntity=a,t.inspectEntityStorage(x.EntityUpdated,c);for(const p of c.downstreamSet)p.wipUpstreamSet.add(c),ae(p)}},Jt=r=>{const{Event:a,arg:c}=r,l=Y(a);t.inspectEventEmitted(x.EventEmitted,r),l.subject.next(c)},Bt={get:R.get},Xt=r=>{t.inspectCommandReceived(x.CommandReceived,r);const{Command:a,arg:c}=r,l=a.impl;U(l(Bt,c))},U=r=>{if(!!r)if(Array.isArray(r))for(const a of r)U(a);else r.type==="RemeshCommandAction"?Xt(r):r.type==="RemeshStateItemUpdatePayload"?Ht(r.stateItem,r.value):r.type==="RemeshEntityItemUpdatePayload"?ze(r.entityItem,r.value):r.type==="RemeshEventAction"&&o.add(r)},Zt=(r,a)=>{const c=W(r),l=new M(d=>{const E=c.subject.subscribe(d);return c.refCount+=1,()=>{c.refCount-=1,E.unsubscribe(),c.refCount===0&&re(c)}});return l.subscribe(a)},Ke=(r,a)=>{if(r.type==="RemeshEvent"){const c=Y(r);return new M(E=>{const p=c.observable.subscribe(E);return c.refCount+=1,()=>{c.refCount-=1,p.unsubscribe(),c.refCount===0&&zt(c)}}).subscribe(a)}else if(r.type==="RemeshSubscribeOnlyEvent"){const c=Xe(r);return Ke(c,a)}throw new Error(`Unknown event type of ${r}`)},At=r=>w(r).domain,qt={get:R.get,fromEvent:R.fromEvent,fromQuery:R.fromQuery},er=r=>{U(r),Fe()},ie=r=>{const a=w(r);if(!a.ignited){a.ignited=!0;for(const c of a.upstreamSet)ie(c.domainAction);for(const c of a.effectList){const l=c.impl(qt);if(l===null)continue;const d=Jr(l).subscribe(er);a.effectMap.set(c,d)}}},tr=r=>{const a=w(r);ne(a)},rr=()=>{t.destroyInspectors();for(const r of u.values())ne(r);u.clear(),o.clear()},Ye=r=>{const a=w(r);if(a.ignited)throw new Error(`Domain ${r.Domain.domainName} was ignited before preloading`);if(a.preloadedPromise)return a.preloadedPromise;const c=sr(r);return a.preloadedPromise=c,c},nr={get:R.get},or={get:R.get},sr=async r=>{const a=w(r);a.hasBeenPreloaded||(a.hasBeenPreloaded=!0,await Promise.all(Array.from(a.upstreamSet).map(c=>Ye(c.domainAction))),await Promise.all(a.preloadOptionsList.map(async c=>{const l=await c.query(or);if(Object.prototype.hasOwnProperty.call(a.preloadedState,c.key))throw new Error(`Duplicate key ${c.key}`);a.preloadedState[c.key]=l;const d=c.command(nr,l);U(d)})))},ar=()=>{const r={};for(const a of u.values())Object.assign(r,a.preloadedState);return r},ir=r=>w(r).preloadedState,cr=r=>{U(r),Fe()};return{name:n.name,getDomain:At,igniteDomain:ie,discardDomain:tr,query:$e,send:cr,discard:rr,preload:Ye,getPreloadedState:ar,getDomainPreloadedState:ir,subscribeQuery:Zt,subscribeEvent:Ke,getKey:te}},ln={domain:he,extern:Sr,store:Mt,state:ot,entity:st,query:at,command:it,event:tt,module:br};var Ot={exports:{}},Qt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L=k.exports;function Ar(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var qr=typeof Object.is=="function"?Object.is:Ar,en=L.useState,tn=L.useEffect,rn=L.useLayoutEffect,nn=L.useDebugValue;function on(e,n){var t=n(),o=en({inst:{value:t,getSnapshot:n}}),s=o[0].inst,i=o[1];return rn(function(){s.value=t,s.getSnapshot=n,le(s)&&i({inst:s})},[e,t,n]),tn(function(){return le(s)&&i({inst:s}),e(function(){le(s)&&i({inst:s})})},[e]),nn(t),t}function le(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!qr(e,t)}catch{return!0}}function sn(e,n){return n()}var an=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?sn:on;Qt.useSyncExternalStore=L.useSyncExternalStore!==void 0?L.useSyncExternalStore:an;Ot.exports=Qt;const It=k.exports.createContext(null),cn=()=>{const e=k.exports.useContext(It);if(e===null)throw new Error("You may forget to add <RemeshRoot />");return e},ee=()=>cn().remeshStore,fn=e=>{const n=k.exports.useRef(e.store);n.current||(n.current=Mt("options"in e?e.options:{}));const t=n.current,o=k.exports.useMemo(()=>({remeshStore:t}),[t]);return fr(It.Provider,{value:o,children:e.children})},dn=function(e){const n=ee(),t=k.exports.useRef(null),o=k.exports.useCallback(m=>(t.current=m,()=>{t.current=null}),[]),s=k.exports.useCallback(()=>n.query(e),[n,e]),i=Ot.exports.useSyncExternalStore(o,s,s),u=k.exports.useRef(null),f=n.getKey(e);return k.exports.useEffect(()=>()=>{var m;(m=u.current)==null||m.unsubscribe(),u.current=null},[n,f]),k.exports.useEffect(()=>{u.current===null&&(u.current=n.subscribeQuery(e,()=>{var m;(m=t.current)==null||m.call(t)}))},[n,e]),i},mn=function(e,n){const t=ee(),o=k.exports.useRef(n);k.exports.useEffect(()=>{o.current=n}),k.exports.useEffect(()=>{const s=t.subscribeEvent(e,i=>{o.current(i)});return()=>{s.unsubscribe()}},[e,t])},pn=function(){return ee().send},yn=function(e){const n=ee(),t=n.getDomain(e);return k.exports.useEffect(()=>{n.igniteDomain(e)},[n,e]),t};export{M as O,ln as R,A as S,Z as _,X as a,yn as b,pt as c,dn as d,fn as e,_ as f,ge as g,Jr as h,Mr as i,C as j,P as k,F as l,Br as m,Ae as n,be as o,de as p,mn as q,pn as u};
//# sourceMappingURL=remesh-react.2e60fbbd.js.map
