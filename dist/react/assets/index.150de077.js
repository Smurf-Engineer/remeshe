import{j as a,a as t,r as l,c as C}from"./jsx-runtime.bdd3bf05.js";import{r as A,m as f,b as h,d,s as B,R as k,e as R}from"./remesh-react.691c86dd.js";import{R as b,a as Q}from"./remesh-logger.f172f3d4.js";import{t as x,a as F}from"./timer.c7f271a8.js";import{t as q}from"./take.3ed0b245.js";import"./isScheduler.98b3f195.js";function g(e,n){return e===void 0&&(e=0),n===void 0&&(n=F),e<0&&(e=0),x(e,e,n)}const p=A({name:"FakeDomain",impl(e){const n=e.state({name:"AState",default:[]}),c=e.query({name:"AQuery",impl({get:s}){return s(n())}}),i=e.command({name:"ACommand",impl({get:s},o){return[n().new(s(c()).concat(o))]}}),m=e.state({name:"BState",default:[]}),u=e.query({name:"BQuery",impl({get:s}){return s(m())}}),y=e.query({name:"SummaryQuery",impl({get:s}){return s(u()).reduce((o,v)=>o+=v,0)}}),S=e.command({name:"BCommand",impl({get:s},o){return[m().new(s(u()).concat(o))]}});return e.effect({name:"FakeEffect",impl(){return g(200).pipe(q(10),f(s=>[i(s),S(s*1e3)]))}}),{query:{AQuery:c,BQuery:u,SummaryQuery:y}}}});var r=(e=>(e.A="A",e.B="B",e.C="C",e))(r||{});const D=e=>{const n=h(p()),c=d(n.query.AQuery()),i=d(n.query.SummaryQuery());return a("div",{children:[t("div",{children:t("button",{onClick:()=>{e.dispatch({type:r.B})},children:"Next Step"})}),t("div",{children:"A"}),t("div",{children:c}),a("div",{children:["summary: ",i]})]})},M=e=>{const n=h(p()),c=d(n.query.BQuery());return a("div",{children:[a("div",{children:[t("button",{onClick:()=>{e.dispatch({type:r.C})},children:"Next Step"}),t("button",{onClick:()=>{e.dispatch({type:r.A})},children:"Previous Step"})]}),t("div",{children:"B"}),t("div",{children:c.join(" | ")})]})},j=e=>a("div",{children:[a("div",{children:[t("button",{onClick:()=>{e.dispatch({type:r.A})},children:"To First Step"}),t("button",{onClick:()=>{e.dispatch({type:r.B})},children:"Previous Step"})]}),t("div",{children:"C"})]}),w={currentStep:r.A},E={[r.A]:D,[r.B]:M,[r.C]:j},N=()=>{const[e,n]=l.exports.useReducer((i,m)=>{switch(m.type){case r.A:return{currentStep:r.A};case r.B:return{currentStep:r.B};case r.C:return{currentStep:r.C}}},w),c=E[e.currentStep];return t("div",{children:t(c,{dispatch:n})})},P=()=>t("div",{style:{border:"1px solid #eaeaea",margin:"0 auto",width:300,padding:10},children:t(B,{domains:[p()],children:t(N,{})})});function I(){const[e,n]=l.exports.useState(!1);return a("div",{children:[t("h1",{children:"Steps"}),t("button",{onClick:()=>n(!e),children:e?"Close Modal":"Open Modal"}),e&&t(P,{})]})}const L=document.getElementById("root"),O=C(L),T=k.store({inspectors:[b(),Q()]});O.render(t(l.exports.StrictMode,{children:t(R,{store:T,children:t(I,{})})}));
//# sourceMappingURL=index.150de077.js.map
