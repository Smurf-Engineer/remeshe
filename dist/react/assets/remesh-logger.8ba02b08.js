import{R as u,f as l}from"./remesh-react.2e60fbbd.js";const f=d=>{const c=d.getHours().toString().padStart(2,"0"),a=d.getMinutes().toString().padStart(2,"0"),s=d.getSeconds().toString().padStart(2,"0"),i=d.getMilliseconds().toString().padStart(3,"0");return`${c}:${a}:${s}.${i}`},v=()=>{const d=new Date;return f(d)},p=d=>{const c={include:["state","domain","query","event","command","entity"],...d};return{onActive:(s,i)=>{var r;(r=c.exclude)!=null&&r.includes(s)||(c.include?c.include.includes(s)&&i():i())}}},E=()=>{if(typeof window!="undefined")return window.__REDUX_DEVTOOLS_EXTENSION__},$=d=>{const c=E();if(!!c)return a=>{var o;const s=p(d),i=c.connect({name:a==null?void 0:a.name,features:{pause:!1,lock:!1,persist:!1,export:!1,import:!1,jump:!1,skip:!1,reorder:!1,dispatch:!1,test:!1}}),r=(e,t)=>{i.send(t,null)},m=u.store({name:`RemeshReduxDevtools(${(o=a==null?void 0:a.name)!=null?o:""})`}),y=m.getDomain(l()),g=e=>{const t={domainId:e.Domain.domainId,domainName:e.Domain.domainName};return e.arg!==void 0?{...t,domainArg:e.arg}:t};return s.onActive("domain",()=>{m.subscribeEvent(y.event.RemeshDomainStorageEvent,e=>{const t=e.storage.Domain,n={type:`${e.type}::${t.domainName}`,domainId:t.domainId,domainName:t.domainName};e.storage.arg!==void 0?r(n.type,{...n,domainArg:e.storage.arg}):r(n.type,n)})}),s.onActive("state",()=>{m.subscribeEvent(y.event.RemeshStateStorageEvent,e=>{const t=e.storage.State,n={type:`${e.type}::${t.stateName}`,owner:g(t.owner),stateId:t.stateId,stateName:t.stateName,stateValue:e.storage.currentState};e.storage.key!==void 0?r(n.type,{...n,stateArg:e.storage.key}):r(n.type,n)})}),s.onActive("entity",()=>{m.subscribeEvent(y.event.RemeshEntityStorageEvent,e=>{const t=e.storage.Entity,n={type:`${e.type}::${t.entityName}`,owner:g(t.owner),entityId:t.entityId,entityName:t.entityName,entityValue:e.storage.currentEntity,entityKey:e.storage.key};r(n.type,n)})}),s.onActive("query",()=>{m.subscribeEvent(y.event.RemeshQueryStorageEvent,e=>{const t=e.storage.Query,n={type:`${e.type}::${t.queryName}`,owner:g(t.owner),queryId:t.queryId,queryName:t.queryName};e.storage.arg!==void 0?r(n.type,{...n,queryArg:e.storage.arg}):r(n.type,n)})}),s.onActive("command",()=>{m.subscribeEvent(y.event.RemeshCommandReceivedEvent,e=>{const t=e.action.Command,n={type:`${e.type}::${t.commandName}`,owner:g(t.owner),commandId:t.commandId,commandName:t.commandName};e.action.arg!==void 0?r(n.type,{...n,commandArg:e.action.arg}):r(n.type,n)})}),s.onActive("event",()=>{m.subscribeEvent(y.event.RemeshEventEmittedEvent,e=>{const t=e.action.Event,n={type:`${e.type}::${t.eventName}`,owner:g(t.owner),eventId:t.eventId,eventName:t.eventName};e.action.arg!==void 0?r(n.type,{...n,eventArg:e.action.arg}):r(n.type,n)})}),m}},N={domain:"#bfb1cc",event:"#aec6d4",state:"#adc7af",entity:"#d9bdc5",query:"#d6c9ad",command:"#debdb6"},b=d=>c=>{var g;const a={collapsed:!0,colors:N,...d},s=p(a),i=(o,e,t)=>{a.collapsed&&console.groupCollapsed(`%c${o}%c @ ${v()}`,`background-color:${t}; color: #000; font-weight: bold`,"color:#9E9E9E; font-weight: lighter"),console.log(e),a.collapsed&&console.groupEnd()},r=u.store({...c,name:`RemeshLogger(${(g=c==null?void 0:c.name)!=null?g:""})`}),m=r.getDomain(l()),y=o=>{const e={domainId:o.Domain.domainId,domainName:o.Domain.domainName};return o.arg!==void 0?{...e,domainArg:o.arg}:e};return s.onActive("domain",()=>{r.subscribeEvent(m.event.RemeshDomainStorageEvent,o=>{const e=o.storage.Domain,t={type:`${o.type}::${e.domainName}`,domainId:e.domainId,domainName:e.domainName};o.storage.arg!==void 0?i(t.type,{...t,domainArg:o.storage.arg},a.colors.domain):i(t.type,t,a.colors.domain)})}),s.onActive("state",()=>{r.subscribeEvent(m.event.RemeshStateStorageEvent,o=>{const e=o.storage.State,t={type:`${o.type}::${e.stateName}`,owner:y(e.owner),stateId:e.stateId,stateName:e.stateName,stateValue:o.storage.currentState};o.storage.key!==void 0?i(t.type,{...t,stateKey:o.storage.key},a.colors.state):i(t.type,t,a.colors.state)})}),s.onActive("entity",()=>{r.subscribeEvent(m.event.RemeshEntityStorageEvent,o=>{const e=o.storage.Entity,t={type:`${o.type}::${e.entityName}`,owner:y(e.owner),entityId:e.entityId,entityName:e.entityName,entityValue:o.storage.currentEntity,entityKey:o.storage.key};i(t.type,t,a.colors.entity)})}),s.onActive("query",()=>{r.subscribeEvent(m.event.RemeshQueryStorageEvent,o=>{const e=o.storage.Query,t={type:`${o.type}::${e.queryName}`,owner:y(e.owner),queryId:e.queryId,queryName:e.queryName,queryValue:o.storage.currentValue};o.storage.arg!==void 0?i(t.type,{...t,queryArg:o.storage.arg},a.colors.query):i(t.type,t,a.colors.query)})}),s.onActive("command",()=>{r.subscribeEvent(m.event.RemeshCommandReceivedEvent,o=>{const e=o.action.Command,t={type:`${o.type}::${e.commandName}`,owner:y(e.owner),commandId:e.commandId,commandName:e.commandName};o.action.arg!==void 0?i(t.type,{...t,commandArg:o.action.arg},a.colors.command):i(t.type,t,a.colors.command)})}),s.onActive("event",()=>{r.subscribeEvent(m.event.RemeshEventEmittedEvent,o=>{const e=o.action.Event,t={type:`${o.type}::${e.eventName}`,owner:y(e.owner),eventId:e.eventId,eventName:e.eventName};o.action.arg!==void 0?i(t.type,{...t,eventArg:o.action.arg},a.colors.event):i(t.type,t,a.colors.event)})}),r};export{$ as R,b as a};
//# sourceMappingURL=remesh-logger.8ba02b08.js.map
