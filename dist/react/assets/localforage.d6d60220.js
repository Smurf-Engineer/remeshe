import{i as cn,f as ln}from"./remesh-logger.ff43b83d.js";import{o as hn,c as dn}from"./map.53d3c8f5.js";import{r as B}from"./jsx-runtime.a8396eb8.js";var pe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function me(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function Zn(i,s,f){var u=ln(i)||s||f?{next:i,error:s,complete:f}:i;return u?hn(function(l,d){var b;(b=u.subscribe)===null||b===void 0||b.call(u);var g=!0;l.subscribe(dn(d,function(S){var R;(R=u.next)===null||R===void 0||R.call(u,S),d.next(S)},function(){var S;g=!1,(S=u.complete)===null||S===void 0||S.call(u),d.complete()},function(S){var R;g=!1,(R=u.error)===null||R===void 0||R.call(u,S),d.error(S)},function(){var S,R;g&&((S=u.unsubscribe)===null||S===void 0||S.call(u)),(R=u.finalize)===null||R===void 0||R.call(u)}))}):cn}function ge(){return ge=Object.assign||function(i){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(i[u]=f[u])}return i},ge.apply(this,arguments)}var re;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(re||(re={}));var qe=function(i){return i},et="beforeunload",vn="hashchange",pn="popstate";function mn(i){i===void 0&&(i={});var s=i,f=s.window,u=f===void 0?document.defaultView:f,l=u.history;function d(){var w=te(u.location.hash.substr(1)),I=w.pathname,D=I===void 0?"/":I,$=w.search,Y=$===void 0?"":$,H=w.hash,J=H===void 0?"":H,j=l.state||{};return[j.idx,qe({pathname:D,search:Y,hash:J,state:j.usr||null,key:j.key||"default"})]}var b=null;function g(){if(b)P.call(b),b=null;else{var w=re.Pop,I=d(),D=I[0],$=I[1];if(P.length){if(D!=null){var Y=C-D;Y&&(b={action:w,location:$,retry:function(){A(Y*-1)}},A(Y))}}else ne(w)}}u.addEventListener(pn,g),u.addEventListener(vn,function(){var w=d(),I=w[1];fe(I)!==fe(m)&&g()});var S=re.Pop,R=d(),C=R[0],m=R[1],E=nt(),P=nt();C==null&&(C=0,l.replaceState(ge({},l.state,{idx:C}),""));function L(){var w=document.querySelector("base"),I="";if(w&&w.getAttribute("href")){var D=u.location.href,$=D.indexOf("#");I=$===-1?D:D.slice(0,$)}return I}function W(w){return L()+"#"+(typeof w=="string"?w:fe(w))}function M(w,I){return I===void 0&&(I=null),qe(ge({pathname:m.pathname,hash:"",search:""},typeof w=="string"?te(w):w,{state:I,key:gn()}))}function V(w,I){return[{usr:w.state,key:w.key,idx:I},W(w)]}function U(w,I,D){return!P.length||(P.call({action:w,location:I,retry:D}),!1)}function ne(w){S=w;var I=d();C=I[0],m=I[1],E.call({action:S,location:m})}function G(w,I){var D=re.Push,$=M(w,I);function Y(){G(w,I)}if(U(D,$,Y)){var H=V($,C+1),J=H[0],j=H[1];try{l.pushState(J,"",j)}catch{u.location.assign(j)}ne(D)}}function _(w,I){var D=re.Replace,$=M(w,I);function Y(){_(w,I)}if(U(D,$,Y)){var H=V($,C),J=H[0],j=H[1];l.replaceState(J,"",j),ne(D)}}function A(w){l.go(w)}var N={get action(){return S},get location(){return m},createHref:W,push:G,replace:_,go:A,back:function(){A(-1)},forward:function(){A(1)},listen:function(I){return E.push(I)},block:function(I){var D=P.push(I);return P.length===1&&u.addEventListener(et,tt),function(){D(),P.length||u.removeEventListener(et,tt)}}};return N}function tt(i){i.preventDefault(),i.returnValue=""}function nt(){var i=[];return{get length(){return i.length},push:function(f){return i.push(f),function(){i=i.filter(function(u){return u!==f})}},call:function(f){i.forEach(function(u){return u&&u(f)})}}}function gn(){return Math.random().toString(36).substr(2,8)}function fe(i){var s=i.pathname,f=s===void 0?"/":s,u=i.search,l=u===void 0?"":u,d=i.hash,b=d===void 0?"":d;return l&&l!=="?"&&(f+=l.charAt(0)==="?"?l:"?"+l),b&&b!=="#"&&(f+=b.charAt(0)==="#"?b:"#"+b),f}function te(i){var s={};if(i){var f=i.indexOf("#");f>=0&&(s.hash=i.substr(f),i=i.substr(0,f));var u=i.indexOf("?");u>=0&&(s.search=i.substr(u),i=i.substr(0,u)),i&&(s.pathname=i)}return s}/**
 * React Router v6.2.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q(i,s){if(!i)throw new Error(s)}const Ce=B.exports.createContext(null),Te=B.exports.createContext(null),se=B.exports.createContext({outlet:null,matches:[]});function yn(i){Q(!1)}function bn(i){let{basename:s="/",children:f=null,location:u,navigationType:l=re.Pop,navigator:d,static:b=!1}=i;ce()&&Q(!1);let g=ut(s),S=B.exports.useMemo(()=>({basename:g,navigator:d,static:b}),[g,d,b]);typeof u=="string"&&(u=te(u));let{pathname:R="/",search:C="",hash:m="",state:E=null,key:P="default"}=u,L=B.exports.useMemo(()=>{let W=it(R,g);return W==null?null:{pathname:W,search:C,hash:m,state:E,key:P}},[g,R,C,m,E,P]);return L==null?null:B.exports.createElement(Ce.Provider,{value:S},B.exports.createElement(Te.Provider,{children:f,value:{location:L,navigationType:l}}))}function qn(i){let{children:s,location:f}=i;return Sn(Ne(s),f)}function _n(i){ce()||Q(!1);let{basename:s,navigator:f}=B.exports.useContext(Ce),{hash:u,pathname:l,search:d}=Ae(i),b=l;if(s!=="/"){let g=Un(i),S=g!=null&&g.endsWith("/");b=l==="/"?s+(S?"/":""):ee([s,l])}return f.createHref({pathname:b,search:d,hash:u})}function ce(){return B.exports.useContext(Te)!=null}function le(){return ce()||Q(!1),B.exports.useContext(Te).location}function wn(){ce()||Q(!1);let{basename:i,navigator:s}=B.exports.useContext(Ce),{matches:f}=B.exports.useContext(se),{pathname:u}=le(),l=JSON.stringify(f.map(g=>g.pathnameBase)),d=B.exports.useRef(!1);return B.exports.useEffect(()=>{d.current=!0}),B.exports.useCallback(function(g,S){if(S===void 0&&(S={}),!d.current)return;if(typeof g=="number"){s.go(g);return}let R=ot(g,JSON.parse(l),u);i!=="/"&&(R.pathname=ee([i,R.pathname])),(S.replace?s.replace:s.push)(R,S.state)},[i,s,l,u])}function er(){let{matches:i}=B.exports.useContext(se),s=i[i.length-1];return s?s.params:{}}function Ae(i){let{matches:s}=B.exports.useContext(se),{pathname:f}=le(),u=JSON.stringify(s.map(l=>l.pathnameBase));return B.exports.useMemo(()=>ot(i,JSON.parse(u),f),[i,u,f])}function Sn(i,s){ce()||Q(!1);let{matches:f}=B.exports.useContext(se),u=f[f.length-1],l=u?u.params:{};u&&u.pathname;let d=u?u.pathnameBase:"/";u&&u.route;let b=le(),g;if(s){var S;let E=typeof s=="string"?te(s):s;d==="/"||((S=E.pathname)==null?void 0:S.startsWith(d))||Q(!1),g=E}else g=b;let R=g.pathname||"/",C=d==="/"?R:R.slice(d.length)||"/",m=En(i,{pathname:C});return Ln(m&&m.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:ee([d,E.pathname]),pathnameBase:E.pathnameBase==="/"?d:ee([d,E.pathnameBase])})),f)}function Ne(i){let s=[];return B.exports.Children.forEach(i,f=>{if(!B.exports.isValidElement(f))return;if(f.type===B.exports.Fragment){s.push.apply(s,Ne(f.props.children));return}f.type!==yn&&Q(!1);let u={caseSensitive:f.props.caseSensitive,element:f.props.element,index:f.props.index,path:f.props.path};f.props.children&&(u.children=Ne(f.props.children)),s.push(u)}),s}function En(i,s,f){f===void 0&&(f="/");let u=typeof s=="string"?te(s):s,l=it(u.pathname||"/",f);if(l==null)return null;let d=at(i);xn(d);let b=null;for(let g=0;b==null&&g<d.length;++g)b=Bn(d[g],l);return b}function at(i,s,f,u){return s===void 0&&(s=[]),f===void 0&&(f=[]),u===void 0&&(u=""),i.forEach((l,d)=>{let b={relativePath:l.path||"",caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};b.relativePath.startsWith("/")&&(b.relativePath.startsWith(u)||Q(!1),b.relativePath=b.relativePath.slice(u.length));let g=ee([u,b.relativePath]),S=f.concat(b);l.children&&l.children.length>0&&(l.index===!0&&Q(!1),at(l.children,s,S,g)),!(l.path==null&&!l.index)&&s.push({path:g,score:An(g,l.index),routesMeta:S})}),s}function xn(i){i.sort((s,f)=>s.score!==f.score?f.score-s.score:Dn(s.routesMeta.map(u=>u.childrenIndex),f.routesMeta.map(u=>u.childrenIndex)))}const Rn=/^:\w+$/,In=3,Pn=2,Nn=1,Cn=10,Tn=-2,rt=i=>i==="*";function An(i,s){let f=i.split("/"),u=f.length;return f.some(rt)&&(u+=Tn),s&&(u+=Pn),f.filter(l=>!rt(l)).reduce((l,d)=>l+(Rn.test(d)?In:d===""?Nn:Cn),u)}function Dn(i,s){return i.length===s.length&&i.slice(0,-1).every((u,l)=>u===s[l])?i[i.length-1]-s[s.length-1]:0}function Bn(i,s){let{routesMeta:f}=i,u={},l="/",d=[];for(let b=0;b<f.length;++b){let g=f[b],S=b===f.length-1,R=l==="/"?s:s.slice(l.length)||"/",C=On({path:g.relativePath,caseSensitive:g.caseSensitive,end:S},R);if(!C)return null;Object.assign(u,C.params);let m=g.route;d.push({params:u,pathname:ee([l,C.pathname]),pathnameBase:ut(ee([l,C.pathnameBase])),route:m}),C.pathnameBase!=="/"&&(l=ee([l,C.pathnameBase]))}return d}function Ln(i,s){return s===void 0&&(s=[]),i==null?null:i.reduceRight((f,u,l)=>B.exports.createElement(se.Provider,{children:u.route.element!==void 0?u.route.element:f,value:{outlet:f,matches:s.concat(i.slice(0,l+1))}}),null)}function On(i,s){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[f,u]=Fn(i.path,i.caseSensitive,i.end),l=s.match(f);if(!l)return null;let d=l[0],b=d.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:u.reduce((R,C,m)=>{if(C==="*"){let E=g[m]||"";b=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}return R[C]=$n(g[m]||""),R},{}),pathname:d,pathnameBase:b,pattern:i}}function Fn(i,s,f){s===void 0&&(s=!1),f===void 0&&(f=!0);let u=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(b,g)=>(u.push(g),"([^\\/]+)"));return i.endsWith("*")?(u.push("*"),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l+=f?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(l,s?void 0:"i"),u]}function $n(i,s){try{return decodeURIComponent(i)}catch{return i}}function Mn(i,s){s===void 0&&(s="/");let{pathname:f,search:u="",hash:l=""}=typeof i=="string"?te(i):i;return{pathname:f?f.startsWith("/")?f:Wn(f,s):s,search:Yn(u),hash:zn(l)}}function Wn(i,s){let f=s.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?f.length>1&&f.pop():l!=="."&&f.push(l)}),f.length>1?f.join("/"):"/"}function ot(i,s,f){let u=typeof i=="string"?te(i):i,l=i===""||u.pathname===""?"/":u.pathname,d;if(l==null)d=f;else{let g=s.length-1;if(l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),g-=1;u.pathname=S.join("/")}d=g>=0?s[g]:"/"}let b=Mn(u,d);return l&&l!=="/"&&l.endsWith("/")&&!b.pathname.endsWith("/")&&(b.pathname+="/"),b}function Un(i){return i===""||i.pathname===""?"/":typeof i=="string"?te(i).pathname:i.pathname}function it(i,s){if(s==="/")return i;if(!i.toLowerCase().startsWith(s.toLowerCase()))return null;let f=i.charAt(s.length);return f&&f!=="/"?null:i.slice(s.length)||"/"}const ee=i=>i.join("/").replace(/\/\/+/g,"/"),ut=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Yn=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,zn=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;/**
 * React Router DOM v6.2.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ye(){return ye=Object.assign||function(i){for(var s=1;s<arguments.length;s++){var f=arguments[s];for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(i[u]=f[u])}return i},ye.apply(this,arguments)}function ft(i,s){if(i==null)return{};var f={},u=Object.keys(i),l,d;for(d=0;d<u.length;d++)l=u[d],!(s.indexOf(l)>=0)&&(f[l]=i[l]);return f}const kn=["onClick","reloadDocument","replace","state","target","to"],Hn=["aria-current","caseSensitive","className","end","style","to","children"];function tr(i){let{basename:s,children:f,window:u}=i,l=B.exports.useRef();l.current==null&&(l.current=mn({window:u}));let d=l.current,[b,g]=B.exports.useState({action:d.action,location:d.location});return B.exports.useLayoutEffect(()=>d.listen(g),[d]),B.exports.createElement(bn,{basename:s,children:f,location:b.location,navigationType:b.action,navigator:d})}function Vn(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}const jn=B.exports.forwardRef(function(s,f){let{onClick:u,reloadDocument:l,replace:d=!1,state:b,target:g,to:S}=s,R=ft(s,kn),C=_n(S),m=Kn(S,{replace:d,state:b,target:g});function E(P){u&&u(P),!P.defaultPrevented&&!l&&m(P)}return B.exports.createElement("a",ye({},R,{href:C,onClick:E,ref:f,target:g}))}),nr=B.exports.forwardRef(function(s,f){let{"aria-current":u="page",caseSensitive:l=!1,className:d="",end:b=!1,style:g,to:S,children:R}=s,C=ft(s,Hn),m=le(),E=Ae(S),P=m.pathname,L=E.pathname;l||(P=P.toLowerCase(),L=L.toLowerCase());let W=P===L||!b&&P.startsWith(L)&&P.charAt(L.length)==="/",M=W?u:void 0,V;typeof d=="function"?V=d({isActive:W}):V=[d,W?"active":null].filter(Boolean).join(" ");let U=typeof g=="function"?g({isActive:W}):g;return B.exports.createElement(jn,ye({},C,{"aria-current":M,className:V,ref:f,style:U,to:S}),typeof R=="function"?R({isActive:W}):R)});function Kn(i,s){let{target:f,replace:u,state:l}=s===void 0?{}:s,d=wn(),b=le(),g=Ae(i);return B.exports.useCallback(S=>{if(S.button===0&&(!f||f==="_self")&&!Vn(S)){S.preventDefault();let R=!!u||fe(b)===fe(g);d(i,{replace:R,state:l})}},[b,d,g,u,l,f,i])}var st={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(i,s){(function(f){i.exports=f()})(function(){return function f(u,l,d){function b(R,C){if(!l[R]){if(!u[R]){var m=typeof me=="function"&&me;if(!C&&m)return m(R,!0);if(g)return g(R,!0);var E=new Error("Cannot find module '"+R+"'");throw E.code="MODULE_NOT_FOUND",E}var P=l[R]={exports:{}};u[R][0].call(P.exports,function(L){var W=u[R][1][L];return b(W||L)},P,P.exports,f,u,l,d)}return l[R].exports}for(var g=typeof me=="function"&&me,S=0;S<d.length;S++)b(d[S]);return b}({1:[function(f,u,l){(function(d){var b=d.MutationObserver||d.WebKitMutationObserver,g;if(b){var S=0,R=new b(L),C=d.document.createTextNode("");R.observe(C,{characterData:!0}),g=function(){C.data=S=++S%2}}else if(!d.setImmediate&&typeof d.MessageChannel!="undefined"){var m=new d.MessageChannel;m.port1.onmessage=L,g=function(){m.port2.postMessage(0)}}else"document"in d&&"onreadystatechange"in d.document.createElement("script")?g=function(){var M=d.document.createElement("script");M.onreadystatechange=function(){L(),M.onreadystatechange=null,M.parentNode.removeChild(M),M=null},d.document.documentElement.appendChild(M)}:g=function(){setTimeout(L,0)};var E,P=[];function L(){E=!0;for(var M,V,U=P.length;U;){for(V=P,P=[],M=-1;++M<U;)V[M]();U=P.length}E=!1}u.exports=W;function W(M){P.push(M)===1&&!E&&g()}}).call(this,typeof pe!="undefined"?pe:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(f,u,l){var d=f(1);function b(){}var g={},S=["REJECTED"],R=["FULFILLED"],C=["PENDING"];u.exports=m;function m(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=C,this.queue=[],this.outcome=void 0,_!==b&&W(this,_)}m.prototype.catch=function(_){return this.then(null,_)},m.prototype.then=function(_,A){if(typeof _!="function"&&this.state===R||typeof A!="function"&&this.state===S)return this;var N=new this.constructor(b);if(this.state!==C){var w=this.state===R?_:A;P(N,w,this.outcome)}else this.queue.push(new E(N,_,A));return N};function E(_,A,N){this.promise=_,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}E.prototype.callFulfilled=function(_){g.resolve(this.promise,_)},E.prototype.otherCallFulfilled=function(_){P(this.promise,this.onFulfilled,_)},E.prototype.callRejected=function(_){g.reject(this.promise,_)},E.prototype.otherCallRejected=function(_){P(this.promise,this.onRejected,_)};function P(_,A,N){d(function(){var w;try{w=A(N)}catch(I){return g.reject(_,I)}w===_?g.reject(_,new TypeError("Cannot resolve promise with itself")):g.resolve(_,w)})}g.resolve=function(_,A){var N=M(L,A);if(N.status==="error")return g.reject(_,N.value);var w=N.value;if(w)W(_,w);else{_.state=R,_.outcome=A;for(var I=-1,D=_.queue.length;++I<D;)_.queue[I].callFulfilled(A)}return _},g.reject=function(_,A){_.state=S,_.outcome=A;for(var N=-1,w=_.queue.length;++N<w;)_.queue[N].callRejected(A);return _};function L(_){var A=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof A=="function")return function(){A.apply(_,arguments)}}function W(_,A){var N=!1;function w(Y){N||(N=!0,g.reject(_,Y))}function I(Y){N||(N=!0,g.resolve(_,Y))}function D(){A(I,w)}var $=M(D);$.status==="error"&&w($.value)}function M(_,A){var N={};try{N.value=_(A),N.status="success"}catch(w){N.status="error",N.value=w}return N}m.resolve=V;function V(_){return _ instanceof this?_:g.resolve(new this(b),_)}m.reject=U;function U(_){var A=new this(b);return g.reject(A,_)}m.all=ne;function ne(_){var A=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=_.length,w=!1;if(!N)return this.resolve([]);for(var I=new Array(N),D=0,$=-1,Y=new this(b);++$<N;)H(_[$],$);return Y;function H(J,j){A.resolve(J).then(he,function(ae){w||(w=!0,g.reject(Y,ae))});function he(ae){I[j]=ae,++D===N&&!w&&(w=!0,g.resolve(Y,I))}}}m.race=G;function G(_){var A=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=_.length,w=!1;if(!N)return this.resolve([]);for(var I=-1,D=new this(b);++I<N;)$(_[I]);return D;function $(Y){A.resolve(Y).then(function(H){w||(w=!0,g.resolve(D,H))},function(H){w||(w=!0,g.reject(D,H))})}}},{"1":1}],3:[function(f,u,l){(function(d){typeof d.Promise!="function"&&(d.Promise=f(2))}).call(this,typeof pe!="undefined"?pe:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(f,u,l){var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function b(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function g(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var S=g();function R(){try{if(!S||!S.open)return!1;var e=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function C(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(r){if(r.name!=="TypeError")throw r;for(var t=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,a=new t,o=0;o<e.length;o+=1)a.append(e[o]);return a.getBlob(n.type)}}typeof Promise=="undefined"&&f(3);var m=Promise;function E(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function P(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function L(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function W(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var M="local-forage-detect-blob-support",V=void 0,U={},ne=Object.prototype.toString,G="readonly",_="readwrite";function A(e){for(var n=e.length,t=new ArrayBuffer(n),a=new Uint8Array(t),o=0;o<n;o++)a[o]=e.charCodeAt(o);return t}function N(e){return new m(function(n){var t=e.transaction(M,_),a=C([""]);t.objectStore(M).put(a,"key"),t.onabort=function(o){o.preventDefault(),o.stopPropagation(),n(!1)},t.oncomplete=function(){var o=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);n(r||!o||parseInt(o[1],10)>=43)}}).catch(function(){return!1})}function w(e){return typeof V=="boolean"?m.resolve(V):N(e).then(function(n){return V=n,V})}function I(e){var n=U[e.name],t={};t.promise=new m(function(a,o){t.resolve=a,t.reject=o}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function D(e){var n=U[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function $(e,n){var t=U[e.name],a=t.deferredOperations.pop();if(a)return a.reject(n),a.promise}function Y(e,n){return new m(function(t,a){if(U[e.name]=U[e.name]||Be(),e.db)if(n)I(e),e.db.close();else return t(e.db);var o=[e.name];n&&o.push(e.version);var r=S.open.apply(S,o);n&&(r.onupgradeneeded=function(c){var h=r.result;try{h.createObjectStore(e.storeName),c.oldVersion<=1&&h.createObjectStore(M)}catch(v){if(v.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+c.oldVersion+" to version "+c.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw v}}),r.onerror=function(c){c.preventDefault(),a(r.error)},r.onsuccess=function(){var c=r.result;c.onversionchange=function(h){h.target.close()},t(c),D(e)}})}function H(e){return Y(e,!1)}function J(e){return Y(e,!0)}function j(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),a=e.version<e.db.version,o=e.version>e.db.version;if(a&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||t){if(t){var r=e.db.version+1;r>e.version&&(e.version=r)}return!0}return!1}function he(e){return new m(function(n,t){var a=new FileReader;a.onerror=t,a.onloadend=function(o){var r=btoa(o.target.result||"");n({__local_forage_encoded_blob:!0,data:r,type:e.type})},a.readAsBinaryString(e)})}function ae(e){var n=A(atob(e.data));return C([n],{type:e.type})}function De(e){return e&&e.__local_forage_encoded_blob}function ct(e){var n=this,t=n._initReady().then(function(){var a=U[n._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return P(t,e,e),t}function lt(e){I(e);for(var n=U[e.name],t=n.forages,a=0;a<t.length;a++){var o=t[a];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,H(e).then(function(r){return e.db=r,j(e)?J(e):r}).then(function(r){e.db=n.db=r;for(var c=0;c<t.length;c++)t[c]._dbInfo.db=r}).catch(function(r){throw $(e,r),r})}function X(e,n,t,a){a===void 0&&(a=1);try{var o=e.db.transaction(e.storeName,n);t(null,o)}catch(r){if(a>0&&(!e.db||r.name==="InvalidStateError"||r.name==="NotFoundError"))return m.resolve().then(function(){if(!e.db||r.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),J(e)}).then(function(){return lt(e).then(function(){X(e,n,t,a-1)})}).catch(t);t(r)}}function Be(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ht(e){var n=this,t={db:null};if(e)for(var a in e)t[a]=e[a];var o=U[t.name];o||(o=Be(),U[t.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=ct);var r=[];function c(){return m.resolve()}for(var h=0;h<o.forages.length;h++){var v=o.forages[h];v!==n&&r.push(v._initReady().catch(c))}var p=o.forages.slice(0);return m.all(r).then(function(){return t.db=o.db,H(t)}).then(function(y){return t.db=y,j(t,n._defaultConfig.version)?J(t):y}).then(function(y){t.db=o.db=y,n._dbInfo=t;for(var x=0;x<p.length;x++){var T=p[x];T!==n&&(T._dbInfo.db=t.db,T._dbInfo.version=t.version)}})}function dt(e,n){var t=this;e=L(e);var a=new m(function(o,r){t.ready().then(function(){X(t._dbInfo,G,function(c,h){if(c)return r(c);try{var v=h.objectStore(t._dbInfo.storeName),p=v.get(e);p.onsuccess=function(){var y=p.result;y===void 0&&(y=null),De(y)&&(y=ae(y)),o(y)},p.onerror=function(){r(p.error)}}catch(y){r(y)}})}).catch(r)});return E(a,n),a}function vt(e,n){var t=this,a=new m(function(o,r){t.ready().then(function(){X(t._dbInfo,G,function(c,h){if(c)return r(c);try{var v=h.objectStore(t._dbInfo.storeName),p=v.openCursor(),y=1;p.onsuccess=function(){var x=p.result;if(x){var T=x.value;De(T)&&(T=ae(T));var O=e(T,x.key,y++);O!==void 0?o(O):x.continue()}else o()},p.onerror=function(){r(p.error)}}catch(x){r(x)}})}).catch(r)});return E(a,n),a}function pt(e,n,t){var a=this;e=L(e);var o=new m(function(r,c){var h;a.ready().then(function(){return h=a._dbInfo,ne.call(n)==="[object Blob]"?w(h.db).then(function(v){return v?n:he(n)}):n}).then(function(v){X(a._dbInfo,_,function(p,y){if(p)return c(p);try{var x=y.objectStore(a._dbInfo.storeName);v===null&&(v=void 0);var T=x.put(v,e);y.oncomplete=function(){v===void 0&&(v=null),r(v)},y.onabort=y.onerror=function(){var O=T.error?T.error:T.transaction.error;c(O)}}catch(O){c(O)}})}).catch(c)});return E(o,t),o}function mt(e,n){var t=this;e=L(e);var a=new m(function(o,r){t.ready().then(function(){X(t._dbInfo,_,function(c,h){if(c)return r(c);try{var v=h.objectStore(t._dbInfo.storeName),p=v.delete(e);h.oncomplete=function(){o()},h.onerror=function(){r(p.error)},h.onabort=function(){var y=p.error?p.error:p.transaction.error;r(y)}}catch(y){r(y)}})}).catch(r)});return E(a,n),a}function gt(e){var n=this,t=new m(function(a,o){n.ready().then(function(){X(n._dbInfo,_,function(r,c){if(r)return o(r);try{var h=c.objectStore(n._dbInfo.storeName),v=h.clear();c.oncomplete=function(){a()},c.onabort=c.onerror=function(){var p=v.error?v.error:v.transaction.error;o(p)}}catch(p){o(p)}})}).catch(o)});return E(t,e),t}function yt(e){var n=this,t=new m(function(a,o){n.ready().then(function(){X(n._dbInfo,G,function(r,c){if(r)return o(r);try{var h=c.objectStore(n._dbInfo.storeName),v=h.count();v.onsuccess=function(){a(v.result)},v.onerror=function(){o(v.error)}}catch(p){o(p)}})}).catch(o)});return E(t,e),t}function bt(e,n){var t=this,a=new m(function(o,r){if(e<0){o(null);return}t.ready().then(function(){X(t._dbInfo,G,function(c,h){if(c)return r(c);try{var v=h.objectStore(t._dbInfo.storeName),p=!1,y=v.openKeyCursor();y.onsuccess=function(){var x=y.result;if(!x){o(null);return}e===0||p?o(x.key):(p=!0,x.advance(e))},y.onerror=function(){r(y.error)}}catch(x){r(x)}})}).catch(r)});return E(a,n),a}function _t(e){var n=this,t=new m(function(a,o){n.ready().then(function(){X(n._dbInfo,G,function(r,c){if(r)return o(r);try{var h=c.objectStore(n._dbInfo.storeName),v=h.openKeyCursor(),p=[];v.onsuccess=function(){var y=v.result;if(!y){a(p);return}p.push(y.key),y.continue()},v.onerror=function(){o(v.error)}}catch(y){o(y)}})}).catch(o)});return E(t,e),t}function wt(e,n){n=W.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var a=this,o;if(!e.name)o=m.reject("Invalid arguments");else{var r=e.name===t.name&&a._dbInfo.db,c=r?m.resolve(a._dbInfo.db):H(e).then(function(h){var v=U[e.name],p=v.forages;v.db=h;for(var y=0;y<p.length;y++)p[y]._dbInfo.db=h;return h});e.storeName?o=c.then(function(h){if(!!h.objectStoreNames.contains(e.storeName)){var v=h.version+1;I(e);var p=U[e.name],y=p.forages;h.close();for(var x=0;x<y.length;x++){var T=y[x];T._dbInfo.db=null,T._dbInfo.version=v}var O=new m(function(F,k){var z=S.open(e.name,v);z.onerror=function(K){var ue=z.result;ue.close(),k(K)},z.onupgradeneeded=function(){var K=z.result;K.deleteObjectStore(e.storeName)},z.onsuccess=function(){var K=z.result;K.close(),F(K)}});return O.then(function(F){p.db=F;for(var k=0;k<y.length;k++){var z=y[k];z._dbInfo.db=F,D(z._dbInfo)}}).catch(function(F){throw($(e,F)||m.resolve()).catch(function(){}),F})}}):o=c.then(function(h){I(e);var v=U[e.name],p=v.forages;h.close();for(var y=0;y<p.length;y++){var x=p[y];x._dbInfo.db=null}var T=new m(function(O,F){var k=S.deleteDatabase(e.name);k.onerror=function(){var z=k.result;z&&z.close(),F(k.error)},k.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},k.onsuccess=function(){var z=k.result;z&&z.close(),O(z)}});return T.then(function(O){v.db=O;for(var F=0;F<p.length;F++){var k=p[F];D(k._dbInfo)}}).catch(function(O){throw($(e,O)||m.resolve()).catch(function(){}),O})})}return E(o,n),o}var St={_driver:"asyncStorage",_initStorage:ht,_support:R(),iterate:vt,getItem:dt,setItem:pt,removeItem:mt,clear:gt,length:yt,key:bt,keys:_t,dropInstance:wt};function Et(){return typeof openDatabase=="function"}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xt="~~local_forage_type~",Le=/^~~local_forage_type~([^~]+)~/,de="__lfsc__:",be=de.length,_e="arbf",we="blob",Oe="si08",Fe="ui08",$e="uic8",Me="si16",We="si32",Ue="ur16",Ye="ui32",ze="fl32",ke="fl64",He=be+_e.length,Ve=Object.prototype.toString;function je(e){var n=e.length*.75,t=e.length,a,o=0,r,c,h,v;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var p=new ArrayBuffer(n),y=new Uint8Array(p);for(a=0;a<t;a+=4)r=Z.indexOf(e[a]),c=Z.indexOf(e[a+1]),h=Z.indexOf(e[a+2]),v=Z.indexOf(e[a+3]),y[o++]=r<<2|c>>4,y[o++]=(c&15)<<4|h>>2,y[o++]=(h&3)<<6|v&63;return p}function Se(e){var n=new Uint8Array(e),t="",a;for(a=0;a<n.length;a+=3)t+=Z[n[a]>>2],t+=Z[(n[a]&3)<<4|n[a+1]>>4],t+=Z[(n[a+1]&15)<<2|n[a+2]>>6],t+=Z[n[a+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function Rt(e,n){var t="";if(e&&(t=Ve.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&Ve.call(e.buffer)==="[object ArrayBuffer]")){var a,o=de;e instanceof ArrayBuffer?(a=e,o+=_e):(a=e.buffer,t==="[object Int8Array]"?o+=Oe:t==="[object Uint8Array]"?o+=Fe:t==="[object Uint8ClampedArray]"?o+=$e:t==="[object Int16Array]"?o+=Me:t==="[object Uint16Array]"?o+=Ue:t==="[object Int32Array]"?o+=We:t==="[object Uint32Array]"?o+=Ye:t==="[object Float32Array]"?o+=ze:t==="[object Float64Array]"?o+=ke:n(new Error("Failed to get type for BinaryArray"))),n(o+Se(a))}else if(t==="[object Blob]"){var r=new FileReader;r.onload=function(){var c=xt+e.type+"~"+Se(this.result);n(de+we+c)},r.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(c){console.error("Couldn't convert value into a JSON string: ",e),n(null,c)}}function It(e){if(e.substring(0,be)!==de)return JSON.parse(e);var n=e.substring(He),t=e.substring(be,He),a;if(t===we&&Le.test(n)){var o=n.match(Le);a=o[1],n=n.substring(o[0].length)}var r=je(n);switch(t){case _e:return r;case we:return C([r],{type:a});case Oe:return new Int8Array(r);case Fe:return new Uint8Array(r);case $e:return new Uint8ClampedArray(r);case Me:return new Int16Array(r);case Ue:return new Uint16Array(r);case We:return new Int32Array(r);case Ye:return new Uint32Array(r);case ze:return new Float32Array(r);case ke:return new Float64Array(r);default:throw new Error("Unkown type: "+t)}}var Ee={serialize:Rt,deserialize:It,stringToBuffer:je,bufferToString:Se};function Ke(e,n,t,a){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,a)}function Pt(e){var n=this,t={db:null};if(e)for(var a in e)t[a]=typeof e[a]!="string"?e[a].toString():e[a];var o=new m(function(r,c){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(h){return c(h)}t.db.transaction(function(h){Ke(h,t,function(){n._dbInfo=t,r()},function(v,p){c(p)})},c)});return t.serializer=Ee,o}function q(e,n,t,a,o,r){e.executeSql(t,a,o,function(c,h){h.code===h.SYNTAX_ERR?c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(v,p){p.rows.length?r(v,h):Ke(v,n,function(){v.executeSql(t,a,o,r)},r)},r):r(c,h)},r)}function Nt(e,n){var t=this;e=L(e);var a=new m(function(o,r){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(h){q(h,c,"SELECT * FROM "+c.storeName+" WHERE key = ? LIMIT 1",[e],function(v,p){var y=p.rows.length?p.rows.item(0).value:null;y&&(y=c.serializer.deserialize(y)),o(y)},function(v,p){r(p)})})}).catch(r)});return E(a,n),a}function Ct(e,n){var t=this,a=new m(function(o,r){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(h){q(h,c,"SELECT * FROM "+c.storeName,[],function(v,p){for(var y=p.rows,x=y.length,T=0;T<x;T++){var O=y.item(T),F=O.value;if(F&&(F=c.serializer.deserialize(F)),F=e(F,O.key,T+1),F!==void 0){o(F);return}}o()},function(v,p){r(p)})})}).catch(r)});return E(a,n),a}function Je(e,n,t,a){var o=this;e=L(e);var r=new m(function(c,h){o.ready().then(function(){n===void 0&&(n=null);var v=n,p=o._dbInfo;p.serializer.serialize(n,function(y,x){x?h(x):p.db.transaction(function(T){q(T,p,"INSERT OR REPLACE INTO "+p.storeName+" (key, value) VALUES (?, ?)",[e,y],function(){c(v)},function(O,F){h(F)})},function(T){if(T.code===T.QUOTA_ERR){if(a>0){c(Je.apply(o,[e,v,t,a-1]));return}h(T)}})})}).catch(h)});return E(r,t),r}function Tt(e,n,t){return Je.apply(this,[e,n,t,1])}function At(e,n){var t=this;e=L(e);var a=new m(function(o,r){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(h){q(h,c,"DELETE FROM "+c.storeName+" WHERE key = ?",[e],function(){o()},function(v,p){r(p)})})}).catch(r)});return E(a,n),a}function Dt(e){var n=this,t=new m(function(a,o){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(c){q(c,r,"DELETE FROM "+r.storeName,[],function(){a()},function(h,v){o(v)})})}).catch(o)});return E(t,e),t}function Bt(e){var n=this,t=new m(function(a,o){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(c){q(c,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(h,v){var p=v.rows.item(0).c;a(p)},function(h,v){o(v)})})}).catch(o)});return E(t,e),t}function Lt(e,n){var t=this,a=new m(function(o,r){t.ready().then(function(){var c=t._dbInfo;c.db.transaction(function(h){q(h,c,"SELECT key FROM "+c.storeName+" WHERE id = ? LIMIT 1",[e+1],function(v,p){var y=p.rows.length?p.rows.item(0).key:null;o(y)},function(v,p){r(p)})})}).catch(r)});return E(a,n),a}function Ot(e){var n=this,t=new m(function(a,o){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(c){q(c,r,"SELECT key FROM "+r.storeName,[],function(h,v){for(var p=[],y=0;y<v.rows.length;y++)p.push(v.rows.item(y).key);a(p)},function(h,v){o(v)})})}).catch(o)});return E(t,e),t}function Ft(e){return new m(function(n,t){e.transaction(function(a){a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(o,r){for(var c=[],h=0;h<r.rows.length;h++)c.push(r.rows.item(h).name);n({db:e,storeNames:c})},function(o,r){t(r)})},function(a){t(a)})})}function $t(e,n){n=W.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var a=this,o;return e.name?o=new m(function(r){var c;e.name===t.name?c=a._dbInfo.db:c=openDatabase(e.name,"","",0),e.storeName?r({db:c,storeNames:[e.storeName]}):r(Ft(c))}).then(function(r){return new m(function(c,h){r.db.transaction(function(v){function p(O){return new m(function(F,k){v.executeSql("DROP TABLE IF EXISTS "+O,[],function(){F()},function(z,K){k(K)})})}for(var y=[],x=0,T=r.storeNames.length;x<T;x++)y.push(p(r.storeNames[x]));m.all(y).then(function(){c()}).catch(function(O){h(O)})},function(v){h(v)})})}):o=m.reject("Invalid arguments"),E(o,n),o}var Mt={_driver:"webSQLStorage",_initStorage:Pt,_support:Et(),iterate:Ct,getItem:Nt,setItem:Tt,removeItem:At,clear:Dt,length:Bt,key:Lt,keys:Ot,dropInstance:$t};function Wt(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ge(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Ut(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Yt(){return!Ut()||localStorage.length>0}function zt(e){var n=this,t={};if(e)for(var a in e)t[a]=e[a];return t.keyPrefix=Ge(e,n._defaultConfig),Yt()?(n._dbInfo=t,t.serializer=Ee,m.resolve()):m.reject()}function kt(e){var n=this,t=n.ready().then(function(){for(var a=n._dbInfo.keyPrefix,o=localStorage.length-1;o>=0;o--){var r=localStorage.key(o);r.indexOf(a)===0&&localStorage.removeItem(r)}});return E(t,e),t}function Ht(e,n){var t=this;e=L(e);var a=t.ready().then(function(){var o=t._dbInfo,r=localStorage.getItem(o.keyPrefix+e);return r&&(r=o.serializer.deserialize(r)),r});return E(a,n),a}function Vt(e,n){var t=this,a=t.ready().then(function(){for(var o=t._dbInfo,r=o.keyPrefix,c=r.length,h=localStorage.length,v=1,p=0;p<h;p++){var y=localStorage.key(p);if(y.indexOf(r)===0){var x=localStorage.getItem(y);if(x&&(x=o.serializer.deserialize(x)),x=e(x,y.substring(c),v++),x!==void 0)return x}}});return E(a,n),a}function jt(e,n){var t=this,a=t.ready().then(function(){var o=t._dbInfo,r;try{r=localStorage.key(e)}catch{r=null}return r&&(r=r.substring(o.keyPrefix.length)),r});return E(a,n),a}function Kt(e){var n=this,t=n.ready().then(function(){for(var a=n._dbInfo,o=localStorage.length,r=[],c=0;c<o;c++){var h=localStorage.key(c);h.indexOf(a.keyPrefix)===0&&r.push(h.substring(a.keyPrefix.length))}return r});return E(t,e),t}function Jt(e){var n=this,t=n.keys().then(function(a){return a.length});return E(t,e),t}function Gt(e,n){var t=this;e=L(e);var a=t.ready().then(function(){var o=t._dbInfo;localStorage.removeItem(o.keyPrefix+e)});return E(a,n),a}function Qt(e,n,t){var a=this;e=L(e);var o=a.ready().then(function(){n===void 0&&(n=null);var r=n;return new m(function(c,h){var v=a._dbInfo;v.serializer.serialize(n,function(p,y){if(y)h(y);else try{localStorage.setItem(v.keyPrefix+e,p),c(r)}catch(x){(x.name==="QuotaExceededError"||x.name==="NS_ERROR_DOM_QUOTA_REACHED")&&h(x),h(x)}})})});return E(o,t),o}function Xt(e,n){if(n=W.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var a=this,o;return e.name?o=new m(function(r){e.storeName?r(Ge(e,a._defaultConfig)):r(e.name+"/")}).then(function(r){for(var c=localStorage.length-1;c>=0;c--){var h=localStorage.key(c);h.indexOf(r)===0&&localStorage.removeItem(h)}}):o=m.reject("Invalid arguments"),E(o,n),o}var Zt={_driver:"localStorageWrapper",_initStorage:zt,_support:Wt(),iterate:Vt,getItem:Ht,setItem:Qt,removeItem:Gt,clear:kt,length:Jt,key:jt,keys:Kt,dropInstance:Xt},qt=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},en=function(n,t){for(var a=n.length,o=0;o<a;){if(qt(n[o],t))return!0;o++}return!1},Qe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},ie={},Xe={},oe={INDEXEDDB:St,WEBSQL:Mt,LOCALSTORAGE:Zt},tn=[oe.INDEXEDDB._driver,oe.WEBSQL._driver,oe.LOCALSTORAGE._driver],ve=["dropInstance"],xe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ve),nn={description:"",driver:tn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function rn(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function Re(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Qe(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var an=function(){function e(n){b(this,e);for(var t in oe)if(oe.hasOwnProperty(t)){var a=oe[t],o=a._driver;this[t]=o,ie[o]||this.defineDriver(a)}this._defaultConfig=Re({},nn),this._config=Re({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t=="undefined"?"undefined":d(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in t){if(a==="storeName"&&(t[a]=t[a].replace(/\W/g,"_")),a==="version"&&typeof t[a]!="number")return new Error("Database version must be a number.");this._config[a]=t[a]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,a,o){var r=new m(function(c,h){try{var v=t._driver,p=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){h(p);return}for(var y=xe.concat("_initStorage"),x=0,T=y.length;x<T;x++){var O=y[x],F=!en(ve,O);if((F||t[O])&&typeof t[O]!="function"){h(p);return}}var k=function(){for(var ue=function(fn){return function(){var sn=new Error("Method "+fn+" is not implemented by the current driver"),Ze=m.reject(sn);return E(Ze,arguments[arguments.length-1]),Ze}},Ie=0,un=ve.length;Ie<un;Ie++){var Pe=ve[Ie];t[Pe]||(t[Pe]=ue(Pe))}};k();var z=function(ue){ie[v]&&console.info("Redefining LocalForage driver: "+v),ie[v]=t,Xe[v]=ue,c()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(z,h):z(!!t._support):z(!0)}catch(K){h(K)}});return P(r,a,o),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,a,o){var r=ie[t]?m.resolve(ie[t]):m.reject(new Error("Driver not found."));return P(r,a,o),r},e.prototype.getSerializer=function(t){var a=m.resolve(Ee);return P(a,t),a},e.prototype.ready=function(t){var a=this,o=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return P(o,t,t),o},e.prototype.setDriver=function(t,a,o){var r=this;Qe(t)||(t=[t]);var c=this._getSupportedDrivers(t);function h(){r._config.driver=r.driver()}function v(x){return r._extend(x),h(),r._ready=r._initStorage(r._config),r._ready}function p(x){return function(){var T=0;function O(){for(;T<x.length;){var F=x[T];return T++,r._dbInfo=null,r._ready=null,r.getDriver(F).then(v).catch(O)}h();var k=new Error("No available storage method found.");return r._driverSet=m.reject(k),r._driverSet}return O()}}var y=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=y.then(function(){var x=c[0];return r._dbInfo=null,r._ready=null,r.getDriver(x).then(function(T){r._driver=T._driver,h(),r._wrapLibraryMethodsWithReady(),r._initDriver=p(c)})}).catch(function(){h();var x=new Error("No available storage method found.");return r._driverSet=m.reject(x),r._driverSet}),P(this._driverSet,a,o),this._driverSet},e.prototype.supports=function(t){return!!Xe[t]},e.prototype._extend=function(t){Re(this,t)},e.prototype._getSupportedDrivers=function(t){for(var a=[],o=0,r=t.length;o<r;o++){var c=t[o];this.supports(c)&&a.push(c)}return a},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,a=xe.length;t<a;t++)rn(this,xe[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),on=new an;u.exports=on},{"3":3}]},{},[4])(4)})})(st);var rr=st.exports;export{tr as H,nr as N,qn as R,yn as a,rr as l,Zn as t,er as u};
//# sourceMappingURL=localforage.d6d60220.js.map
