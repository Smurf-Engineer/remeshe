{"version":3,"file":"pagination.593fcf23.js","sources":["../../../node_modules/.pnpm/rxjs@7.5.5/node_modules/rxjs/dist/esm5/internal/operators/concatMap.js","../../../node_modules/.pnpm/rxjs@7.5.5/node_modules/rxjs/dist/esm5/internal/operators/exhaustMap.js","../../../packages/remesh/src/modules/async.ts","../../../projects/domains/src/others/github-users.ts","../../../projects/domains/src/others/pagination.ts","../../../projects/react-demos/src/others/pagination.tsx"],"sourcesContent":["import { mergeMap } from './mergeMap';\nimport { isFunction } from '../util/isFunction';\nexport function concatMap(project, resultSelector) {\n    return isFunction(resultSelector) ? mergeMap(project, resultSelector, 1) : mergeMap(project, 1);\n}\n//# sourceMappingURL=concatMap.js.map","import { map } from './map';\nimport { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function exhaustMap(project, resultSelector) {\n    if (resultSelector) {\n        return function (source) {\n            return source.pipe(exhaustMap(function (a, i) { return innerFrom(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); }));\n        };\n    }\n    return operate(function (source, subscriber) {\n        var index = 0;\n        var innerSub = null;\n        var isComplete = false;\n        source.subscribe(createOperatorSubscriber(subscriber, function (outerValue) {\n            if (!innerSub) {\n                innerSub = createOperatorSubscriber(subscriber, undefined, function () {\n                    innerSub = null;\n                    isComplete && subscriber.complete();\n                });\n                innerFrom(project(outerValue, index++)).subscribe(innerSub);\n            }\n        }, function () {\n            isComplete = true;\n            !innerSub && subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=exhaustMap.js.map","import { Observable } from 'rxjs'\nimport { concatMap, exhaustMap, mergeMap, switchMap, takeUntil } from 'rxjs/operators'\n\nimport {\n  Capitalize,\n  Remesh,\n  RemeshAction,\n  RemeshDomainContext,\n  RemeshEffectContext,\n  RemeshQueryContext,\n} from '../index'\n\nexport type DefaultAsyncData = {\n  type: 'default'\n}\n\nexport type LoadingAsyncData = {\n  type: 'loading'\n}\n\nexport type SuccessAsyncData<T> = {\n  type: 'success'\n  value: T\n}\n\nexport type FailedAsyncData = {\n  type: 'failed'\n  error: Error\n}\n\nexport type CanceledAsyncData = {\n  type: 'canceled'\n}\n\nexport type AsyncData<T> =\n  | DefaultAsyncData\n  | LoadingAsyncData\n  | SuccessAsyncData<T>\n  | FailedAsyncData\n  | CanceledAsyncData\n\nexport const AsyncData = {\n  default: (): DefaultAsyncData => {\n    return {\n      type: 'default',\n    }\n  },\n  loading: (): LoadingAsyncData => {\n    return {\n      type: 'loading',\n    }\n  },\n  success: <T>(value: T): SuccessAsyncData<T> => {\n    return {\n      type: 'success',\n      value,\n    }\n  },\n  failed: (error: Error): FailedAsyncData => {\n    return {\n      type: 'failed',\n      error,\n    }\n  },\n  canceled: (): CanceledAsyncData => {\n    return {\n      type: 'canceled',\n    }\n  },\n  isDefault: <T>(data: AsyncData<T>): data is DefaultAsyncData => {\n    return data.type === 'default'\n  },\n  isLoading: <T>(data: AsyncData<T>): data is LoadingAsyncData => {\n    return data.type === 'loading'\n  },\n  isSuccess: <T>(data: AsyncData<T>): data is SuccessAsyncData<T> => {\n    return data.type === 'success'\n  },\n  isFailed: <T>(data: AsyncData<T>): data is FailedAsyncData => {\n    return data.type === 'failed'\n  },\n  isCanceled: <T>(data: AsyncData<T>): data is CanceledAsyncData => {\n    return data.type === 'canceled'\n  },\n  assertDefault: <T>(data: AsyncData<T>): asserts data is DefaultAsyncData => {\n    if (data.type !== 'default') {\n      throw new Error(`Expected async data in default phase, but got '${data.type}'`)\n    }\n  },\n  assertLoading: <T>(data: AsyncData<T>): asserts data is LoadingAsyncData => {\n    if (data.type !== 'loading') {\n      throw new Error(`Expected async data in loading phase, but got '${data.type}'`)\n    }\n  },\n  assertSuccess: <T>(data: AsyncData<T>): asserts data is SuccessAsyncData<T> => {\n    if (data.type !== 'success') {\n      throw new Error(`Expected async data in success phase, but got '${data.type}'`)\n    }\n  },\n  assertFailed: <T>(data: AsyncData<T>): asserts data is FailedAsyncData => {\n    if (data.type !== 'failed') {\n      throw new Error(`Expected async data in failed phase, but got '${data.type}'`)\n    }\n  },\n  assertCanceled: <T>(data: AsyncData<T>): asserts data is CanceledAsyncData => {\n    if (data.type !== 'canceled') {\n      throw new Error(`Expected async data in canceled phase, but got '${data.type}'`)\n    }\n  },\n}\n\nexport type AsyncModuleContext = {\n  get: RemeshEffectContext['get']\n}\n\nexport type AsyncModuleOptions<T, U> = {\n  name: Capitalize\n  load: (context: RemeshQueryContext, arg: T) => Promise<U>\n  onLoading?: (context: AsyncModuleContext) => RemeshAction\n  onSuccess?: (context: AsyncModuleContext, value: U) => RemeshAction\n  onFailed?: (context: AsyncModuleContext, error: Error) => RemeshAction\n  onCanceled?: (context: AsyncModuleContext) => RemeshAction\n  onChanged?: (context: AsyncModuleContext, data: AsyncData<U>) => RemeshAction\n  default?: AsyncData<U>\n  mode?: 'switch' | 'merge' | 'concat' | 'exhaust'\n}\n\nexport const AsyncModule = <T, U>(domain: RemeshDomainContext, options: AsyncModuleOptions<T, U>) => {\n  const defaultValue: AsyncData<U> = 'default' in options && options.default ? options.default : AsyncData.default()\n\n  const AsyncDataState = domain.state<AsyncData<U>>({\n    name: `${options.name}.AsyncDataState`,\n    default: defaultValue,\n  })\n\n  const UpdateAsyncDataCommand = domain.command({\n    name: `${options.name}.UpdateAsyncDataCommand`,\n    impl: ({ get }, data: AsyncData<U>) => {\n      return [AsyncDataState().new(data), ChangedEvent(data), options.onChanged?.({ get }, data) ?? null]\n    },\n  })\n\n  const AsyncDataQuery = domain.query({\n    name: `${options.name}.AsyncDataQuery`,\n    impl: ({ get }) => {\n      return get(AsyncDataState())\n    },\n  })\n\n  const ArgPlaceholder = Symbol('arg')\n\n  const ArgState = domain.state<T | typeof ArgPlaceholder>({\n    name: `${options.name}.ArgState`,\n    inspectable: false,\n    default: ArgPlaceholder,\n  })\n\n  const LoadingEvent = domain.event({\n    name: `${options.name}.LoadingEvent`,\n  })\n\n  const SuccessEvent = domain.event<U>({\n    name: `${options.name}.SuccessEvent`,\n  })\n\n  const FailedEvent = domain.event<Error>({\n    name: `${options.name}.FailedEvent`,\n  })\n\n  const CanceledEvent = domain.event({\n    name: `${options.name}.CanceledEvent`,\n  })\n\n  const ChangedEvent = domain.event<AsyncData<U>>({\n    name: `${options.name}.ChangedEvent`,\n  })\n\n  const LoadCommand = domain.command({\n    name: `${options.name}.LoadCommand`,\n    impl: ({ get }, arg: T) => {\n      return [\n        ArgState().new(arg),\n        UpdateAsyncDataCommand(AsyncData.loading()),\n        LoadingEvent(),\n        options.onLoading?.({ get }) ?? null,\n      ]\n    },\n  })\n\n  const SuccessCommand = domain.command({\n    name: `${options.name}.SuccessCommand`,\n    impl: ({ get }, value: U) => {\n      const data = AsyncData.success(value)\n      return [UpdateAsyncDataCommand(data), SuccessEvent(value), options.onSuccess?.({ get }, value) ?? null]\n    },\n  })\n\n  const FailedCommand = domain.command({\n    name: `${options.name}.FailedCommand`,\n    impl: ({ get }, error: Error) => {\n      const data = AsyncData.failed(error)\n      return [UpdateAsyncDataCommand(data), FailedEvent(error), options.onFailed?.({ get }, error) ?? null]\n    },\n  })\n\n  const CancelCommand = domain.command({\n    name: `${options.name}.CancelCommand`,\n    impl: ({ get }) => {\n      const currentData = get(AsyncDataQuery())\n\n      if (!AsyncData.isLoading(currentData)) {\n        return null\n      }\n\n      const data = AsyncData.canceled()\n      return [UpdateAsyncDataCommand(data), CanceledEvent(), options.onCanceled?.({ get }) ?? null]\n    },\n  })\n\n  const ReloadCommand = domain.command({\n    name: `${options.name}.ReloadCommand`,\n    impl: ({ get }) => {\n      const arg = get(ArgState())\n\n      if (arg === ArgPlaceholder) {\n        return null\n      }\n\n      return [CancelCommand(), LoadCommand(arg)]\n    },\n  })\n\n  domain.effect({\n    name: `${options.name}.LoadEffect`,\n    impl: ({ get, fromCommand }) => {\n      const ctx: AsyncModuleContext = { get }\n\n      const handleArg = (arg: T) => {\n        return new Observable<RemeshAction>((subscriber) => {\n          let isUnsubscribed = false\n\n          const handleSuccess = (value: U) => {\n            if (!isUnsubscribed) {\n              subscriber.next(SuccessCommand(value))\n              subscriber.complete()\n            }\n          }\n\n          const handleFailed = (error: unknown) => {\n            if (!isUnsubscribed) {\n              subscriber.next(FailedCommand(error instanceof Error ? error : new Error(`${error}`)))\n              subscriber.complete()\n            }\n          }\n\n          try {\n            options.load(ctx, arg).then(handleSuccess, handleFailed)\n          } catch (error) {\n            handleFailed(error)\n          }\n\n          return () => {\n            isUnsubscribed = true\n          }\n        }).pipe(takeUntil(fromCommand(CancelCommand)))\n      }\n\n      if (!options.mode || options.mode === 'switch') {\n        return fromCommand(LoadCommand).pipe(switchMap((arg) => handleArg(arg)))\n      }\n\n      if (options.mode === 'concat') {\n        return fromCommand(LoadCommand).pipe(concatMap((arg) => handleArg(arg)))\n      }\n\n      if (options.mode === 'merge') {\n        return fromCommand(LoadCommand).pipe(mergeMap((arg) => handleArg(arg)))\n      }\n\n      if (options.mode === 'exhaust') {\n        return fromCommand(LoadCommand).pipe(exhaustMap((arg) => handleArg(arg)))\n      }\n\n      throw new Error(`RemeshAsyncModule: invalid mode: ${options.mode}`)\n    },\n  })\n\n  return Remesh.module({\n    query: {\n      AsyncDataQuery,\n    },\n    command: {\n      LoadCommand,\n      CancelCommand,\n      ReloadCommand,\n    },\n    event: {\n      CanceledEvent: CanceledEvent.toSubscribeOnlyEvent(),\n      LoadingEvent: LoadingEvent.toSubscribeOnlyEvent(),\n      SuccessEvent: SuccessEvent.toSubscribeOnlyEvent(),\n      FailedEvent: FailedEvent.toSubscribeOnlyEvent(),\n      ChangedEvent: ChangedEvent.toSubscribeOnlyEvent(),\n    },\n  })\n}\n","const delay = (ms: number) => new Promise<void>((resolve) => setTimeout(resolve, ms))\n\nconst fakeData = [\n  {\n    login: 'mojombo',\n    id: 1,\n    node_id: 'MDQ6VXNlcjE=',\n    avatar_url: 'https://avatars.githubusercontent.com/u/1?v=4',\n    gravatar_id: '',\n    url: 'https://api.github.com/users/mojombo',\n    html_url: 'https://github.com/mojombo',\n    followers_url: 'https://api.github.com/users/mojombo/followers',\n    following_url: 'https://api.github.com/users/mojombo/following{/other_user}',\n    gists_url: 'https://api.github.com/users/mojombo/gists{/gist_id}',\n    starred_url: 'https://api.github.com/users/mojombo/starred{/owner}{/repo}',\n    subscriptions_url: 'https://api.github.com/users/mojombo/subscriptions',\n    organizations_url: 'https://api.github.com/users/mojombo/orgs',\n    repos_url: 'https://api.github.com/users/mojombo/repos',\n    events_url: 'https://api.github.com/users/mojombo/events{/privacy}',\n    received_events_url: 'https://api.github.com/users/mojombo/received_events',\n    type: 'User',\n    site_admin: false,\n  },\n  {\n    login: 'defunkt',\n    id: 2,\n    node_id: 'MDQ6VXNlcjI=',\n    avatar_url: 'https://avatars.githubusercontent.com/u/2?v=4',\n    gravatar_id: '',\n    url: 'https://api.github.com/users/defunkt',\n    html_url: 'https://github.com/defunkt',\n    followers_url: 'https://api.github.com/users/defunkt/followers',\n    following_url: 'https://api.github.com/users/defunkt/following{/other_user}',\n    gists_url: 'https://api.github.com/users/defunkt/gists{/gist_id}',\n    starred_url: 'https://api.github.com/users/defunkt/starred{/owner}{/repo}',\n    subscriptions_url: 'https://api.github.com/users/defunkt/subscriptions',\n    organizations_url: 'https://api.github.com/users/defunkt/orgs',\n    repos_url: 'https://api.github.com/users/defunkt/repos',\n    events_url: 'https://api.github.com/users/defunkt/events{/privacy}',\n    received_events_url: 'https://api.github.com/users/defunkt/received_events',\n    type: 'User',\n    site_admin: false,\n  },\n  {\n    login: 'pjhyett',\n    id: 3,\n    node_id: 'MDQ6VXNlcjM=',\n    avatar_url: 'https://avatars.githubusercontent.com/u/3?v=4',\n    gravatar_id: '',\n    url: 'https://api.github.com/users/pjhyett',\n    html_url: 'https://github.com/pjhyett',\n    followers_url: 'https://api.github.com/users/pjhyett/followers',\n    following_url: 'https://api.github.com/users/pjhyett/following{/other_user}',\n    gists_url: 'https://api.github.com/users/pjhyett/gists{/gist_id}',\n    starred_url: 'https://api.github.com/users/pjhyett/starred{/owner}{/repo}',\n    subscriptions_url: 'https://api.github.com/users/pjhyett/subscriptions',\n    organizations_url: 'https://api.github.com/users/pjhyett/orgs',\n    repos_url: 'https://api.github.com/users/pjhyett/repos',\n    events_url: 'https://api.github.com/users/pjhyett/events{/privacy}',\n    received_events_url: 'https://api.github.com/users/pjhyett/received_events',\n    type: 'User',\n    site_admin: false,\n  },\n  {\n    login: 'wycats',\n    id: 4,\n    node_id: 'MDQ6VXNlcjQ=',\n    avatar_url: 'https://avatars.githubusercontent.com/u/4?v=4',\n    gravatar_id: '',\n    url: 'https://api.github.com/users/wycats',\n    html_url: 'https://github.com/wycats',\n    followers_url: 'https://api.github.com/users/wycats/followers',\n    following_url: 'https://api.github.com/users/wycats/following{/other_user}',\n    gists_url: 'https://api.github.com/users/wycats/gists{/gist_id}',\n    starred_url: 'https://api.github.com/users/wycats/starred{/owner}{/repo}',\n    subscriptions_url: 'https://api.github.com/users/wycats/subscriptions',\n    organizations_url: 'https://api.github.com/users/wycats/orgs',\n    repos_url: 'https://api.github.com/users/wycats/repos',\n    events_url: 'https://api.github.com/users/wycats/events{/privacy}',\n    received_events_url: 'https://api.github.com/users/wycats/received_events',\n    type: 'User',\n    site_admin: false,\n  },\n  {\n    login: 'ezmobius',\n    id: 5,\n    node_id: 'MDQ6VXNlcjU=',\n    avatar_url: 'https://avatars.githubusercontent.com/u/5?v=4',\n    gravatar_id: '',\n    url: 'https://api.github.com/users/ezmobius',\n    html_url: 'https://github.com/ezmobius',\n    followers_url: 'https://api.github.com/users/ezmobius/followers',\n    following_url: 'https://api.github.com/users/ezmobius/following{/other_user}',\n    gists_url: 'https://api.github.com/users/ezmobius/gists{/gist_id}',\n    starred_url: 'https://api.github.com/users/ezmobius/starred{/owner}{/repo}',\n    subscriptions_url: 'https://api.github.com/users/ezmobius/subscriptions',\n    organizations_url: 'https://api.github.com/users/ezmobius/orgs',\n    repos_url: 'https://api.github.com/users/ezmobius/repos',\n    events_url: 'https://api.github.com/users/ezmobius/events{/privacy}',\n    received_events_url: 'https://api.github.com/users/ezmobius/received_events',\n    type: 'User',\n    site_admin: false,\n  },\n  {\n    login: 'ivey',\n    id: 6,\n    node_id: 'MDQ6VXNlcjY=',\n    avatar_url: 'https://avatars.githubusercontent.com/u/6?v=4',\n    gravatar_id: '',\n    url: 'https://api.github.com/users/ivey',\n    html_url: 'https://github.com/ivey',\n    followers_url: 'https://api.github.com/users/ivey/followers',\n    following_url: 'https://api.github.com/users/ivey/following{/other_user}',\n    gists_url: 'https://api.github.com/users/ivey/gists{/gist_id}',\n    starred_url: 'https://api.github.com/users/ivey/starred{/owner}{/repo}',\n    subscriptions_url: 'https://api.github.com/users/ivey/subscriptions',\n    organizations_url: 'https://api.github.com/users/ivey/orgs',\n    repos_url: 'https://api.github.com/users/ivey/repos',\n    events_url: 'https://api.github.com/users/ivey/events{/privacy}',\n    received_events_url: 'https://api.github.com/users/ivey/received_events',\n    type: 'User',\n    site_admin: false,\n  },\n  {\n    login: 'evanphx',\n    id: 7,\n    node_id: 'MDQ6VXNlcjc=',\n    avatar_url: 'https://avatars.githubusercontent.com/u/7?v=4',\n    gravatar_id: '',\n    url: 'https://api.github.com/users/evanphx',\n    html_url: 'https://github.com/evanphx',\n    followers_url: 'https://api.github.com/users/evanphx/followers',\n    following_url: 'https://api.github.com/users/evanphx/following{/other_user}',\n    gists_url: 'https://api.github.com/users/evanphx/gists{/gist_id}',\n    starred_url: 'https://api.github.com/users/evanphx/starred{/owner}{/repo}',\n    subscriptions_url: 'https://api.github.com/users/evanphx/subscriptions',\n    organizations_url: 'https://api.github.com/users/evanphx/orgs',\n    repos_url: 'https://api.github.com/users/evanphx/repos',\n    events_url: 'https://api.github.com/users/evanphx/events{/privacy}',\n    received_events_url: 'https://api.github.com/users/evanphx/received_events',\n    type: 'User',\n    site_admin: false,\n  },\n  {\n    login: 'vanpelt',\n    id: 17,\n    node_id: 'MDQ6VXNlcjE3',\n    avatar_url: 'https://avatars.githubusercontent.com/u/17?v=4',\n    gravatar_id: '',\n    url: 'https://api.github.com/users/vanpelt',\n    html_url: 'https://github.com/vanpelt',\n    followers_url: 'https://api.github.com/users/vanpelt/followers',\n    following_url: 'https://api.github.com/users/vanpelt/following{/other_user}',\n    gists_url: 'https://api.github.com/users/vanpelt/gists{/gist_id}',\n    starred_url: 'https://api.github.com/users/vanpelt/starred{/owner}{/repo}',\n    subscriptions_url: 'https://api.github.com/users/vanpelt/subscriptions',\n    organizations_url: 'https://api.github.com/users/vanpelt/orgs',\n    repos_url: 'https://api.github.com/users/vanpelt/repos',\n    events_url: 'https://api.github.com/users/vanpelt/events{/privacy}',\n    received_events_url: 'https://api.github.com/users/vanpelt/received_events',\n    type: 'User',\n    site_admin: false,\n  },\n  {\n    login: 'wayneeseguin',\n    id: 18,\n    node_id: 'MDQ6VXNlcjE4',\n    avatar_url: 'https://avatars.githubusercontent.com/u/18?v=4',\n    gravatar_id: '',\n    url: 'https://api.github.com/users/wayneeseguin',\n    html_url: 'https://github.com/wayneeseguin',\n    followers_url: 'https://api.github.com/users/wayneeseguin/followers',\n    following_url: 'https://api.github.com/users/wayneeseguin/following{/other_user}',\n    gists_url: 'https://api.github.com/users/wayneeseguin/gists{/gist_id}',\n    starred_url: 'https://api.github.com/users/wayneeseguin/starred{/owner}{/repo}',\n    subscriptions_url: 'https://api.github.com/users/wayneeseguin/subscriptions',\n    organizations_url: 'https://api.github.com/users/wayneeseguin/orgs',\n    repos_url: 'https://api.github.com/users/wayneeseguin/repos',\n    events_url: 'https://api.github.com/users/wayneeseguin/events{/privacy}',\n    received_events_url: 'https://api.github.com/users/wayneeseguin/received_events',\n    type: 'User',\n    site_admin: false,\n  },\n  {\n    login: 'brynary',\n    id: 19,\n    node_id: 'MDQ6VXNlcjE5',\n    avatar_url: 'https://avatars.githubusercontent.com/u/19?v=4',\n    gravatar_id: '',\n    url: 'https://api.github.com/users/brynary',\n    html_url: 'https://github.com/brynary',\n    followers_url: 'https://api.github.com/users/brynary/followers',\n    following_url: 'https://api.github.com/users/brynary/following{/other_user}',\n    gists_url: 'https://api.github.com/users/brynary/gists{/gist_id}',\n    starred_url: 'https://api.github.com/users/brynary/starred{/owner}{/repo}',\n    subscriptions_url: 'https://api.github.com/users/brynary/subscriptions',\n    organizations_url: 'https://api.github.com/users/brynary/orgs',\n    repos_url: 'https://api.github.com/users/brynary/repos',\n    events_url: 'https://api.github.com/users/brynary/events{/privacy}',\n    received_events_url: 'https://api.github.com/users/brynary/received_events',\n    type: 'User',\n    site_admin: false,\n  },\n]\n\nexport type User = typeof fakeData[number]\n\nexport type UserList = User[]\n\nlet fakeUid = 1000000\n\nexport type Pagination = {\n  offset: number\n  pageSize: number\n}\n\nexport const getFakeUserList = async (_pagination: Pagination): Promise<UserList> => {\n  await delay(500)\n  return fakeData.map((data) => {\n    return {\n      ...data,\n      id: fakeUid++,\n    }\n  })\n}\n\nlet hasError = false\nexport const getUserList = async (pagination: Pagination): Promise<UserList> => {\n  if (hasError) {\n    return getFakeUserList(pagination)\n  }\n\n  try {\n    const response = await fetch(\n      `https://api.github.com/users?since=${pagination.offset}&per_page=${pagination.pageSize}`,\n    )\n    if (!response.ok) {\n      throw new Error(response.statusText)\n    }\n    const json = await response.json()\n    return json\n  } catch (e) {\n    hasError = true\n    return getFakeUserList(pagination)\n  }\n}\n","import { Remesh } from 'remesh'\nimport { AsyncModule, AsyncData } from 'remesh/modules/async'\n\nimport { Pagination, UserList, getUserList } from './github-users'\n\nexport const PaginationDomain = Remesh.domain({\n  name: 'PaginationDomain',\n  impl: (domain) => {\n    const defaultPagination: Pagination = {\n      offset: 0,\n      pageSize: 10,\n    }\n\n    const PaginationState = domain.state({\n      name: 'PaginationState',\n      default: defaultPagination,\n    })\n\n    const UserListState = domain.state<UserList>({\n      name: 'UserListState',\n      default: [],\n    })\n\n    const UserListQuery = domain.query({\n      name: 'UserListQuery',\n      impl: ({ get }) => {\n        return get(UserListState())\n      },\n    })\n\n    const IsEmptyUserListQuery = domain.query({\n      name: 'IsEmptyUserListQuery',\n      impl: ({ get }) => {\n        const userList = get(UserListQuery())\n        return userList.length === 0\n      },\n    })\n\n    const NextPaginationQuery = domain.query({\n      name: 'NextPaginationQuery',\n      impl: ({ get }) => {\n        const pagination = get(PaginationState())\n        const userList = get(UserListQuery())\n\n        if (userList.length === 0) {\n          return pagination\n        }\n\n        const lastUser = userList[userList.length - 1]\n\n        const nextPagination = {\n          ...pagination,\n          offset: lastUser.id + 1,\n        }\n\n        return nextPagination\n      },\n    })\n\n    const SetPaginationCommand = domain.command({\n      name: 'SetPaginationCommand',\n      impl: ({ get }, pagination: Pagination) => {\n        return PaginationState().new(pagination)\n      },\n    })\n\n    const SetUserListCommand = domain.command({\n      name: 'SetUserListCommand',\n      impl: ({ get }, userList: UserList) => {\n        return UserListState().new(userList)\n      },\n    })\n\n    const UserFetcher = AsyncModule<Pagination, UserList>(domain, {\n      name: 'UserFetcher',\n      load: async ({}, pagination) => {\n        const newUserList = await getUserList(pagination)\n        return newUserList\n      },\n      onSuccess: ({ get }, result) => {\n        const nextPagination = get(NextPaginationQuery())\n        const currentUserList = get(UserListState())\n\n        return [SetPaginationCommand(nextPagination), SetUserListCommand([...currentUserList, ...result])]\n      },\n    })\n\n    domain.effect({\n      name: 'UserFetcherEffect',\n      impl: ({}) => {\n        return [UserFetcher.command.LoadCommand(defaultPagination)]\n      },\n    })\n\n    const LoadMoreCommand = domain.command({\n      name: 'LoadMoreCommand',\n      impl: ({ get }) => {\n        const nextPagination = get(NextPaginationQuery())\n        return UserFetcher.command.LoadCommand(nextPagination)\n      },\n    })\n\n    const ResetCommand = domain.command({\n      name: 'ResetCommand',\n      impl: ({}) => {\n        return [SetPaginationCommand(defaultPagination), SetUserListCommand([]), LoadMoreCommand()]\n      },\n    })\n\n    return {\n      query: {\n        UserListQuery,\n        IsEmptyUserListQuery,\n        AsyncDataQuery: UserFetcher.query.AsyncDataQuery,\n      },\n      command: {\n        LoadMoreCommand: LoadMoreCommand,\n        ResetCommand: ResetCommand,\n      },\n      event: {\n        LoadingUsersEvent: UserFetcher.event.LoadingEvent,\n        SuccessToLoadUsersEvent: UserFetcher.event.SuccessEvent,\n        FailedToLoadUsersEvent: UserFetcher.event.FailedEvent,\n      },\n    }\n  },\n})\n","import { useRemeshDomain, useRemeshQuery, useRemeshSend } from 'remesh-react'\n\nimport { PaginationDomain } from 'remesh-domains-for-demos/dist/others/pagination'\nimport { AsyncData } from 'remesh/modules/async'\n\nexport default () => {\n  const paginationDomain = useRemeshDomain(PaginationDomain())\n  const isEmptyUserList = useRemeshQuery(paginationDomain.query.IsEmptyUserListQuery())\n\n  return (\n    <div>\n      <h2>Pagination</h2>\n      {isEmptyUserList ? 'loading...' : <UserListView />}\n    </div>\n  )\n}\n\nconst UserListView = () => {\n  const send = useRemeshSend()\n  const paginationDomain = useRemeshDomain(PaginationDomain())\n\n  const asyncData = useRemeshQuery(paginationDomain.query.AsyncDataQuery())\n\n  const isLoading = AsyncData.isLoading(asyncData)\n\n  const handleRest = () => {\n    send(paginationDomain.command.ResetCommand())\n  }\n\n  const handleLoadMore = () => {\n    send(paginationDomain.command.LoadMoreCommand())\n  }\n\n  return (\n    <>\n      <div>\n        <button onClick={handleRest}>reset</button>\n      </div>\n      <UserListContent />\n      <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around' }}>\n        {!isLoading && <button onClick={handleLoadMore}>load more</button>}\n        {isLoading && 'loading...'}\n      </div>\n    </>\n  )\n}\n\nconst UserListContent = () => {\n  const paginationDomain = useRemeshDomain(PaginationDomain())\n\n  const userList = useRemeshQuery(paginationDomain.query.UserListQuery())\n\n  return (\n    <div style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-around' }}>\n      {userList.map((user) => {\n        return (\n          <div style={{ width: 100, margin: 10 }} key={user.id}>\n            <img style={{ width: 100, height: 100 }} src={user.avatar_url} loading=\"lazy\" />\n            <p>\n              <a href={user.html_url}>{user.login}</a>\n            </p>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n"],"names":["paginationDomain","useRemeshDomain","PaginationDomain","isEmptyUserList","useRemeshQuery","query","IsEmptyUserListQuery","_jsx","UserListView","send","useRemeshSend","asyncData","AsyncDataQuery","isLoading","AsyncData","_Fragment","command","ResetCommand","display","flexWrap","justifyContent","LoadMoreCommand","UserListContent","userList","UserListQuery","map","user","width","margin","height","avatar_url","html_url","login","id"],"mappings":"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"}