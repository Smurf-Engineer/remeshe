var zt=Object.defineProperty,Ht=Object.defineProperties;var Yt=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var Xe=(n,r,e)=>r in n?zt(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e,D=(n,r)=>{for(var e in r||(r={}))Ze.call(r,e)&&Xe(n,e,r[e]);if(J)for(var e of J(r))qe.call(r,e)&&Xe(n,e,r[e]);return n},x=(n,r)=>Ht(n,Yt(r));var Be=(n,r)=>{var e={};for(var o in n)Ze.call(n,o)&&r.indexOf(o)<0&&(e[o]=n[o]);if(n!=null&&J)for(var o of J(n))r.indexOf(o)<0&&qe.call(n,o)&&(e[o]=n[o]);return e};import{r as I,a as Jt}from"./jsx-runtime.a8396eb8.js";var et=function(r,e,o,i){var a=o?o.call(i,r,e):void 0;if(a!==void 0)return!!a;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;var d=Object.keys(r),y=Object.keys(e);if(d.length!==y.length)return!1;for(var S=Object.prototype.hasOwnProperty.bind(e),l=0;l<d.length;l++){var c=d[l];if(!S(c))return!1;var m=r[c],p=e[c];if(a=o?o.call(i,m,p,c):void 0,a===!1||a===void 0&&m!==p)return!1}return!0};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function tt(n){return Object.prototype.toString.call(n)==="[object Object]"}function nt(n){var r,e;return tt(n)===!1?!1:(r=n.constructor,r===void 0?!0:(e=r.prototype,!(tt(e)===!1||e.hasOwnProperty("isPrototypeOf")===!1)))}const O=Symbol("RemeshValuePlaceholder");let Gt=0;function Xt(n){var o;const r=Gt++,e=i=>({type:"RemeshEventPayload",arg:i,Event:e});return e.type="RemeshEvent",e.eventId=r,e.eventName=n.name,e.owner=z(),e.inspectable="inspectable"in n&&(o=n.inspectable)!=null?o:!0,"impl"in n&&(e.impl=n.impl),e}const Zt=n=>te({name:n.name,impl:()=>n.default,inspectable:n.inspectable,compare:n.compare}),qt=n=>te({name:n.name,defer:!0,impl:(...r)=>{throw new Error(`RemeshDeferState: use ${n.name} before setting state`)},inspectable:n.inspectable,compare:n.compare});let Bt=0;const ct=(n,r)=>nt(n)&&nt(r)||Array.isArray(n)&&Array.isArray(r)?et(n,r):n===r,te=n=>{var i,a,d;const r=Bt++;let e=null;const o=y=>{if(y===void 0&&e)return e;const S={type:"RemeshStateItem",arg:y,State:o,new:l=>({type:"RemeshStateSetterPayload",stateItem:S,newState:l})};return y===void 0&&(e=S),S};return o.type="RemeshState",o.stateId=r,o.stateName=n.name,o.impl=n.impl,o.compare=(i=n.compare)!=null?i:ct,o.owner=z(),o.inspectable=(a=n.inspectable)!=null?a:!0,o.defer=(d=n.defer)!=null?d:!1,o};let en=0;const ut=n=>{var i,a;const r=en++;let e=null;const o=d=>{if(d===void 0&&e)return e;const y={type:"RemeshQueryPayload",Query:o,arg:d};return d===void 0&&(e=y),y};return o.type="RemeshQuery",o.queryId=r,o.queryName=n.name,o.impl=n.impl,o.compare=(i=n.compare)!=null?i:ct,o.owner=z(),o.inspectable=(a=n.inspectable)!=null?a:!0,o};let tn=0;const mt=n=>{var o;const r=tn++,e=i=>({type:"RemeshCommandPayload",arg:i,Command:e});return e.type="RemeshCommand",e.commandId=r,e.commandName=n.name,e.impl=n.impl,e.owner=z(),e.inspectable=(o=n.inspectable)!=null?o:!0,e};let nn=0;const dt=n=>{var o;const r=nn++,e=i=>({type:"RemeshCommand$Payload",arg:i,Command$:e});return e.type="RemeshCommand$",e.command$Id=r,e.command$Name=n.name,e.impl=n.impl,e.owner=z(),e.inspectable=(o=n.inspectable)!=null?o:!0,e};let rn=0;const on=n=>{const r={type:"RemeshExtern",externName:n.name,externId:rn++,default:n.default,impl:e=>({type:"RemeshExternPayload",Extern:r,value:e})};return r},sn=n=>n;let an=0;const fe=n=>{var o;let r=null;const e=i=>{if(i===void 0&&r)return r;const a={type:"RemeshDomainPayload",Domain:e,arg:i};return i===void 0&&(r=a),a};return e.type="RemeshDomain",e.domainId=an++,e.domainName=n.name,e.impl=n.impl,e.inspectable=(o=n.inspectable)!=null?o:!0,e},z=fe({name:"DefaultDomain",impl:()=>({})});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ue=function(n,r){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])},ue(n,r)};function ne(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");ue(n,r);function e(){this.constructor=n}n.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}function Fn(n,r,e,o){function i(a){return a instanceof e?a:new e(function(d){d(a)})}return new(e||(e=Promise))(function(a,d){function y(c){try{l(o.next(c))}catch(m){d(m)}}function S(c){try{l(o.throw(c))}catch(m){d(m)}}function l(c){c.done?a(c.value):i(c.value).then(y,S)}l((o=o.apply(n,r||[])).next())})}function Wn(n,r){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,i,a,d;return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(l){return function(c){return S([l,c])}}function S(l){if(o)throw new TypeError("Generator is already executing.");for(;e;)try{if(o=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){e.label=l[1];break}if(l[0]===6&&e.label<a[1]){e.label=a[1],a=l;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(l);break}a[2]&&e.ops.pop(),e.trys.pop();continue}l=r.call(n,e)}catch(c){l=[6,c],i=0}finally{o=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function K(n){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&n[r],o=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(n,r){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var o=e.call(n),i,a=[],d;try{for(;(r===void 0||r-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(y){d={error:y}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(d)throw d.error}}return a}function q(n,r,e){if(e||arguments.length===2)for(var o=0,i=r.length,a;o<i;o++)(a||!(o in r))&&(a||(a=Array.prototype.slice.call(r,0,o)),a[o]=r[o]);return n.concat(a||Array.prototype.slice.call(r))}function me(n){return this instanceof me?(this.v=n,this):new me(n)}function Ln(n,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=e.apply(n,r||[]),i,a=[];return i={},d("next"),d("throw"),d("return"),i[Symbol.asyncIterator]=function(){return this},i;function d(p){o[p]&&(i[p]=function(E){return new Promise(function(R,k){a.push([p,E,R,k])>1||y(p,E)})})}function y(p,E){try{S(o[p](E))}catch(R){m(a[0][3],R)}}function S(p){p.value instanceof me?Promise.resolve(p.value.v).then(l,c):m(a[0][2],p)}function l(p){y("next",p)}function c(p){y("throw",p)}function m(p,E){p(E),a.shift(),a.length&&y(a[0][0],a[0][1])}}function Kn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],e;return r?r.call(n):(n=typeof K=="function"?K(n):n[Symbol.iterator](),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(a){e[a]=n[a]&&function(d){return new Promise(function(y,S){d=n[a](d),i(y,S,d.done,d.value)})}}function i(a,d,y,S){Promise.resolve(S).then(function(l){a({value:l,done:y})},d)}}function N(n){return typeof n=="function"}function lt(n){var r=function(o){Error.call(o),o.stack=new Error().stack},e=n(r);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var se=lt(function(n){return function(e){n(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(o,i){return i+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function de(n,r){if(n){var e=n.indexOf(r);0<=e&&n.splice(e,1)}}var H=function(){function n(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var r,e,o,i,a;if(!this.closed){this.closed=!0;var d=this._parentage;if(d)if(this._parentage=null,Array.isArray(d))try{for(var y=K(d),S=y.next();!S.done;S=y.next()){var l=S.value;l.remove(this)}}catch(k){r={error:k}}finally{try{S&&!S.done&&(e=y.return)&&e.call(y)}finally{if(r)throw r.error}}else d.remove(this);var c=this.initialTeardown;if(N(c))try{c()}catch(k){a=k instanceof se?k.errors:[k]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var p=K(m),E=p.next();!E.done;E=p.next()){var R=E.value;try{rt(R)}catch(k){a=a!=null?a:[],k instanceof se?a=q(q([],Z(a)),Z(k.errors)):a.push(k)}}}catch(k){o={error:k}}finally{try{E&&!E.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}}if(a)throw new se(a)}},n.prototype.add=function(r){var e;if(r&&r!==this)if(this.closed)rt(r);else{if(r instanceof n){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(r)}},n.prototype._hasParent=function(r){var e=this._parentage;return e===r||Array.isArray(e)&&e.includes(r)},n.prototype._addParent=function(r){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(r),e):e?[e,r]:r},n.prototype._removeParent=function(r){var e=this._parentage;e===r?this._parentage=null:Array.isArray(e)&&de(e,r)},n.prototype.remove=function(r){var e=this._finalizers;e&&de(e,r),r instanceof n&&r._removeParent(this)},n.EMPTY=function(){var r=new n;return r.closed=!0,r}(),n}(),ft=H.EMPTY;function pt(n){return n instanceof H||n&&"closed"in n&&N(n.remove)&&N(n.add)&&N(n.unsubscribe)}function rt(n){N(n)?n():n.unsubscribe()}var re={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},B={setTimeout:function(n,r){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];var i=B.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,q([n,r],Z(e))):setTimeout.apply(void 0,q([n,r],Z(e)))},clearTimeout:function(n){var r=B.delegate;return((r==null?void 0:r.clearTimeout)||clearTimeout)(n)},delegate:void 0};function cn(n){B.setTimeout(function(){var r=re.onUnhandledError;if(r)r(n);else throw n})}function ot(){}var un=function(){return pe("C",void 0,void 0)}();function mn(n){return pe("E",void 0,n)}function dn(n){return pe("N",n,void 0)}function pe(n,r,e){return{kind:n,value:r,error:e}}function X(n){n()}var yt=function(n){ne(r,n);function r(e){var o=n.call(this)||this;return o.isStopped=!1,e?(o.destination=e,pt(e)&&e.add(o)):o.destination=yn,o}return r.create=function(e,o,i){return new le(e,o,i)},r.prototype.next=function(e){this.isStopped?ie(dn(e),this):this._next(e)},r.prototype.error=function(e){this.isStopped?ie(mn(e),this):(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped?ie(un,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(H),ln=Function.prototype.bind;function ae(n,r){return ln.call(n,r)}var fn=function(){function n(r){this.partialObserver=r}return n.prototype.next=function(r){var e=this.partialObserver;if(e.next)try{e.next(r)}catch(o){G(o)}},n.prototype.error=function(r){var e=this.partialObserver;if(e.error)try{e.error(r)}catch(o){G(o)}else G(r)},n.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(e){G(e)}},n}(),le=function(n){ne(r,n);function r(e,o,i){var a=n.call(this)||this,d;if(N(e)||!e)d={next:e!=null?e:void 0,error:o!=null?o:void 0,complete:i!=null?i:void 0};else{var y;a&&re.useDeprecatedNextContext?(y=Object.create(e),y.unsubscribe=function(){return a.unsubscribe()},d={next:e.next&&ae(e.next,y),error:e.error&&ae(e.error,y),complete:e.complete&&ae(e.complete,y)}):d=e}return a.destination=new fn(d),a}return r}(yt);function G(n){cn(n)}function pn(n){throw n}function ie(n,r){var e=re.onStoppedNotification;e&&B.setTimeout(function(){return e(n,r)})}var yn={closed:!0,next:ot,error:pn,complete:ot},hn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function vn(n){return n}function Sn(n){return n.length===0?vn:n.length===1?n[0]:function(e){return n.reduce(function(o,i){return i(o)},e)}}var ee=function(){function n(r){r&&(this._subscribe=r)}return n.prototype.lift=function(r){var e=new n;return e.source=this,e.operator=r,e},n.prototype.subscribe=function(r,e,o){var i=this,a=bn(r)?r:new le(r,e,o);return X(function(){var d=i,y=d.operator,S=d.source;a.add(y?y.call(a,S):S?i._subscribe(a):i._trySubscribe(a))}),a},n.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){r.error(e)}},n.prototype.forEach=function(r,e){var o=this;return e=st(e),new e(function(i,a){var d=new le({next:function(y){try{r(y)}catch(S){a(S),d.unsubscribe()}},error:a,complete:i});o.subscribe(d)})},n.prototype._subscribe=function(r){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(r)},n.prototype[hn]=function(){return this},n.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Sn(r)(this)},n.prototype.toPromise=function(r){var e=this;return r=st(r),new r(function(o,i){var a;e.subscribe(function(d){return a=d},function(d){return i(d)},function(){return o(a)})})},n.create=function(r){return new n(r)},n}();function st(n){var r;return(r=n!=null?n:re.Promise)!==null&&r!==void 0?r:Promise}function gn(n){return n&&N(n.next)&&N(n.error)&&N(n.complete)}function bn(n){return n&&n instanceof yt||gn(n)&&pt(n)}var wn=lt(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),L=function(n){ne(r,n);function r(){var e=n.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.prototype.lift=function(e){var o=new at(this,this);return o.operator=e,o},r.prototype._throwIfClosed=function(){if(this.closed)throw new wn},r.prototype.next=function(e){var o=this;X(function(){var i,a;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var d=K(o.currentObservers),y=d.next();!y.done;y=d.next()){var S=y.value;S.next(e)}}catch(l){i={error:l}}finally{try{y&&!y.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}})},r.prototype.error=function(e){var o=this;X(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=e;for(var i=o.observers;i.length;)i.shift().error(e)}})},r.prototype.complete=function(){var e=this;X(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var o=e.observers;o.length;)o.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(e){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,e)},r.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},r.prototype._innerSubscribe=function(e){var o=this,i=this,a=i.hasError,d=i.isStopped,y=i.observers;return a||d?ft:(this.currentObservers=null,y.push(e),new H(function(){o.currentObservers=null,de(y,e)}))},r.prototype._checkFinalizedStatuses=function(e){var o=this,i=o.hasError,a=o.thrownError,d=o.isStopped;i?e.error(a):d&&e.complete()},r.prototype.asObservable=function(){var e=new ee;return e.source=this,e},r.create=function(e,o){return new at(e,o)},r}(ee),at=function(n){ne(r,n);function r(e,o){var i=n.call(this)||this;return i.destination=e,i.source=o,i}return r.prototype.next=function(e){var o,i;(i=(o=this.destination)===null||o===void 0?void 0:o.next)===null||i===void 0||i.call(o,e)},r.prototype.error=function(e){var o,i;(i=(o=this.destination)===null||o===void 0?void 0:o.error)===null||i===void 0||i.call(o,e)},r.prototype.complete=function(){var e,o;(o=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||o===void 0||o.call(e)},r.prototype._subscribe=function(e){var o,i;return(i=(o=this.source)===null||o===void 0?void 0:o.subscribe(e))!==null&&i!==void 0?i:ft},r}(L);const Q={DomainCreated:"Domain::Created",DomainDiscarded:"Domain::Discarded",DomainReused:"Domain::Reused",StateCreated:"State::Created",StateUpdated:"State::Updated",StateDiscarded:"State::Discarded",StateReused:"State::Reused",QueryCreated:"Query::Created",QueryUpdated:"Query::Updated",QueryDiscarded:"Query::Discarded",QueryReused:"Query::Reused",EventEmitted:"Event::Emitted",CommandReceived:"Command::Received",Command$Received:"Command$::Received"},M=fe({name:"RemeshInspectorDomain",impl:n=>{const r=n.event({name:"RemeshDomainStorageEvent"}),e=n.event({name:"RemeshStateStorageEvent"}),o=n.event({name:"RemeshQueryStorageEvent"}),i=n.event({name:"RemeshEventEmittedEvent"}),a=n.event({name:"RemeshCommandReceivedEvent"}),d=n.event({name:"RemeshCommand$ReceivedEvent"});return{event:{RemeshDomainStorageEvent:r,RemeshStateStorageEvent:e,RemeshQueryStorageEvent:o,RemeshEventEmittedEvent:i,RemeshCommandReceivedEvent:a,RemeshCommand$ReceivedEvent:d}}}}),T=n=>n.owner?n.owner.Domain.inspectable&&n.inspectable:n.inspectable,En=n=>{var r;return((r=n.inspectors)!=null?r:[]).filter(e=>!!e).map(e=>{const a=n,{inspectors:o}=a,i=Be(a,["inspectors"]);return e(i)})},Rn=n=>{let r=null;const e=()=>(r||(r=En(n)),r);return{destroyInspectors:()=>{if(r){for(const c of r)c.discard();r=null}},inspectDomainStorage:(c,m)=>{if(T(m.Domain))for(const p of e()){const R=p.getDomain(M()).event.RemeshDomainStorageEvent({type:c,storage:m});p.emitEvent(R)}},inspectStateStorage:(c,m)=>{if(T(m.State))for(const p of e()){const R=p.getDomain(M()).event.RemeshStateStorageEvent({type:c,storage:m});p.emitEvent(R)}},inspectQueryStorage:(c,m)=>{if(T(m.Query))for(const p of e()){const R=p.getDomain(M()).event.RemeshQueryStorageEvent({type:c,storage:m});p.emitEvent(R)}},inspectEventEmitted:(c,m)=>{if(T(m.Event))for(const p of e()){const R=p.getDomain(M()).event.RemeshEventEmittedEvent({type:c,payload:m});p.emitEvent(R)}},inspectCommandReceived:(c,m)=>{if(T(m.Command))for(const p of e()){const R=p.getDomain(M()).event.RemeshCommandReceivedEvent({type:c,payload:m});p.emitEvent(R)}},inspectCommand$Received:(c,m)=>{if(T(m.Command$))for(const p of e()){const R=p.getDomain(M()).event.RemeshCommand$ReceivedEvent({type:c,payload:m});p.emitEvent(R)}}}};let W=0;const ht=n=>{const r=D({},n),e=Rn(r),o=new Set,i=new Set,a=new Set,d=new Map,y=new WeakMap,S=t=>{var s;for(const u of(s=r.externs)!=null?s:[])if(u.Extern===t)return u.value;return t.default},l=t=>{const s=y.get(t);if(s)return s;const u=S(t),f={id:W++,type:"RemeshExternStorage",Extern:t,currentValue:u};return y.set(t,f),f},c=t=>l(t).currentValue,m=new WeakMap,p=t=>{var v;const s=m.get(t);if(s)return s;const u=t.State.stateName,f=(v=JSON.stringify(t.arg))!=null?v:"",h=`State/${t.State.stateId}/${u}:${f}`;return m.set(t,h),h},E=t=>{var v;const s=m.get(t);if(s)return s;const u=t.Query.queryName,f=(v=JSON.stringify(t.arg))!=null?v:"",h=`Query/${t.Query.queryId}/${u}:${f}`;return m.set(t,h),h},R=t=>{var v;const s=m.get(t);if(s)return s;const u=t.Domain.domainName,f=(v=JSON.stringify(t.arg))!=null?v:"",h=`Domain/${t.Domain.domainId}/${u}:${f}`;return m.set(t,h),h},k=t=>t.type==="RemeshStateItem"?p(t):t.type==="RemeshQueryPayload"?E(t):R(t),Et=t=>{if(t.currentState===O)throw new Error(`${t.key} is not found`);return t.currentState},he=new WeakMap,ve=(t,s)=>t.defer?O:t.impl(s),Rt=t=>{const s=$(t.State.owner),u=p(t),f=ve(t.State,t.arg),h={id:W++,type:"RemeshStateStorage",State:t.State,arg:t.arg,key:u,currentState:f,downstreamSet:new Set};return s.stateMap.set(u,h),he.set(t,h),e.inspectStateStorage(Q.StateCreated,h),h},Se=t=>{const s=$(t.State.owner);s.stateMap.has(t.key)||(t.currentState=ve(t.State,t.arg),s.stateMap.set(t.key,t),e.inspectStateStorage(Q.StateReused,t))},P=t=>{const s=$(t.State.owner),u=p(t),f=s.stateMap.get(u);if(f)return f;const h=he.get(t);return h?(Se(h),h):Rt(t)},ge=new WeakMap,Dt=t=>{const s=$(t.owner),u=new L,f=new ee(w=>{const g=u.subscribe(w);return v.refCount+=1,()=>{g.unsubscribe(),v.refCount-=1,a.add(v),Y()}}),h=ge.get(t),v=Object.assign(h!=null?h:{},{type:"RemeshEventStorage",Event:t,subject:u,observable:f,refCount:0});return s.eventMap.set(t,v),ge.set(t,v),v},be=t=>{const u=$(t.owner).eventMap.get(t);return u||null},we=t=>{const s=be(t);return s||Dt(t)},Ee=new WeakMap,Re=t=>{const s=new L,u=new ee(f=>{const h=s.subscribe(f),v=t();return v.refCount+=1,()=>{h.unsubscribe(),v.refCount-=1,a.add(v),Y()}});return{subject:s,observable:u}},$t=t=>{const s=$(t.Query.owner),u=E(t),{subject:f,observable:h}=Re(()=>w),v=new Set,w={id:W++,type:"RemeshQueryStorage",Query:t.Query,arg:t.arg,currentValue:O,key:u,upstreamSet:v,downstreamSet:new Set,subject:f,observable:h,refCount:0,status:"default",wipUpstreamSet:new Set},{Query:g}=t,C={get:_=>{if(w.upstreamSet!==v)return b.get(_);if(_.type==="RemeshStateItem"){const F=P(_);return w.upstreamSet.add(F),F.downstreamSet.add(w),b.get(_)}if(_.type==="RemeshQueryPayload"){const F=j(_);return w.upstreamSet.add(F),F.downstreamSet.add(w),b.get(_)}return b.get(_)},peek:b.peek},A=g.impl(C,t.arg);return w.currentValue=A,s.queryMap.set(u,w),Ee.set(t,w),e.inspectQueryStorage(Q.QueryCreated,w),w},De=t=>{const s=$(t.Query.owner);if(s.queryMap.has(t.key))return;const{subject:u,observable:f}=Re(()=>t);t.status="default",t.subject=u,t.observable=f,s.queryMap.set(t.key,t);for(const h of t.upstreamSet)if(h.downstreamSet.add(t),h.type==="RemeshQueryStorage")De(h);else if(h.type==="RemeshStateStorage")Se(h);else throw new Error(`Unknown upstream: ${h}`);Te(t),e.inspectQueryStorage(Q.QueryReused,t)},j=t=>{const s=$(t.Query.owner),u=E(t),f=s.queryMap.get(u);if(f)return f;const h=Ee.get(t);return h?(De(h),h):$t(t)},$e=new WeakMap,Ct=t=>{const s=$(t.owner),u=new L,f=u.asObservable(),h={id:W++,type:"RemeshCommand$Storage",Command$:t,subject:u,observable:f};return s.command$Map.set(t,h),$e.set(t,h),h},Ce=t=>{const s=$(t.owner),u=s.command$Map.get(t);if(u)return u;const f=$e.get(t);if(f){const h=new L,v=h.asObservable();return f.subject=h,f.observable=v,f.subscription=void 0,s.command$Map.set(t,f),f}return Ct(t)},xe=new WeakMap,xt=t=>{const s=R(t),u=new Set,f=new Set,h={state:g=>{if("default"in g){const A=Zt(g);return A.owner=t,A}if(!("impl"in g)){const A=qt(g);return A.owner=t,A}const C=te(g);return C.owner=t,C},query:g=>{const C=ut(g);return C.owner=t,C},event:g=>{const C=Xt(g);return C.owner=t,C},command:g=>{const C=mt(g);return C.owner=t,C},command$:g=>{const C=dt(g);return C.owner=t,C},ignite:g=>{v.running?He(g):f.add(g)},preload:g=>{v.running||v.preloadOptionsList.push(g)},getDomain:g=>{const C=$(g);return u.add(C),C.downstreamSet.add(v),C.domain},getExtern:g=>c(g)},v={id:W++,type:"RemeshDomainStorage",Domain:t.Domain,arg:t.arg,get domain(){return w},domainContext:h,domainPayload:t,key:s,igniteFnSet:f,upstreamSet:u,downstreamSet:new Set,upstreamSubscriptionSet:new Set,domainSubscriptionSet:new Set,stateMap:new Map,queryMap:new Map,eventMap:new Map,command$Map:new Map,preloadOptionsList:[],preloadedState:{},refCount:0,running:!1},w=t.Domain.impl(h,t.arg);return d.set(s,v),xe.set(t,v),e.inspectDomainStorage(Q.DomainCreated,v),It(v),v},It=t=>{if(!(n!=null&&n.preloadedState))return;const s={get:b.get,peek:b.peek};for(const u of t.preloadOptionsList)if(Object.prototype.hasOwnProperty.call(n.preloadedState,u.key)){const f=n.preloadedState[u.key],h=u.command(s,f);U(h)}},$=t=>{const s=R(t),u=d.get(s);if(u)return u;const f=xe.get(t);if(f){f.running=!1,d.set(f.key,f);for(const h of f.upstreamSet)h.downstreamSet.add(f);return e.inspectDomainStorage(Q.DomainReused,f),f}return xt(t)},Ie=t=>{const s=$(t.Query.owner);if(!!s.queryMap.has(t.key)){s.queryMap.delete(t.key),e.inspectQueryStorage(Q.QueryDiscarded,t);for(const u of t.upstreamSet)if(u.downstreamSet.delete(t),u.type==="RemeshQueryStorage")ke(u);else if(u.type==="RemeshStateStorage")Ne(u);else throw new Error(`Unknown upstream in clearQueryStorageIfNeeded(..): ${u}`);t.subject.complete()}},ke=t=>{t.refCount===0&&t.downstreamSet.size===0&&Ie(t)},Qe=t=>{const s=$(t.State.owner);!s.stateMap.has(t.key)||(e.inspectStateStorage(Q.StateDiscarded,t),s.stateMap.delete(t.key),t.downstreamSet.clear())},Ne=t=>{t.downstreamSet.size===0&&Qe(t)},_e=t=>{const s=$(t.Event.owner);t.subject.complete(),s.eventMap.delete(t.Event)},kt=t=>{t.refCount===0&&_e(t)},Me=t=>{var u;const s=$(t.Command$.owner);t.subject.complete(),(u=t.subscription)==null||u.unsubscribe(),t.subscription=void 0,s.command$Map.delete(t.Command$)},Ae=t=>{if(!!t.running){t.running=!1,e.inspectDomainStorage(Q.DomainDiscarded,t),it(t.domainSubscriptionSet),it(t.upstreamSubscriptionSet);for(const s of t.eventMap.values())_e(s);for(const s of t.queryMap.values())Ie(s);for(const s of t.stateMap.values())Qe(s);for(const s of t.command$Map.values())Me(s);t.upstreamSubscriptionSet.clear(),t.domainSubscriptionSet.clear(),t.downstreamSet.clear(),t.stateMap.clear(),t.queryMap.clear(),t.eventMap.clear(),d.delete(t.key);for(const s of t.upstreamSet)s.downstreamSet.delete(t),je(s)}},je=t=>{t.downstreamSet.size===0&&t.domainSubscriptionSet.size===0&&Ae(t)},Qt=t=>{const s=P(t);return Et(s)},Ue=t=>{const s=j(t),u=s.currentValue;if(u===O)throw new Error(`Query ${s.key} is not ready yet.`);return u},b={get:t=>{if(t.type==="RemeshStateItem")return Qt(t);if(t.type==="RemeshQueryPayload")return Ue(t);throw new Error(`Unexpected input in ctx.get(..): ${t}`)},peek:t=>{if(t.type==="RemeshStateItem")return P(t).currentState;if(t.type==="RemeshQueryPayload")return j(t).currentValue;throw new Error(`Unexpected input in peek(..): ${t}`)},fromEvent:t=>we(t).observable,fromQuery:t=>j(t).observable},Oe=t=>{if(t.wipUpstreamSet.size!==0){let u=!1;for(const f of t.wipUpstreamSet)f.type==="RemeshStateStorage"?u=!0:f.type==="RemeshQueryStorage"&&(f.status==="wip"&&Oe(f),f.status==="updated"&&(u=!0));if(t.wipUpstreamSet.clear(),!u){t.status="default";return}}Te(t)?t.status="updated":t.status="default"},Te=t=>{const{Query:s}=t;for(const v of t.upstreamSet)v.downstreamSet.delete(t),v.downstreamSet.size===0&&a.add(v);const u=new Set;t.upstreamSet=u;const f={get:v=>{if(t.upstreamSet!==u)return b.get(v);if(v.type==="RemeshStateItem"){const w=P(v);return t.upstreamSet.add(w),w.downstreamSet.add(t),b.get(v)}if(v.type==="RemeshQueryPayload"){const w=j(v);return t.upstreamSet.add(w),w.downstreamSet.add(t),b.get(v)}return b.get(v)},peek:b.peek},h=s.impl(f,t.arg);return t.currentValue!==O&&s.compare(t.currentValue,h)?!1:(t.currentValue=h,o.add(t),e.inspectQueryStorage(Q.QueryUpdated,t),!0)},Y=()=>{if(a.size===0)return;const t=[...a];a.clear();for(const s of t)s.type==="RemeshDomainStorage"?je(s):s.type==="RemeshEventStorage"?kt(s):s.type==="RemeshQueryStorage"?ke(s):s.type==="RemeshStateStorage"&&Ne(s);Y()},Ve=()=>{if(o.size===0)return;const t=[...o];o.clear();for(const s of t)s.type==="RemeshEventPayload"?Le(s):s.type==="RemeshQueryStorage"&&(o.has(s)||s.subject.next(s.currentValue));Ve()},Pe=t=>{if(t.status="wip",t.downstreamSet.size>0)for(const s of t.downstreamSet)s.wipUpstreamSet.has(t)||(s.wipUpstreamSet.add(t),Pe(s));else i.add(t)},Fe=()=>{if(i.size===0)return;const t=[...i];i.clear();for(const s of t)Oe(s);Fe()},We=()=>{Fe(),Ve()},Nt=t=>{const s=P(t.stateItem);if(!(s.currentState!==O&&t.stateItem.State.compare(s.currentState,t.newState))){s.currentState=t.newState,e.inspectStateStorage(Q.StateUpdated,s);for(const u of s.downstreamSet)u.wipUpstreamSet.add(s),Pe(u)}},_t=t=>{o.add(t)},Le=t=>{const{Event:s,arg:u}=t,f=be(s);if(!!f)if(e.inspectEventEmitted(Q.EventEmitted,t),s.impl){const h={get:b.get,peek:b.peek},v=s.impl(h,u);f.subject.next(v)}else f.subject.next(u)},Ke=t=>{e.inspectCommandReceived(Q.CommandReceived,t);const{Command:s,arg:u}=t,f={get:b.get,peek:b.peek},h=s.impl(f,u);U(h)},ze=(t,s)=>{t.add(s),s.add(()=>{t.delete(s)})},He=t=>{const s={get:b.get,peek:b.peek};U(t(s))},Mt=t=>{const s=Ce(t);if(s.subscription)return;const u={get:b.get,peek:b.peek,fromEvent:b.fromEvent,fromQuery:b.fromQuery},h=t.impl(u,s.observable).subscribe({next:v=>{U(v),We()},complete:()=>{Me(s)}});s.subscription=h},U=t=>{if(!!t){if(Array.isArray(t)){for(const s of t)U(s);return}if(t.type==="RemeshCommandPayload"){Ke(t);return}else if(t.type==="RemeshEventPayload"){_t(t);return}else if(t.type==="RemeshStateSetterPayload"){Nt(t);return}else if(t.type==="RemeshCommand$Payload"){Ye(t);return}throw new Error(`Unknown command output of ${t}`)}},Ye=t=>{e.inspectCommand$Received(Q.Command$Received,t);const{Command$:s,arg:u}=t,f=Ce(s);Mt(s),f.subject.next(u)},At=(t,s)=>{ze(t.domainSubscriptionSet,s),s.add(()=>{a.add(t),Y()})},jt=(t,s)=>{const u=j(t);return u.observable.subscribe(s)},Ut=(t,s)=>we(t).observable.subscribe(s),Ot=t=>{const s={};for(const u in t.command){const f=t.command[u];if(f.type==="RemeshCommand"){const h=f;s[u]=v=>oe(h(v))}else if(f.type==="RemeshCommand$"){const h=f;s[u]=v=>oe(h(v))}else throw new Error(`Unknown command: ${f}`)}return s},Tt=t=>{const s=$(t);if(s.bindingDomainOutput)return s.bindingDomainOutput;const u=s.domain,f=Ot(u),h=x(D({},u),{command:f});return s.bindingDomainOutput=h,h},Vt=t=>{for(const s of t.igniteFnSet)He(s)},Pt=t=>{if(!t.running){t.running=!0;for(const s of t.upstreamSet){const u=Je(s.domainPayload);ze(t.upstreamSubscriptionSet,u)}Vt(t)}},Je=t=>{const s=$(t),u=new H;return At(s,u),Pt(s),u},Ft=()=>{e.destroyInspectors();for(const t of d.values())Ae(t);d.clear(),o.clear()};function oe(t){t.type==="RemeshCommandPayload"?(Ke(t),We()):t.type==="RemeshCommand$Payload"&&Ye(t)}const Ge=t=>{const s=$(t);if(s.running)throw new Error(`Domain ${t.Domain.domainName} was ignited before preloading`);if(s.preloadedPromise)return s.preloadedPromise;const u=Wt(t);return s.preloadedPromise=u,u},Wt=async t=>{const s=$(t);await Promise.all(Array.from(s.upstreamSet).map(u=>Ge(u.domainPayload))),await Promise.all(s.preloadOptionsList.map(async u=>{const f={get:b.get,peek:b.peek},h=await u.query(f);if(Object.prototype.hasOwnProperty.call(s.preloadedState,u.key))throw new Error(`Duplicate key ${u.key}`);s.preloadedState[u.key]=h;const v=D({},f),w=u.command(v,h);U(w)}))},Lt=()=>{const t={};for(const s of d.values())Object.assign(t,s.preloadedState);return t},Kt=t=>$(t).preloadedState;return{name:r.name,getDomain:Tt,query:Ue,emitEvent:Le,sendCommand:oe,discard:Ft,preload:Ge,getPreloadedState:Lt,getDomainPreloadedState:Kt,subscribeQuery:jt,subscribeEvent:Ut,subscribeDomain:Je,getKey:k}},it=n=>{for(const r of n)r.unsubscribe()},vt={domain:fe,extern:on,store:ht,state:te,query:ut,command:mt,command$:dt,module:sn};var St={exports:{}},gt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V=I.exports;function Dn(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var $n=typeof Object.is=="function"?Object.is:Dn,Cn=V.useState,xn=V.useEffect,In=V.useLayoutEffect,kn=V.useDebugValue;function Qn(n,r){var e=r(),o=Cn({inst:{value:e,getSnapshot:r}}),i=o[0].inst,a=o[1];return In(function(){i.value=e,i.getSnapshot=r,ce(i)&&a({inst:i})},[n,e,r]),xn(function(){return ce(i)&&a({inst:i}),n(function(){ce(i)&&a({inst:i})})},[n]),kn(e),e}function ce(n){var r=n.getSnapshot;n=n.value;try{var e=r();return!$n(n,e)}catch{return!0}}function Nn(n,r){return r()}var _n=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?Nn:Qn;gt.useSyncExternalStore=V.useSyncExternalStore!==void 0?V.useSyncExternalStore:_n;St.exports=gt;const bt=I.exports.createContext(null),Mn=()=>{const n=I.exports.useContext(bt);if(n===null)throw new Error("You may forget to add <RemeshRoot />");return n},ye=()=>Mn().remeshStore,zn=n=>{const r=I.exports.useRef(n.store);r.current||(r.current=ht("options"in n?n.options:{}));const e=r.current,o=I.exports.useMemo(()=>({remeshStore:e}),[e]);return Jt(bt.Provider,{value:o,children:n.children})},Hn=function(n){An(n.Query.owner);const r=ye(),e=I.exports.useRef(null),o=I.exports.useCallback(S=>(e.current=S,()=>{e.current=null}),[]),i=I.exports.useCallback(()=>r.query(n),[r,n]),a=St.exports.useSyncExternalStore(o,i,i),d=I.exports.useRef(null),y=r.getKey(n);return I.exports.useEffect(()=>()=>{var S;(S=d.current)==null||S.unsubscribe(),d.current=null},[r,y]),I.exports.useEffect(()=>{d.current===null&&(d.current=r.subscribeQuery(n,()=>{var S;(S=e.current)==null||S.call(e)}))},[r,n]),a},Yn=function(n,r){const e=ye(),o=I.exports.useRef(r);I.exports.useEffect(()=>{o.current=r}),I.exports.useEffect(()=>{const i=e.subscribeEvent(n,a=>{o.current(a)});return()=>{i.unsubscribe()}},[n,e])},An=function(n){const r=ye(),e=I.exports.useRef(null),o=r.getDomain(n),i=r.getKey(n);return I.exports.useEffect(()=>()=>{var a;(a=e.current)==null||a.unsubscribe(),e.current=null},[r,i]),I.exports.useEffect(()=>{e.current===null&&(e.current=r.subscribeDomain(n))},[r,n]),o},jn=n=>{const r=n.getHours().toString().padStart(2,"0"),e=n.getMinutes().toString().padStart(2,"0"),o=n.getSeconds().toString().padStart(2,"0"),i=n.getMilliseconds().toString().padStart(3,"0");return`${r}:${e}:${o}.${i}`},Un=()=>{const n=new Date;return jn(n)},wt=n=>{const r=D({include:["state","domain","event","command","command$"]},n);return{onActive:(o,i)=>{var a;(a=r.exclude)!=null&&a.includes(o)||(r.include?r.include.includes(o)&&i():i())}}},On=()=>{if(typeof window!="undefined")return window.__REDUX_DEVTOOLS_EXTENSION__},Jn=n=>{const r=On();if(!!r)return e=>{var l;const o=wt(n),i=r.connect({name:e==null?void 0:e.name,features:{pause:!1,lock:!1,persist:!1,export:!1,import:!1,jump:!1,skip:!1,reorder:!1,dispatch:!1,test:!1}}),a=(c,m)=>{i.send(m,null)},d=vt.store({name:`RemeshReduxDevtools(${(l=e==null?void 0:e.name)!=null?l:""})`}),y=d.getDomain(M()),S=c=>{const m={domainId:c.Domain.domainId,domainName:c.Domain.domainName};return c.arg!==void 0?x(D({},m),{domainArg:c.arg}):m};return o.onActive("domain",()=>{d.subscribeEvent(y.event.RemeshDomainStorageEvent,c=>{const m=c.storage.Domain,p={type:`${c.type}::${m.domainName}`,domainId:m.domainId,domainName:m.domainName};c.storage.arg!==void 0?a(p.type,x(D({},p),{domainArg:c.storage.arg})):a(p.type,p)})}),o.onActive("state",()=>{d.subscribeEvent(y.event.RemeshStateStorageEvent,c=>{const m=c.storage.State,p={type:`${c.type}::${m.stateName}`,owner:S(m.owner),stateId:m.stateId,stateName:m.stateName,stateValue:c.storage.currentState};c.storage.arg!==void 0?a(p.type,x(D({},p),{stateArg:c.storage.arg})):a(p.type,p)})}),o.onActive("query",()=>{d.subscribeEvent(y.event.RemeshQueryStorageEvent,c=>{const m=c.storage.Query,p={type:`${c.type}::${m.queryName}`,owner:S(m.owner),queryId:m.queryId,queryName:m.queryName};c.storage.arg!==void 0?a(p.type,x(D({},p),{queryArg:c.storage.arg})):a(p.type,p)})}),o.onActive("command",()=>{d.subscribeEvent(y.event.RemeshCommandReceivedEvent,c=>{const m=c.payload.Command,p={type:`${c.type}::${m.commandName}`,owner:S(m.owner),commandId:m.commandId,commandName:m.commandName};c.payload.arg!==void 0?a(p.type,x(D({},p),{commandArg:c.payload.arg})):a(p.type,p)})}),o.onActive("command$",()=>{d.subscribeEvent(y.event.RemeshCommand$ReceivedEvent,c=>{const m=c.payload.Command$,p={type:`${c.type}::${m.command$Name}`,owner:S(m.owner),command$Id:m.command$Id,command$Name:m.command$Name};c.payload.arg!==void 0?a(p.type,x(D({},p),{command$Arg:c.payload.arg})):a(p.type,p)})}),o.onActive("event",()=>{d.subscribeEvent(y.event.RemeshEventEmittedEvent,c=>{const m=c.payload.Event,p={type:`${c.type}::${m.eventName}`,owner:S(m.owner),eventId:m.eventId,eventName:m.eventName};c.payload.arg!==void 0?a(p.type,x(D({},p),{eventArg:c.payload.arg})):a(p.type,p)})}),d}},Tn={domain:"#bfb1cc",event:"#aec6d4",state:"#adc7af",query:"#d6c9ad",command:"#debdb6",command$:"#d9bdc5"},Gn=n=>r=>{var S;const e=D({collapsed:!0,colors:Tn},n),o=wt(e),i=(l,c,m)=>{e.collapsed&&(l.split("::"),console.groupCollapsed(`%c${l}%c @ ${Un()}`,`background-color:${m}; color: #000; font-weight: bold`,"color:#9E9E9E; font-weight: lighter")),console.log(c),e.collapsed&&console.groupEnd()},a=vt.store(x(D({},r),{name:`RemeshLogger(${(S=r==null?void 0:r.name)!=null?S:""})`})),d=a.getDomain(M()),y=l=>{const c={domainId:l.Domain.domainId,domainName:l.Domain.domainName};return l.arg!==void 0?x(D({},c),{domainArg:l.arg}):c};return o.onActive("domain",()=>{a.subscribeEvent(d.event.RemeshDomainStorageEvent,l=>{const c=l.storage.Domain,m={type:`${l.type}::${c.domainName}`,domainId:c.domainId,domainName:c.domainName};l.storage.arg!==void 0?i(m.type,x(D({},m),{domainArg:l.storage.arg}),e.colors.domain):i(m.type,m,e.colors.domain)})}),o.onActive("state",()=>{a.subscribeEvent(d.event.RemeshStateStorageEvent,l=>{const c=l.storage.State,m={type:`${l.type}::${c.stateName}`,owner:y(c.owner),stateId:c.stateId,stateName:c.stateName,stateValue:l.storage.currentState};l.storage.arg!==void 0?i(m.type,x(D({},m),{stateArg:l.storage.arg}),e.colors.state):i(m.type,m,e.colors.state)})}),o.onActive("query",()=>{a.subscribeEvent(d.event.RemeshQueryStorageEvent,l=>{const c=l.storage.Query,m={type:`${l.type}::${c.queryName}`,owner:y(c.owner),queryId:c.queryId,queryName:c.queryName,queryValue:l.storage.currentValue};l.storage.arg!==void 0?i(m.type,x(D({},m),{queryArg:l.storage.arg}),e.colors.query):i(m.type,m,e.colors.query)})}),o.onActive("command",()=>{a.subscribeEvent(d.event.RemeshCommandReceivedEvent,l=>{const c=l.payload.Command,m={type:`${l.type}::${c.commandName}`,owner:y(c.owner),commandId:c.commandId,commandName:c.commandName};l.payload.arg!==void 0?i(m.type,x(D({},m),{commandArg:l.payload.arg}),e.colors.command):i(m.type,m,e.colors.command)})}),o.onActive("command$",()=>{a.subscribeEvent(d.event.RemeshCommand$ReceivedEvent,l=>{const c=l.payload.Command$,m={type:`${l.type}::${c.command$Name}`,owner:y(c.owner),command$Id:c.command$Id,command$Name:c.command$Name};l.payload.arg!==void 0?i(m.type,x(D({},m),{command$Arg:l.payload.arg}),e.colors.command$):i(m.type,m,e.colors.command$)})}),o.onActive("event",()=>{a.subscribeEvent(d.event.RemeshEventEmittedEvent,l=>{const c=l.payload.Event,m={type:`${l.type}::${c.eventName}`,owner:y(c.owner),eventId:c.eventId,eventName:c.eventName};l.payload.arg!==void 0?i(m.type,x(D({},m),{eventArg:l.payload.arg}),e.colors.event):i(m.type,m,e.colors.event)})}),a};export{ee as O,vt as R,H as S,q as _,Z as a,Hn as b,Jn as c,Gn as d,zn as e,N as f,ne as g,yt as h,vn as i,Ln as j,Wn as k,me as l,Fn as m,ot as n,hn as o,K as p,Kn as q,cn as r,de as s,Yn as t,An as u};
//# sourceMappingURL=remesh-logger.ff43b83d.js.map
