var zt=Object.defineProperty,Ht=Object.defineProperties;var Yt=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var qe=(n,r,e)=>r in n?zt(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e,$=(n,r)=>{for(var e in r||(r={}))Ze.call(r,e)&&qe(n,e,r[e]);if(J)for(var e of J(r))Be.call(r,e)&&qe(n,e,r[e]);return n},x=(n,r)=>Ht(n,Yt(r));var et=(n,r)=>{var e={};for(var o in n)Ze.call(n,o)&&r.indexOf(o)<0&&(e[o]=n[o]);if(n!=null&&J)for(var o of J(n))r.indexOf(o)<0&&Be.call(n,o)&&(e[o]=n[o]);return e};import{r as N,a as Jt}from"./jsx-runtime.a8396eb8.js";var tt=function(r,e,o,i){var a=o?o.call(i,r,e):void 0;if(a!==void 0)return!!a;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;var d=Object.keys(r),y=Object.keys(e);if(d.length!==y.length)return!1;for(var v=Object.prototype.hasOwnProperty.bind(e),l=0;l<d.length;l++){var c=d[l];if(!v(c))return!1;var u=r[c],f=e[c];if(a=o?o.call(i,u,f,c):void 0,a===!1||a===void 0&&u!==f)return!1}return!0};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function nt(n){return Object.prototype.toString.call(n)==="[object Object]"}function rt(n){var r,e;return nt(n)===!1?!1:(r=n.constructor,r===void 0?!0:(e=r.prototype,!(nt(e)===!1||e.hasOwnProperty("isPrototypeOf")===!1)))}const V=Symbol("RemeshValuePlaceholder");let Gt=0;function Xt(n){var o;const r=Gt++,e=i=>({type:"RemeshEventPayload",arg:i,Event:e});return e.type="RemeshEvent",e.eventId=r,e.eventName=n.name,e.owner=z(),e.inspectable="inspectable"in n&&(o=n.inspectable)!=null?o:!0,"impl"in n&&(e.impl=n.impl),e}const qt=n=>te({name:n.name,impl:()=>n.default,inspectable:n.inspectable,compare:n.compare}),Zt=n=>te({name:n.name,defer:!0,impl:r=>{throw new Error(`RemeshDeferState: use ${n.name} before setting state`)},inspectable:n.inspectable,compare:n.compare});let Bt=0;const ut=(n,r)=>rt(n)&&rt(r)||Array.isArray(n)&&Array.isArray(r)?tt(n,r):n===r,te=n=>{var i,a,d;const r=Bt++;let e=null;const o=y=>{if(y===void 0&&e)return e;const v={type:"RemeshStateItem",arg:y,State:o,new:l=>({type:"RemeshStateSetterPayload",stateItem:v,newState:l})};return y===void 0&&(e=v),v};return o.type="RemeshState",o.stateId=r,o.stateName=n.name,o.impl=n.impl,o.compare=(i=n.compare)!=null?i:ut,o.owner=z(),o.inspectable=(a=n.inspectable)!=null?a:!0,o.defer=(d=n.defer)!=null?d:!1,o.query=le({name:`${n.name}.Query`,inspectable:!1,impl:({get:y},v)=>y(o(v))}),o};let en=0;const le=n=>{var i,a;const r=en++;let e=null;const o=d=>{if(d===void 0&&e)return e;const y={type:"RemeshQueryPayload",Query:o,arg:d};return d===void 0&&(e=y),y};return o.type="RemeshQuery",o.queryId=r,o.queryName=n.name,o.impl=n.impl,o.compare=(i=n.compare)!=null?i:ut,o.owner=z(),o.inspectable=(a=n.inspectable)!=null?a:!0,o};let tn=0;const mt=n=>{var o;const r=tn++,e=i=>({type:"RemeshCommandPayload",arg:i,Command:e});return e.type="RemeshCommand",e.commandId=r,e.commandName=n.name,e.impl=n.impl,e.owner=z(),e.inspectable=(o=n.inspectable)!=null?o:!0,e};let nn=0;const dt=n=>{var o;const r=nn++,e=i=>({type:"RemeshCommand$Payload",arg:i,Command$:e});return e.type="RemeshCommand$",e.command$Id=r,e.command$Name=n.name,e.impl=n.impl,e.owner=z(),e.inspectable=(o=n.inspectable)!=null?o:!0,e};let rn=0;const on=n=>{const r=e=>({type:"RemeshExternPayload",Extern:r,value:e});return r.externId=rn++,r.externName=n.name,r.default=n.default,r};let sn=0;const fe=n=>{var o;let r=null;const e=i=>{if(i===void 0&&r)return r;const a={type:"RemeshDomainPayload",Domain:e,arg:i};return i===void 0&&(r=a),a};return e.type="RemeshDomain",e.domainId=sn++,e.domainName=n.name,e.impl=n.impl,e.inspectable=(o=n.inspectable)!=null?o:!0,e},z=fe({name:"DefaultDomain",impl:()=>({})});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ce=function(n,r){return ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])},ce(n,r)};function ne(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");ce(n,r);function e(){this.constructor=n}n.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}function Tn(n,r,e,o){function i(a){return a instanceof e?a:new e(function(d){d(a)})}return new(e||(e=Promise))(function(a,d){function y(c){try{l(o.next(c))}catch(u){d(u)}}function v(c){try{l(o.throw(c))}catch(u){d(u)}}function l(c){c.done?a(c.value):i(c.value).then(y,v)}l((o=o.apply(n,r||[])).next())})}function Fn(n,r){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,i,a,d;return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(l){return function(c){return v([l,c])}}function v(l){if(o)throw new TypeError("Generator is already executing.");for(;e;)try{if(o=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){e.label=l[1];break}if(l[0]===6&&e.label<a[1]){e.label=a[1],a=l;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(l);break}a[2]&&e.ops.pop(),e.trys.pop();continue}l=r.call(n,e)}catch(c){l=[6,c],i=0}finally{o=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function K(n){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&n[r],o=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(n,r){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var o=e.call(n),i,a=[],d;try{for(;(r===void 0||r-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(y){d={error:y}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(d)throw d.error}}return a}function Z(n,r,e){if(e||arguments.length===2)for(var o=0,i=r.length,a;o<i;o++)(a||!(o in r))&&(a||(a=Array.prototype.slice.call(r,0,o)),a[o]=r[o]);return n.concat(a||Array.prototype.slice.call(r))}function ue(n){return this instanceof ue?(this.v=n,this):new ue(n)}function Pn(n,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=e.apply(n,r||[]),i,a=[];return i={},d("next"),d("throw"),d("return"),i[Symbol.asyncIterator]=function(){return this},i;function d(f){o[f]&&(i[f]=function(E){return new Promise(function(R,I){a.push([f,E,R,I])>1||y(f,E)})})}function y(f,E){try{v(o[f](E))}catch(R){u(a[0][3],R)}}function v(f){f.value instanceof ue?Promise.resolve(f.value.v).then(l,c):u(a[0][2],f)}function l(f){y("next",f)}function c(f){y("throw",f)}function u(f,E){f(E),a.shift(),a.length&&y(a[0][0],a[0][1])}}function Wn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],e;return r?r.call(n):(n=typeof K=="function"?K(n):n[Symbol.iterator](),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(a){e[a]=n[a]&&function(d){return new Promise(function(y,v){d=n[a](d),i(y,v,d.done,d.value)})}}function i(a,d,y,v){Promise.resolve(v).then(function(l){a({value:l,done:y})},d)}}function _(n){return typeof n=="function"}function lt(n){var r=function(o){Error.call(o),o.stack=new Error().stack},e=n(r);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var oe=lt(function(n){return function(e){n(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(o,i){return i+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function me(n,r){if(n){var e=n.indexOf(r);0<=e&&n.splice(e,1)}}var H=function(){function n(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var r,e,o,i,a;if(!this.closed){this.closed=!0;var d=this._parentage;if(d)if(this._parentage=null,Array.isArray(d))try{for(var y=K(d),v=y.next();!v.done;v=y.next()){var l=v.value;l.remove(this)}}catch(I){r={error:I}}finally{try{v&&!v.done&&(e=y.return)&&e.call(y)}finally{if(r)throw r.error}}else d.remove(this);var c=this.initialTeardown;if(_(c))try{c()}catch(I){a=I instanceof oe?I.errors:[I]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var f=K(u),E=f.next();!E.done;E=f.next()){var R=E.value;try{ot(R)}catch(I){a=a!=null?a:[],I instanceof oe?a=Z(Z([],q(a)),q(I.errors)):a.push(I)}}}catch(I){o={error:I}}finally{try{E&&!E.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}}if(a)throw new oe(a)}},n.prototype.add=function(r){var e;if(r&&r!==this)if(this.closed)ot(r);else{if(r instanceof n){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(r)}},n.prototype._hasParent=function(r){var e=this._parentage;return e===r||Array.isArray(e)&&e.includes(r)},n.prototype._addParent=function(r){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(r),e):e?[e,r]:r},n.prototype._removeParent=function(r){var e=this._parentage;e===r?this._parentage=null:Array.isArray(e)&&me(e,r)},n.prototype.remove=function(r){var e=this._finalizers;e&&me(e,r),r instanceof n&&r._removeParent(this)},n.EMPTY=function(){var r=new n;return r.closed=!0,r}(),n}(),ft=H.EMPTY;function pt(n){return n instanceof H||n&&"closed"in n&&_(n.remove)&&_(n.add)&&_(n.unsubscribe)}function ot(n){_(n)?n():n.unsubscribe()}var re={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},B={setTimeout:function(n,r){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];var i=B.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Z([n,r],q(e))):setTimeout.apply(void 0,Z([n,r],q(e)))},clearTimeout:function(n){var r=B.delegate;return((r==null?void 0:r.clearTimeout)||clearTimeout)(n)},delegate:void 0};function an(n){B.setTimeout(function(){var r=re.onUnhandledError;if(r)r(n);else throw n})}function st(){}var cn=function(){return pe("C",void 0,void 0)}();function un(n){return pe("E",void 0,n)}function mn(n){return pe("N",n,void 0)}function pe(n,r,e){return{kind:n,value:r,error:e}}function X(n){n()}var yt=function(n){ne(r,n);function r(e){var o=n.call(this)||this;return o.isStopped=!1,e?(o.destination=e,pt(e)&&e.add(o)):o.destination=pn,o}return r.create=function(e,o,i){return new de(e,o,i)},r.prototype.next=function(e){this.isStopped?ae(mn(e),this):this._next(e)},r.prototype.error=function(e){this.isStopped?ae(un(e),this):(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped?ae(cn,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(H),dn=Function.prototype.bind;function se(n,r){return dn.call(n,r)}var ln=function(){function n(r){this.partialObserver=r}return n.prototype.next=function(r){var e=this.partialObserver;if(e.next)try{e.next(r)}catch(o){G(o)}},n.prototype.error=function(r){var e=this.partialObserver;if(e.error)try{e.error(r)}catch(o){G(o)}else G(r)},n.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(e){G(e)}},n}(),de=function(n){ne(r,n);function r(e,o,i){var a=n.call(this)||this,d;if(_(e)||!e)d={next:e!=null?e:void 0,error:o!=null?o:void 0,complete:i!=null?i:void 0};else{var y;a&&re.useDeprecatedNextContext?(y=Object.create(e),y.unsubscribe=function(){return a.unsubscribe()},d={next:e.next&&se(e.next,y),error:e.error&&se(e.error,y),complete:e.complete&&se(e.complete,y)}):d=e}return a.destination=new ln(d),a}return r}(yt);function G(n){an(n)}function fn(n){throw n}function ae(n,r){var e=re.onStoppedNotification;e&&B.setTimeout(function(){return e(n,r)})}var pn={closed:!0,next:st,error:fn,complete:st},yn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function hn(n){return n}function Sn(n){return n.length===0?hn:n.length===1?n[0]:function(e){return n.reduce(function(o,i){return i(o)},e)}}var ee=function(){function n(r){r&&(this._subscribe=r)}return n.prototype.lift=function(r){var e=new n;return e.source=this,e.operator=r,e},n.prototype.subscribe=function(r,e,o){var i=this,a=gn(r)?r:new de(r,e,o);return X(function(){var d=i,y=d.operator,v=d.source;a.add(y?y.call(a,v):v?i._subscribe(a):i._trySubscribe(a))}),a},n.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){r.error(e)}},n.prototype.forEach=function(r,e){var o=this;return e=at(e),new e(function(i,a){var d=new de({next:function(y){try{r(y)}catch(v){a(v),d.unsubscribe()}},error:a,complete:i});o.subscribe(d)})},n.prototype._subscribe=function(r){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(r)},n.prototype[yn]=function(){return this},n.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Sn(r)(this)},n.prototype.toPromise=function(r){var e=this;return r=at(r),new r(function(o,i){var a;e.subscribe(function(d){return a=d},function(d){return i(d)},function(){return o(a)})})},n.create=function(r){return new n(r)},n}();function at(n){var r;return(r=n!=null?n:re.Promise)!==null&&r!==void 0?r:Promise}function vn(n){return n&&_(n.next)&&_(n.error)&&_(n.complete)}function gn(n){return n&&n instanceof yt||vn(n)&&pt(n)}var bn=lt(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),L=function(n){ne(r,n);function r(){var e=n.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.prototype.lift=function(e){var o=new it(this,this);return o.operator=e,o},r.prototype._throwIfClosed=function(){if(this.closed)throw new bn},r.prototype.next=function(e){var o=this;X(function(){var i,a;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var d=K(o.currentObservers),y=d.next();!y.done;y=d.next()){var v=y.value;v.next(e)}}catch(l){i={error:l}}finally{try{y&&!y.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}})},r.prototype.error=function(e){var o=this;X(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=e;for(var i=o.observers;i.length;)i.shift().error(e)}})},r.prototype.complete=function(){var e=this;X(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var o=e.observers;o.length;)o.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(e){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,e)},r.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},r.prototype._innerSubscribe=function(e){var o=this,i=this,a=i.hasError,d=i.isStopped,y=i.observers;return a||d?ft:(this.currentObservers=null,y.push(e),new H(function(){o.currentObservers=null,me(y,e)}))},r.prototype._checkFinalizedStatuses=function(e){var o=this,i=o.hasError,a=o.thrownError,d=o.isStopped;i?e.error(a):d&&e.complete()},r.prototype.asObservable=function(){var e=new ee;return e.source=this,e},r.create=function(e,o){return new it(e,o)},r}(ee),it=function(n){ne(r,n);function r(e,o){var i=n.call(this)||this;return i.destination=e,i.source=o,i}return r.prototype.next=function(e){var o,i;(i=(o=this.destination)===null||o===void 0?void 0:o.next)===null||i===void 0||i.call(o,e)},r.prototype.error=function(e){var o,i;(i=(o=this.destination)===null||o===void 0?void 0:o.error)===null||i===void 0||i.call(o,e)},r.prototype.complete=function(){var e,o;(o=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||o===void 0||o.call(e)},r.prototype._subscribe=function(e){var o,i;return(i=(o=this.source)===null||o===void 0?void 0:o.subscribe(e))!==null&&i!==void 0?i:ft},r}(L);const k={DomainCreated:"Domain::Created",DomainDiscarded:"Domain::Discarded",DomainReused:"Domain::Reused",StateCreated:"State::Created",StateUpdated:"State::Updated",StateDiscarded:"State::Discarded",StateReused:"State::Reused",QueryCreated:"Query::Created",QueryUpdated:"Query::Updated",QueryDiscarded:"Query::Discarded",QueryReused:"Query::Reused",EventEmitted:"Event::Emitted",CommandReceived:"Command::Received",Command$Received:"Command$::Received"},A=fe({name:"RemeshInspector",impl:n=>{const r=n.event({name:"RemeshDomainStorageEvent"}),e=n.event({name:"RemeshStateStorageEvent"}),o=n.event({name:"RemeshQueryStorageEvent"}),i=n.event({name:"RemeshEventEmitted"}),a=n.event({name:"RemeshCommandReceived"}),d=n.event({name:"RemeshCommand$Received"});return{event:{RemeshDomainStorageEvent:r,RemeshStateStorageEvent:e,RemeshQueryStorageEvent:o,RemeshEventEmittedEvent:i,RemeshCommandReceivedEvent:a,RemeshCommand$ReceivedEvent:d}}}}),O=n=>n.owner?n.owner.Domain.inspectable&&n.inspectable:n.inspectable,wn=n=>{var r;return((r=n.inspectors)!=null?r:[]).filter(e=>!!e).map(e=>{const a=n,{inspectors:o}=a,i=et(a,["inspectors"]);return e(i)})},En=n=>{let r=null;const e=()=>(r||(r=wn(n)),r);return{destroyInspectors:()=>{if(r){for(const c of r)c.discard();r=null}},inspectDomainStorage:(c,u)=>{if(O(u.Domain))for(const f of e()){const R=f.getDomain(A()).event.RemeshDomainStorageEvent({type:c,storage:u});f.emitEvent(R)}},inspectStateStorage:(c,u)=>{if(O(u.State))for(const f of e()){const R=f.getDomain(A()).event.RemeshStateStorageEvent({type:c,storage:u});f.emitEvent(R)}},inspectQueryStorage:(c,u)=>{if(O(u.Query))for(const f of e()){const R=f.getDomain(A()).event.RemeshQueryStorageEvent({type:c,storage:u});f.emitEvent(R)}},inspectEventEmitted:(c,u)=>{if(O(u.Event))for(const f of e()){const R=f.getDomain(A()).event.RemeshEventEmittedEvent({type:c,payload:u});f.emitEvent(R)}},inspectCommandReceived:(c,u)=>{if(O(u.Command))for(const f of e()){const R=f.getDomain(A()).event.RemeshCommandReceivedEvent({type:c,payload:u});f.emitEvent(R)}},inspectCommand$Received:(c,u)=>{if(O(u.Command$))for(const f of e()){const R=f.getDomain(A()).event.RemeshCommand$ReceivedEvent({type:c,payload:u});f.emitEvent(R)}}}};let W=0;const ht=n=>{const r=$({},n),e=En(r),o=new Set,i=new Set,a=new Set,d=new Map,y=new WeakMap,v=t=>{var s;for(const m of(s=r.externs)!=null?s:[])if(m.Extern===t)return m.value;return t.default},l=t=>{const s=y.get(t);if(s)return s;const m=v(t),p={id:W++,type:"RemeshExternStorage",Extern:t,currentValue:m};return y.set(t,p),p},c=t=>l(t).currentValue,u=new WeakMap,f=t=>{var S;const s=u.get(t);if(s)return s;const m=t.State.stateName,p=(S=JSON.stringify(t.arg))!=null?S:"",h=`State/${t.State.stateId}/${m}:${p}`;return u.set(t,h),h},E=t=>{var S;const s=u.get(t);if(s)return s;const m=t.Query.queryName,p=(S=JSON.stringify(t.arg))!=null?S:"",h=`Query/${t.Query.queryId}/${m}:${p}`;return u.set(t,h),h},R=t=>{var S;const s=u.get(t);if(s)return s;const m=t.Domain.domainName,p=(S=JSON.stringify(t.arg))!=null?S:"",h=`Domain/${t.Domain.domainId}/${m}:${p}`;return u.set(t,h),h},I=t=>t.type==="RemeshStateItem"?f(t):t.type==="RemeshQueryPayload"?E(t):R(t),Et=t=>{if(t.currentState===V)throw new Error(`${t.key} is not found`);return t.currentState},he=new WeakMap,Se=(t,s)=>t.defer?V:t.impl(s),Rt=t=>{const s=C(t.State.owner),m=f(t),p=Se(t.State,t.arg),h={id:W++,type:"RemeshStateStorage",State:t.State,arg:t.arg,key:m,currentState:p,downstreamSet:new Set};return s.stateMap.set(m,h),he.set(t,h),e.inspectStateStorage(k.StateCreated,h),h},ve=t=>{const s=C(t.State.owner);s.stateMap.has(t.key)||(t.currentState=Se(t.State,t.arg),s.stateMap.set(t.key,t),e.inspectStateStorage(k.StateReused,t))},F=t=>{const s=C(t.State.owner),m=f(t),p=s.stateMap.get(m);if(p)return p;const h=he.get(t);return h?(ve(h),h):Rt(t)},ge=new WeakMap,Dt=t=>{const s=C(t.owner),m=new L,p=new ee(w=>{const b=m.subscribe(w);return S.refCount+=1,()=>{b.unsubscribe(),S.refCount-=1,a.add(S),Y()}}),h=ge.get(t),S=Object.assign(h!=null?h:{},{type:"RemeshEventStorage",Event:t,subject:m,observable:p,refCount:0});return s.eventMap.set(t,S),ge.set(t,S),S},be=t=>{const m=C(t.owner).eventMap.get(t);return m||null},we=t=>{const s=be(t);return s||Dt(t)},Ee=new WeakMap,Re=t=>{const s=new L,m=new ee(p=>{const h=s.subscribe(p),S=t();return S.refCount+=1,()=>{h.unsubscribe(),S.refCount-=1,a.add(S),Y()}});return{subject:s,observable:m}},$t=t=>{const s=C(t.Query.owner),m=E(t),{subject:p,observable:h}=Re(()=>w),S=new Set,w={id:W++,type:"RemeshQueryStorage",Query:t.Query,arg:t.arg,currentValue:V,key:m,upstreamSet:S,downstreamSet:new Set,subject:p,observable:h,refCount:0,status:"default",wipUpstreamSet:new Set},{Query:b}=t,D={get:M=>{if(w.upstreamSet!==S)return g.get(M);if(M.type==="RemeshStateItem"){const P=F(M);return w.upstreamSet.add(P),P.downstreamSet.add(w),g.get(M)}if(M.type==="RemeshQueryPayload"){const P=U(M);return w.upstreamSet.add(P),P.downstreamSet.add(w),g.get(M)}return g.get(M)},peek:g.peek,hasNoValue:g.hasNoValue},Q=b.impl(D,t.arg);return w.currentValue=Q,s.queryMap.set(m,w),Ee.set(t,w),e.inspectQueryStorage(k.QueryCreated,w),w},De=t=>{const s=C(t.Query.owner);if(s.queryMap.has(t.key))return;const{subject:m,observable:p}=Re(()=>t);t.status="default",t.subject=m,t.observable=p,s.queryMap.set(t.key,t);for(const h of t.upstreamSet)if(h.downstreamSet.add(t),h.type==="RemeshQueryStorage")De(h);else if(h.type==="RemeshStateStorage")ve(h);else throw new Error(`Unknown upstream: ${h}`);Oe(t),e.inspectQueryStorage(k.QueryReused,t)},U=t=>{const s=C(t.Query.owner),m=E(t),p=s.queryMap.get(m);if(p)return p;const h=Ee.get(t);return h?(De(h),h):$t(t)},$e=new WeakMap,Ct=t=>{const s=C(t.owner),m=new L,p=m.asObservable(),h={id:W++,type:"RemeshCommand$Storage",Command$:t,subject:m,observable:p};return s.command$Map.set(t,h),$e.set(t,h),h},Ce=t=>{const s=C(t.owner),m=s.command$Map.get(t);if(m)return m;const p=$e.get(t);if(p){const h=new L,S=h.asObservable();return p.subject=h,p.observable=S,p.subscription=void 0,s.command$Map.set(t,p),p}return Ct(t)},xe=new WeakMap,xt=t=>{const s=R(t),m=new Set,p=new Set,h={state:b=>{if("default"in b){const Q=qt(b);return Q.owner=t,Q.query.owner=t,Q}if(!("impl"in b)){const Q=Zt(b);return Q.owner=t,Q.query.owner=t,Q}const D=te(b);return D.owner=t,D.query.owner=t,D},query:b=>{const D=le(b);return D.owner=t,D},event:b=>{const D=Xt(b);return D.owner=t,D},command:b=>{const D=mt(b);return D.owner=t,D},command$:b=>{const D=dt(b);return D.owner=t,D},ignite:b=>{S.running?He(b):p.add(b)},preload:b=>{S.running||S.preloadOptionsList.push(b)},getDomain:b=>{const D=C(b);return m.add(D),D.downstreamSet.add(S),D.domain},getExtern:b=>c(b)},S={id:W++,type:"RemeshDomainStorage",Domain:t.Domain,arg:t.arg,get domain(){return w},domainContext:h,domainPayload:t,key:s,igniteFnSet:p,upstreamSet:m,downstreamSet:new Set,upstreamSubscriptionSet:new Set,domainSubscriptionSet:new Set,stateMap:new Map,queryMap:new Map,eventMap:new Map,command$Map:new Map,preloadOptionsList:[],preloadedState:{},refCount:0,running:!1},w=t.Domain.impl(h,t.arg);return d.set(s,S),xe.set(t,S),e.inspectDomainStorage(k.DomainCreated,S),Nt(S),S},Nt=t=>{if(!(n!=null&&n.preloadedState))return;const s={get:g.get,peek:g.peek,hasNoValue:g.hasNoValue};for(const m of t.preloadOptionsList)if(n.preloadedState.hasOwnProperty(m.key)){const p=n.preloadedState[m.key],h=m.command(s,p);j(h)}},C=t=>{const s=R(t),m=d.get(s);if(m)return m;const p=xe.get(t);if(p){p.running=!1,d.set(p.key,p);for(const h of p.upstreamSet)h.downstreamSet.add(p);return e.inspectDomainStorage(k.DomainReused,p),p}return xt(t)},Ne=t=>{const s=C(t.Query.owner);if(!!s.queryMap.has(t.key)){s.queryMap.delete(t.key),e.inspectQueryStorage(k.QueryDiscarded,t);for(const m of t.upstreamSet)if(m.downstreamSet.delete(t),m.type==="RemeshQueryStorage")Ie(m);else if(m.type==="RemeshStateStorage")Qe(m);else throw new Error(`Unknown upstream in clearQueryStorageIfNeeded(..): ${m}`);t.subject.complete()}},Ie=t=>{t.refCount===0&&t.downstreamSet.size===0&&Ne(t)},ke=t=>{const s=C(t.State.owner);!s.stateMap.has(t.key)||(e.inspectStateStorage(k.StateDiscarded,t),s.stateMap.delete(t.key),t.downstreamSet.clear())},Qe=t=>{t.downstreamSet.size===0&&ke(t)},_e=t=>{const s=C(t.Event.owner);t.subject.complete(),s.eventMap.delete(t.Event)},It=t=>{t.refCount===0&&_e(t)},Me=t=>{var m;const s=C(t.Command$.owner);t.subject.complete(),(m=t.subscription)==null||m.unsubscribe(),t.subscription=void 0,s.command$Map.delete(t.Command$)},Ae=t=>{if(!!t.running){t.running=!1,e.inspectDomainStorage(k.DomainDiscarded,t),ct(t.domainSubscriptionSet),ct(t.upstreamSubscriptionSet);for(const s of t.eventMap.values())_e(s);for(const s of t.queryMap.values())Ne(s);for(const s of t.stateMap.values())ke(s);for(const s of t.command$Map.values())Me(s);t.upstreamSubscriptionSet.clear(),t.domainSubscriptionSet.clear(),t.downstreamSet.clear(),t.stateMap.clear(),t.queryMap.clear(),t.eventMap.clear(),d.delete(t.key);for(const s of t.upstreamSet)s.downstreamSet.delete(t),Ve(s)}},Ve=t=>{t.downstreamSet.size===0&&t.domainSubscriptionSet.size===0&&Ae(t)},kt=t=>{const s=F(t);return Et(s)},Ue=t=>{const s=U(t),m=s.currentValue;if(m===V)throw new Error(`Query ${s.key} is not ready yet.`);return m},g={get:t=>{if(t.type==="RemeshStateItem")return kt(t);if(t.type==="RemeshQueryPayload")return Ue(t);throw new Error(`Unexpected input in ctx.get(..): ${t}`)},peek:t=>{if(t.type==="RemeshStateItem")return F(t).currentState;if(t.type==="RemeshQueryPayload")return U(t).currentValue;throw new Error(`Unexpected input in peek(..): ${t}`)},hasNoValue:t=>g.peek(t)===V,fromEvent:t=>we(t).observable,fromQuery:t=>U(t).observable},je=t=>{if(t.wipUpstreamSet.size!==0){let m=!1;for(const p of t.wipUpstreamSet)p.type==="RemeshStateStorage"?m=!0:p.type==="RemeshQueryStorage"&&(p.status==="wip"&&je(p),p.status==="updated"&&(m=!0));if(t.wipUpstreamSet.clear(),!m){t.status="default";return}}Oe(t)?t.status="updated":t.status="default"},Oe=t=>{const{Query:s}=t;for(const S of t.upstreamSet)S.downstreamSet.delete(t),S.downstreamSet.size===0&&a.add(S);const m=new Set;t.upstreamSet=m;const p={get:S=>{if(t.upstreamSet!==m)return g.get(S);if(S.type==="RemeshStateItem"){const w=F(S);return t.upstreamSet.add(w),w.downstreamSet.add(t),g.get(S)}if(S.type==="RemeshQueryPayload"){const w=U(S);return t.upstreamSet.add(w),w.downstreamSet.add(t),g.get(S)}return g.get(S)},peek:g.peek,hasNoValue:g.hasNoValue},h=s.impl(p,t.arg);return t.currentValue!==V&&s.compare(t.currentValue,h)?!1:(t.currentValue=h,o.add(t),e.inspectQueryStorage(k.QueryUpdated,t),!0)},Y=()=>{if(a.size===0)return;const t=[...a];a.clear();for(const s of t)s.type==="RemeshDomainStorage"?Ve(s):s.type==="RemeshEventStorage"?It(s):s.type==="RemeshQueryStorage"?Ie(s):s.type==="RemeshStateStorage"&&Qe(s);Y()},Te=()=>{if(o.size===0)return;const t=[...o];o.clear();for(const s of t)s.type==="RemeshEventPayload"?Le(s):s.type==="RemeshQueryStorage"&&(o.has(s)||s.subject.next(s.currentValue));Te()},Fe=t=>{if(t.status="wip",t.downstreamSet.size>0)for(const s of t.downstreamSet)s.wipUpstreamSet.has(t)||(s.wipUpstreamSet.add(t),Fe(s));else i.add(t)},Pe=()=>{if(i.size===0)return;const t=[...i];i.clear();for(const s of t)je(s);Pe()},We=()=>{Pe(),Te()},Qt=t=>{const s=F(t.stateItem);if(!(s.currentState!==V&&t.stateItem.State.compare(s.currentState,t.newState))){s.currentState=t.newState,e.inspectStateStorage(k.StateUpdated,s);for(const m of s.downstreamSet)m.wipUpstreamSet.add(s),Fe(m)}},_t=t=>{o.add(t)},Le=t=>{const{Event:s,arg:m}=t,p=be(s);if(!!p)if(e.inspectEventEmitted(k.EventEmitted,t),s.impl){const h={get:g.get,peek:g.peek,hasNoValue:g.hasNoValue},S=s.impl(h,m);p.subject.next(S)}else p.subject.next(m)},Ke=t=>{e.inspectCommandReceived(k.CommandReceived,t);const{Command:s,arg:m}=t,p={get:g.get,peek:g.peek,hasNoValue:g.hasNoValue},h=s.impl(p,m);j(h)},ze=(t,s)=>{t.add(s),s.add(()=>{t.delete(s)})},He=t=>{const s={get:g.get,peek:g.peek,hasNoValue:g.hasNoValue};j(t(s))},Mt=t=>{const s=Ce(t);if(s.subscription)return;const m={get:g.get,peek:g.peek,hasNoValue:g.hasNoValue,fromEvent:g.fromEvent,fromQuery:g.fromQuery},h=t.impl(m,s.observable).subscribe({next:S=>{j(S),We()},complete:()=>{Me(s)}});s.subscription=h},j=t=>{if(!!t){if(Array.isArray(t)){for(const s of t)j(s);return}if(t.type==="RemeshCommandPayload"){Ke(t);return}else if(t.type==="RemeshEventPayload"){_t(t);return}else if(t.type==="RemeshStateSetterPayload"){Qt(t);return}else if(t.type==="RemeshCommand$Payload"){Ye(t);return}throw new Error(`Unknown command output of ${t}`)}},Ye=t=>{e.inspectCommand$Received(k.Command$Received,t);const{Command$:s,arg:m}=t,p=Ce(s);Mt(s),p.subject.next(m)},At=(t,s)=>{ze(t.domainSubscriptionSet,s),s.add(()=>{a.add(t),Y()})},Vt=(t,s)=>{const m=U(t);return m.observable.subscribe(s)},Ut=(t,s)=>we(t).observable.subscribe(s),jt=t=>{const s={};for(const m in t.command){const p=t.command[m];s[m]=h=>Ge(p(h))}return s},Ot=t=>{const s=C(t);if(s.domainOutput)return s.domainOutput;const m=s.domain,p=jt(m),h=x($({},m),{command:p});return s.domainOutput=h,h},Tt=t=>{for(const s of t.igniteFnSet)He(s)},Ft=t=>{if(!t.running){t.running=!0;for(const s of t.upstreamSet){const m=Je(s.domainPayload);ze(t.upstreamSubscriptionSet,m)}Tt(t)}},Je=t=>{const s=C(t),m=new H;return At(s,m),Ft(s),m},Pt=()=>{e.destroyInspectors();for(const t of d.values())Ae(t);d.clear(),o.clear()},Ge=t=>{t.type==="RemeshCommandPayload"?(Ke(t),We()):t.type==="RemeshCommand$Payload"&&Ye(t)},Xe=t=>{const s=C(t);if(s.running)throw new Error(`Domain ${t.Domain.domainName} was ignited before preloading`);if(s.preloadedPromise)return s.preloadedPromise;const m=Wt(t);return s.preloadedPromise=m,m},Wt=async t=>{const s=C(t);await Promise.all(Array.from(s.upstreamSet).map(m=>Xe(m.domainPayload))),await Promise.all(s.preloadOptionsList.map(async m=>{const p={get:g.get,peek:g.peek,hasNoValue:g.hasNoValue},h=await m.query(p);if(s.preloadedState.hasOwnProperty(m.key))throw new Error(`Duplicate key ${m.key}`);s.preloadedState[m.key]=h;const S=$({},p),w=m.command(S,h);j(w)}))},Lt=()=>{const t={};for(const s of d.values())Object.assign(t,s.preloadedState);return t},Kt=t=>C(t).preloadedState;return{name:r.name,getDomain:Ot,query:Ue,emitEvent:Le,sendCommand:Ge,discard:Pt,preload:Xe,getPreloadedState:Lt,getDomainPreloadedState:Kt,subscribeQuery:Vt,subscribeEvent:Ut,subscribeDomain:Je,getKey:I}},ct=n=>{for(const r of n)r.unsubscribe()},St={domain:fe,extern:on,store:ht,state:te,query:le,command:mt,command$:dt};var vt={exports:{}},gt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T=N.exports;function Rn(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Dn=typeof Object.is=="function"?Object.is:Rn,$n=T.useState,Cn=T.useEffect,xn=T.useLayoutEffect,Nn=T.useDebugValue;function In(n,r){var e=r(),o=$n({inst:{value:e,getSnapshot:r}}),i=o[0].inst,a=o[1];return xn(function(){i.value=e,i.getSnapshot=r,ie(i)&&a({inst:i})},[n,e,r]),Cn(function(){return ie(i)&&a({inst:i}),n(function(){ie(i)&&a({inst:i})})},[n]),Nn(e),e}function ie(n){var r=n.getSnapshot;n=n.value;try{var e=r();return!Dn(n,e)}catch{return!0}}function kn(n,r){return r()}var Qn=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?kn:In;gt.useSyncExternalStore=T.useSyncExternalStore!==void 0?T.useSyncExternalStore:Qn;vt.exports=gt;const bt=N.exports.createContext(null),_n=()=>{const n=N.exports.useContext(bt);if(n===null)throw new Error("You may forget to add <RemeshRoot />");return n},ye=()=>_n().remeshStore,Ln=n=>{const r=N.exports.useRef(n.store);r.current||(r.current=ht("options"in n?n.options:{}));const e=r.current,o=N.exports.useMemo(()=>({remeshStore:e}),[e]);return Jt(bt.Provider,{value:o,children:n.children})},Kn=function(n){Mn(n.Query.owner);const r=ye(),e=N.exports.useRef(null),o=N.exports.useCallback(v=>(e.current=v,()=>{e.current=null}),[]),i=N.exports.useCallback(()=>r.query(n),[r,n]),a=vt.exports.useSyncExternalStore(o,i,i),d=N.exports.useRef(null),y=r.getKey(n);return N.exports.useEffect(()=>()=>{var v;(v=d.current)==null||v.unsubscribe(),d.current=null},[r,y]),N.exports.useEffect(()=>{d.current===null&&(d.current=r.subscribeQuery(n,()=>{var v;(v=e.current)==null||v.call(e)}))},[r,n]),a},zn=function(n,r){const e=ye(),o=N.exports.useRef(r);N.exports.useEffect(()=>{o.current=r}),N.exports.useEffect(()=>{const i=e.subscribeEvent(n,a=>{o.current(a)});return()=>{i.unsubscribe()}},[n,e])},Mn=function(n){const r=ye(),e=N.exports.useRef(null),o=r.getDomain(n),i=r.getKey(n);return N.exports.useEffect(()=>()=>{var a;(a=e.current)==null||a.unsubscribe(),e.current=null},[r,i]),N.exports.useEffect(()=>{e.current===null&&(e.current=r.subscribeDomain(n))},[r,n]),o},An=n=>{const r=n.getHours().toString().padStart(2,"0"),e=n.getMinutes().toString().padStart(2,"0"),o=n.getSeconds().toString().padStart(2,"0"),i=n.getMilliseconds().toString().padStart(3,"0");return`${r}:${e}:${o}.${i}`},Vn=()=>{const n=new Date;return An(n)},wt=n=>{const r=$({include:["state","domain","event","command","command$"]},n);return{onActive:(o,i)=>{var a;(a=r.exclude)!=null&&a.includes(o)||(r.include?r.include.includes(o)&&i():i())}}},Un=()=>{if(typeof window!="undefined")return window.__REDUX_DEVTOOLS_EXTENSION__},Hn=n=>{const r=Un();if(!!r)return e=>{var l;const o=wt(n),i=r.connect({name:e==null?void 0:e.name,features:{pause:!1,lock:!1,persist:!1,export:!1,import:!1,jump:!1,skip:!1,reorder:!1,dispatch:!1,test:!1}}),a=(c,u)=>{i.send(u,null)},d=St.store({name:`RemeshReduxDevtools(${(l=e==null?void 0:e.name)!=null?l:""})`}),y=d.getDomain(A()),v=c=>{const u={domainId:c.Domain.domainId,domainName:c.Domain.domainName};return c.arg!==void 0?x($({},u),{domainArg:c.arg}):u};return o.onActive("domain",()=>{d.subscribeEvent(y.event.RemeshDomainStorageEvent,c=>{const u=c.storage.Domain,f={type:`${c.type}::${u.domainName}`,domainId:u.domainId,domainName:u.domainName};c.storage.arg!==void 0?a(f.type,x($({},f),{domainArg:c.storage.arg})):a(f.type,f)})}),o.onActive("state",()=>{d.subscribeEvent(y.event.RemeshStateStorageEvent,c=>{const u=c.storage.State,f={type:`${c.type}::${u.stateName}`,owner:v(u.owner),stateId:u.stateId,stateName:u.stateName,stateValue:c.storage.currentState};c.storage.arg!==void 0?a(f.type,x($({},f),{stateArg:c.storage.arg})):a(f.type,f)})}),o.onActive("query",()=>{d.subscribeEvent(y.event.RemeshQueryStorageEvent,c=>{const u=c.storage.Query,f={type:`${c.type}::${u.queryName}`,owner:v(u.owner),queryId:u.queryId,queryName:u.queryName};c.storage.arg!==void 0?a(f.type,x($({},f),{queryArg:c.storage.arg})):a(f.type,f)})}),o.onActive("command",()=>{d.subscribeEvent(y.event.RemeshCommandReceivedEvent,c=>{const u=c.payload.Command,f={type:`${c.type}::${u.commandName}`,owner:v(u.owner),commandId:u.commandId,commandName:u.commandName};c.payload.arg!==void 0?a(f.type,x($({},f),{commandArg:c.payload.arg})):a(f.type,f)})}),o.onActive("command$",()=>{d.subscribeEvent(y.event.RemeshCommand$ReceivedEvent,c=>{const u=c.payload.Command$,f={type:`${c.type}::${u.command$Name}`,owner:v(u.owner),command$Id:u.command$Id,command$Name:u.command$Name};c.payload.arg!==void 0?a(f.type,x($({},f),{command$Arg:c.payload.arg})):a(f.type,f)})}),o.onActive("event",()=>{d.subscribeEvent(y.event.RemeshEventEmittedEvent,c=>{const u=c.payload.Event,f={type:`${c.type}::${u.eventName}`,owner:v(u.owner),eventId:u.eventId,eventName:u.eventName};c.payload.arg!==void 0?a(f.type,x($({},f),{eventArg:c.payload.arg})):a(f.type,f)})}),d}},Yn=n=>r=>{var v;const e=$({collapsed:!0},n),o=wt(e),i=(l,c)=>{if(e.collapsed){const u=l.split("::");console.groupCollapsed(`%c${u[0]}%c::%c${u[1]}%c::%c${u[2]}%c @ ${Vn()}`,"color:#03A9F4; font-weight: bold","color:#9E9E9E; font-weight: bold","color:#4CAF50; font-weight: bold","color:#9E9E9E; font-weight: bold","color:#AA07DE; font-weight: bold","color:#9E9E9E; font-weight: lighter")}console.log(c),e.collapsed&&console.groupEnd()},a=St.store(x($({},r),{name:`RemeshLogger(${(v=r==null?void 0:r.name)!=null?v:""})`})),d=a.getDomain(A()),y=l=>{const c={domainId:l.Domain.domainId,domainName:l.Domain.domainName};return l.arg!==void 0?x($({},c),{domainArg:l.arg}):c};return o.onActive("domain",()=>{a.subscribeEvent(d.event.RemeshDomainStorageEvent,l=>{const c=l.storage.Domain,u={type:`${l.type}::${c.domainName}`,domainId:c.domainId,domainName:c.domainName};l.storage.arg!==void 0?i(u.type,x($({},u),{domainArg:l.storage.arg})):i(u.type,u)})}),o.onActive("state",()=>{a.subscribeEvent(d.event.RemeshStateStorageEvent,l=>{const c=l.storage.State,u={type:`${l.type}::${c.stateName}`,owner:y(c.owner),stateId:c.stateId,stateName:c.stateName,stateValue:l.storage.currentState};l.storage.arg!==void 0?i(u.type,x($({},u),{stateArg:l.storage.arg})):i(u.type,u)})}),o.onActive("query",()=>{a.subscribeEvent(d.event.RemeshQueryStorageEvent,l=>{const c=l.storage.Query,u={type:`${l.type}::${c.queryName}`,owner:y(c.owner),queryId:c.queryId,queryName:c.queryName,queryValue:l.storage.currentValue};l.storage.arg!==void 0?i(u.type,x($({},u),{queryArg:l.storage.arg})):i(u.type,u)})}),o.onActive("command",()=>{a.subscribeEvent(d.event.RemeshCommandReceivedEvent,l=>{const c=l.payload.Command,u={type:`${l.type}::${c.commandName}`,owner:y(c.owner),commandId:c.commandId,commandName:c.commandName};l.payload.arg!==void 0?i(u.type,x($({},u),{commandArg:l.payload.arg})):i(u.type,u)})}),o.onActive("command$",()=>{a.subscribeEvent(d.event.RemeshCommand$ReceivedEvent,l=>{const c=l.payload.Command$,u={type:`${l.type}::${c.command$Name}`,owner:y(c.owner),command$Id:c.command$Id,command$Name:c.command$Name};l.payload.arg!==void 0?i(u.type,x($({},u),{command$Arg:l.payload.arg})):i(u.type,u)})}),o.onActive("event",()=>{a.subscribeEvent(d.event.RemeshEventEmittedEvent,l=>{const c=l.payload.Event,u={type:`${l.type}::${c.eventName}`,owner:y(c.owner),eventId:c.eventId,eventName:c.eventName};l.payload.arg!==void 0?i(u.type,x($({},u),{eventArg:l.payload.arg})):i(u.type,u)})}),a};export{ee as O,St as R,H as S,Z as _,q as a,Kn as b,Hn as c,Yn as d,Ln as e,_ as f,ne as g,yt as h,hn as i,Pn as j,Fn as k,ue as l,Tn as m,st as n,yn as o,K as p,Wn as q,an as r,me as s,zn as t,Mn as u};
//# sourceMappingURL=remesh-logger.a646541e.js.map
