{"version":3,"file":"counter.57e7319e.js","sources":["../../../projects/domains/src/others/counter.ts","../../../projects/react-demos/src/others/counter.tsx"],"sourcesContent":["import { Remesh } from 'remesh'\n\nexport const CounterDomain = Remesh.domain({\n  name: 'CounterDomain',\n  impl: (domain) => {\n    const CountState = domain.state({\n      name: 'CountState',\n      default: 0,\n    })\n\n    const CountIncreQuery = domain.query({\n      name: 'CountIncreQuery',\n      impl: ({ get }) => {\n        const count = get(CountState())\n        return count + 1\n      },\n    })\n\n    const CountDecreQuery = domain.query({\n      name: 'CountDecreQuery',\n      impl: ({ get }) => {\n        const count = get(CountState())\n        return count - 1\n      },\n    })\n\n    const CountDoubleQuery = domain.query({\n      name: 'CountDoubleQuery',\n      impl: ({ get }) => {\n        const incredCount = get(CountIncreQuery())\n        const decredCount = get(CountDecreQuery())\n        return 2 * (incredCount + decredCount)\n      },\n    })\n\n    const CountInfoQuery = domain.query({\n      name: 'CountInfoQuery',\n      impl: ({ get }) => {\n        const [incre, decre, double] = [get(CountIncreQuery()), get(CountDecreQuery()), get(CountDoubleQuery())]\n        return { incre, decre, double }\n      },\n    })\n\n    const IncreCommand = domain.command({\n      name: 'IncreCommand',\n      impl: ({ get }) => {\n        const count = get(CountState())\n        return CountState().new(count + 1)\n      },\n    })\n\n    const DecreCommand = domain.command({\n      name: 'DecreCommand',\n      impl: ({ get }) => {\n        const count = get(CountState())\n        return CountState().new(count - 1)\n      },\n    })\n\n    return {\n      query: {\n        CountInfoQuery,\n      },\n      command: {\n        IncreCommand,\n        DecreCommand,\n      },\n    }\n  },\n})\n","import { useRemeshDomain, useRemeshQuery, useRemeshSend } from 'remesh-react'\n\nimport { CounterDomain } from 'remesh-domains-for-demos/dist/others/counter'\n\nexport default () => {\n  const send = useRemeshSend()\n  const counterDomain = useRemeshDomain(CounterDomain())\n\n  const countInfo = useRemeshQuery(counterDomain.query.CountInfoQuery())\n\n  return (\n    <div>\n      <h2>Counter</h2>\n      <button onClick={() => send(counterDomain.command.IncreCommand())}>Increment</button>{' '}\n      <button onClick={() => send(counterDomain.command.DecreCommand())}>Decrement</button>\n      <div>\n        <h3>Count Query</h3>\n        <pre>{JSON.stringify(countInfo, null, 2)}</pre>\n      </div>\n    </div>\n  )\n}\n"],"names":["send","useRemeshSend","counterDomain","useRemeshDomain","CounterDomain","countInfo","useRemeshQuery","query","CountInfoQuery","_jsx","command","IncreCommand","DecreCommand","_jsxs","JSON","stringify"],"mappings":"0HAEa,KAAA,GAAgB,EAAO,OAAO,CACzC,KAAM,gBACN,KAAM,AAAC,GAAW,CACV,KAAA,GAAa,EAAO,MAAM,CAC9B,KAAM,aACN,QAAS,CAAA,CACV,EAEK,EAAkB,EAAO,MAAM,CACnC,KAAM,kBACN,KAAM,CAAC,CAAE,SAEA,AADO,EAAI,EAAA,CAAY,EACf,CACjB,CACD,EAEK,EAAkB,EAAO,MAAM,CACnC,KAAM,kBACN,KAAM,CAAC,CAAE,SAEA,AADO,EAAI,EAAA,CAAY,EACf,CACjB,CACD,EAEK,EAAmB,EAAO,MAAM,CACpC,KAAM,mBACN,KAAM,CAAC,CAAE,SAAU,CACX,KAAA,GAAc,EAAI,EAAA,CAAiB,EACnC,EAAc,EAAI,EAAA,CAAiB,EACzC,MAAO,GAAmB,GAAA,EAC5B,CAAA,CACD,EAEK,EAAiB,EAAO,MAAM,CAClC,KAAM,iBACN,KAAM,CAAC,CAAE,SAAU,CACjB,KAAM,CAAC,EAAO,EAAO,GAAU,CAAC,EAAI,EAAgB,CAAC,EAAG,EAAI,GAAiB,EAAG,EAAI,EAAA,CAAkB,CAAC,EAChG,MAAA,CAAE,QAAO,QAAO,SACzB,CAAA,CACD,EAEK,EAAe,EAAO,QAAQ,CAClC,KAAM,eACN,KAAM,CAAC,CAAE,SAAU,CACX,KAAA,GAAQ,EAAI,EAAA,CAAY,EAC9B,MAAO,GAAW,EAAE,IAAI,EAAQ,CAAC,CACnC,CAAA,CACD,EAEK,EAAe,EAAO,QAAQ,CAClC,KAAM,eACN,KAAM,CAAC,CAAE,SAAU,CACX,KAAA,GAAQ,EAAI,EAAA,CAAY,EAC9B,MAAO,GAAW,EAAE,IAAI,EAAQ,CAAC,CACnC,CAAA,CACD,EAEM,MAAA,CACL,MAAO,CACL,gBACF,EACA,QAAS,CACP,eACA,cACF,CAAA,CAEJ,CACF,CAAC,ECjED,GAAA,GAAe,IAAM,CACbA,KAAAA,GAAOC,IACPC,EAAgBC,EAAgBC,EAAAA,CAAD,EAE/BC,EAAYC,EAAeJ,EAAcK,MAAMC,eAArB,CAAA,EAG9B,SAAA,MAAA,CACE,SAAA,CAAAC,EAAA,KAAA,CAAA,SAAA,SAAA,CAAA,EACAA,EAAA,SAAA,CAAQ,QAAS,IAAMT,EAAKE,EAAcQ,QAAQC,cAAvB,EAA3B,SAAA,WAAA,CAFF,EAEwF,IACtFF,EAAA,SAAA,CAAQ,QAAS,IAAMT,EAAKE,EAAcQ,QAAQE,cAAvB,EAA3B,SAAA,WAAA,CAAA,EACAC,EAAA,MAAA,CACE,SAAA,CAAAJ,EAAA,KAAA,CAAA,SAAA,aAAA,CAAA,EACAA,EAAA,MAAA,CAAMK,SAAAA,KAAKC,UAAUV,EAAW,KAAM,CAAhC,CAAA,CAFR,CAAA,CAAA,CAJF,CAAA,CAAA,CADF,CAWD"}