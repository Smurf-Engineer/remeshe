{"version":3,"file":"index.d5e81885.js","sources":["../../../projects/react-demos/vite/preload-helper","../../../projects/react-demos/src/others/index.tsx"],"sourcesContent":["const scriptRel = 'modulepreload';const seen = {};const base = '/remesh/dist/react/';export const __vitePreload = function preload(baseModule, deps) {\n    // @ts-ignore\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\n        return baseModule();\n    }\n    return Promise.all(deps.map((dep) => {\n        // @ts-ignore\n        dep = `${base}${dep}`;\n        // @ts-ignore\n        if (dep in seen)\n            return;\n        // @ts-ignore\n        seen[dep] = true;\n        const isCss = dep.endsWith('.css');\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\n        // @ts-ignore check if the file is already preloaded by SSR markup\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\n            return;\n        }\n        // @ts-ignore\n        const link = document.createElement('link');\n        // @ts-ignore\n        link.rel = isCss ? 'stylesheet' : scriptRel;\n        if (!isCss) {\n            link.as = 'script';\n            link.crossOrigin = '';\n        }\n        link.href = dep;\n        // @ts-ignore\n        document.head.appendChild(link);\n        if (isCss) {\n            return new Promise((res, rej) => {\n                link.addEventListener('load', res);\n                link.addEventListener('error', () => rej(new Error(`Unable to preload CSS for ${dep}`)));\n            });\n        }\n    })).then(() => baseModule());\n}","import React, { StrictMode, useState, useEffect, Suspense } from 'react'\nimport { createRoot } from 'react-dom/client'\n\nimport { Remesh } from 'remesh'\n\nimport { RemeshRoot } from 'remesh-react'\nimport { RemeshReduxDevtools } from 'remesh-redux-devtools'\nimport { RemeshLogger } from 'remesh-logger'\n\nconst useHash = () => {\n  const [hash, setHash] = useState(window.location.hash.substring(1))\n\n  useEffect(() => {\n    const onHashChange = () => {\n      setHash(window.location.hash.substring(1))\n    }\n    window.addEventListener('hashchange', onHashChange)\n    return () => {\n      window.removeEventListener('hashchange', onHashChange)\n    }\n  })\n\n  return hash\n}\n\nconst CounterApp = React.lazy(() => import('./counter'))\nconst PaginationApp = React.lazy(() => import('./pagination'))\n\nconst ComponentMap = {\n  counter: CounterApp,\n  pagination: PaginationApp,\n}\n\nconst Menu = () => {\n  return (\n    <ul>\n      <li>\n        <a href={import.meta.env.BASE_URL}>Home</a>\n      </li>\n      <li>\n        <a href=\"#counter\">Counter</a>\n      </li>\n      <li>\n        <a href=\"#pagination\">Pagination</a>\n      </li>\n    </ul>\n  )\n}\n\nconst App = () => {\n  const hash = useHash()\n  const Component = ComponentMap[hash || 'pagination']\n\n  return (\n    <div>\n      <Menu />\n      <Suspense fallback=\"loading...\">{!!Component ? <Component /> : 'Not Found'}</Suspense>\n    </div>\n  )\n}\n\nconst storeOptions = {\n  inspectors: [\n    RemeshReduxDevtools(),\n    RemeshLogger({\n      include: ['command', 'query', 'event', 'domain', 'command$', 'state'],\n    }),\n  ],\n}\n\nconst rootElem = document.getElementById('root')\n\nif (rootElem) {\n  const root = createRoot(rootElem)\n\n  root.render(\n    <StrictMode>\n      <RemeshRoot options={storeOptions}>\n        <App />\n      </RemeshRoot>\n    </StrictMode>,\n  )\n}\n"],"names":["useHash","hash","setHash","useState","window","location","substring","useEffect","onHashChange","addEventListener","removeEventListener","CounterApp","React","lazy","PaginationApp","ComponentMap","counter","pagination","Menu","_jsx","import","App","Component","Suspense","storeOptions","inspectors","RemeshReduxDevtools","RemeshLogger","include","rootElem","document","getElementById","render","createRoot","StrictMode"],"mappings":"wIAAA,KAAM,GAAY,gBAAsB,EAAO,CAAE,EAAO,EAAO,sBAAmC,EAAgB,SAAiB,EAAY,EAAM,CAEjJ,MAAI,AAAuB,CAAC,GAAQ,EAAK,SAAW,EACzC,EAAU,EAEd,QAAQ,IAAI,EAAK,IAAI,AAAC,GAAQ,CAIjC,GAFA,EAAM,GAAG,IAAO,IAEZ,IAAO,GACP,OAEJ,EAAK,GAAO,GACZ,KAAM,GAAQ,EAAI,SAAS,MAAM,EAC3B,EAAc,EAAQ,qBAAuB,GAEnD,GAAI,SAAS,cAAc,cAAc,MAAQ,GAAa,EAC1D,OAGJ,KAAM,GAAO,SAAS,cAAc,MAAM,EAU1C,GARA,EAAK,IAAM,EAAQ,aAAe,EAC7B,GACD,GAAK,GAAK,SACV,EAAK,YAAc,IAEvB,EAAK,KAAO,EAEZ,SAAS,KAAK,YAAY,CAAI,EAC1B,EACA,MAAO,IAAI,SAAQ,CAAC,EAAK,IAAQ,CAC7B,EAAK,iBAAiB,OAAQ,CAAG,EACjC,EAAK,iBAAiB,QAAS,IAAM,EAAI,GAAI,OAAM,6BAA6B,GAAK,CAAC,CAAC,CACvG,CAAa,CAER,CAAA,CAAC,EAAE,KAAK,IAAM,EAAY,CAAA,CAC/B,EC5BMA,EAAU,IAAM,CACd,KAAA,CAACC,EAAMC,GAAWC,mBAASC,OAAOC,SAASJ,KAAKK,UAAU,CAA/B,CAAD,EAEhCC,SAAAA,QAAAA,UAAU,IAAM,CACRC,KAAAA,GAAe,IAAM,CACzBN,EAAQE,OAAOC,SAASJ,KAAKK,UAAU,CAA/B,CAAD,CAAA,EAEFG,cAAAA,iBAAiB,aAAcD,CAAtC,EACO,IAAM,CACJE,OAAAA,oBAAoB,aAAcF,CAAzC,CAAA,CADF,CALO,EAUFP,CACR,EAEKU,EAAaC,EAAMC,KAAK,IAAM,EAAA,IAAA,OAAA,yBAAA,kBAAA,CAAjB,EACbC,EAAgBF,EAAMC,KAAK,IAAM,EAAA,IAAA,OAAA,4BAAA,kBAAA,CAAjB,EAEhBE,EAAe,CACnBC,QAASL,EACTM,WAAYH,CAFO,EAKfI,EAAO,MAET,KAAA,CACE,SAAA,CAAAC,EAAA,KAAA,CACE,WAAA,IAAA,CAAG,KAAMC,sBAAT,SAAA,MAAA,CAAA,CAAA,CADF,EAGAD,EAAA,KAAA,CACE,WAAA,IAAA,CAAG,KAAK,WAAR,SAAA,SAAA,CAAA,CAAA,CADF,EAGAA,EAAA,KAAA,CACE,WAAA,IAAA,CAAG,KAAK,cAAR,SAAA,YAAA,CAAA,CAAA,CARJ,CAAA,CAAA,CADF,EAeIE,EAAM,IAAM,CACVpB,KAAAA,GAAOD,IACPsB,EAAYP,EAAad,GAAQ,cAGrC,SAAA,MAAA,CAAA,SAAA,CACGkB,EAAA,EADH,CAAA,CAAA,IAEGI,mBAAD,CAAU,SAAS,aAAnB,SAAiC,AAAED,IAAa,MAAe,WAAA,CAFjE,CAAA,CAAA,CADF,CAMD,EAEKE,EAAe,CACnBC,WAAY,CACVC,EADU,EAEVC,EAAa,CACXC,QAAS,CAAC,UAAW,QAAS,QAAS,SAAU,WAAY,OAApD,CAAA,CADC,CAFF,CADO,EASfC,EAAWC,SAASC,eAAe,MAAxB,EAEjB,AAAIF,GAGGG,AAFQC,EAAWJ,CAAD,EAElBG,SACFE,qBAAD,CAAA,WACG,EAAD,CAAY,QAASV,EAArB,SACEL,EAAC,EAAD,EAAA,CAAA,CADF,CAFJ,CAAA,CAAA"}