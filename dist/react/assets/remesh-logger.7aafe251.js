var Zt=Object.defineProperty,qt=Object.defineProperties;var Bt=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var ot=(t,n,e)=>n in t?Zt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,x=(t,n)=>{for(var e in n||(n={}))st.call(n,e)&&ot(t,e,n[e]);if(ne)for(var e of ne(n))at.call(n,e)&&ot(t,e,n[e]);return t},k=(t,n)=>qt(t,Bt(n));var it=(t,n)=>{var e={};for(var o in t)st.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&ne)for(var o of ne(t))n.indexOf(o)<0&&at.call(t,o)&&(e[o]=t[o]);return e};import{r as N,a as en}from"./jsx-runtime.cbb87597.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Se=function(t,n){return Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])},Se(t,n)};function X(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Se(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}function tn(t,n,e,o){function s(a){return a instanceof e?a:new e(function(c){c(a)})}return new(e||(e=Promise))(function(a,c){function d(u){try{l(o.next(u))}catch(f){c(f)}}function h(u){try{l(o.throw(u))}catch(f){c(f)}}function l(u){u.done?a(u.value):s(u.value).then(d,h)}l((o=o.apply(t,n||[])).next())})}function yt(t,n){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(l){return function(u){return h([l,u])}}function h(l){if(o)throw new TypeError("Generator is already executing.");for(;e;)try{if(o=1,s&&(a=l[0]&2?s.return:l[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,l[1])).done)return a;switch(s=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,s=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){e.label=l[1];break}if(l[0]===6&&e.label<a[1]){e.label=a[1],a=l;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(l);break}a[2]&&e.ops.pop(),e.trys.pop();continue}l=n.call(t,e)}catch(u){l=[6,u],s=0}finally{o=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function z(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],o=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var o=e.call(t),s,a=[],c;try{for(;(n===void 0||n-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(d){c={error:d}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(c)throw c.error}}return a}function ae(t,n,e){if(e||arguments.length===2)for(var o=0,s=n.length,a;o<s;o++)(a||!(o in n))&&(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return t.concat(a||Array.prototype.slice.call(n))}function W(t){return this instanceof W?(this.v=t,this):new W(t)}function nn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=e.apply(t,n||[]),s,a=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(p){o[p]&&(s[p]=function(w){return new Promise(function(E,C){a.push([p,w,E,C])>1||d(p,w)})})}function d(p,w){try{h(o[p](w))}catch(E){f(a[0][3],E)}}function h(p){p.value instanceof W?Promise.resolve(p.value.v).then(l,u):f(a[0][2],p)}function l(p){d("next",p)}function u(p){d("throw",p)}function f(p,w){p(w),a.shift(),a.length&&d(a[0][0],a[0][1])}}function rn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof z=="function"?z(t):t[Symbol.iterator](),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(a){e[a]=t[a]&&function(c){return new Promise(function(d,h){c=t[a](c),s(d,h,c.done,c.value)})}}function s(a,c,d,h){Promise.resolve(h).then(function(l){a({value:l,done:d})},c)}}function $(t){return typeof t=="function"}function vt(t){var n=function(o){Error.call(o),o.stack=new Error().stack},e=t(n);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var pe=vt(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(o,s){return s+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function be(t,n){if(t){var e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Z=function(){function t(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var n,e,o,s,a;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var d=z(c),h=d.next();!h.done;h=d.next()){var l=h.value;l.remove(this)}}catch(C){n={error:C}}finally{try{h&&!h.done&&(e=d.return)&&e.call(d)}finally{if(n)throw n.error}}else c.remove(this);var u=this.initialTeardown;if($(u))try{u()}catch(C){a=C instanceof pe?C.errors:[C]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=z(f),w=p.next();!w.done;w=p.next()){var E=w.value;try{ct(E)}catch(C){a=a!=null?a:[],C instanceof pe?a=ae(ae([],se(a)),se(C.errors)):a.push(C)}}}catch(C){o={error:C}}finally{try{w&&!w.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}if(a)throw new pe(a)}},t.prototype.add=function(n){var e;if(n&&n!==this)if(this.closed)ct(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}},t.prototype._hasParent=function(n){var e=this._parentage;return e===n||Array.isArray(e)&&e.includes(n)},t.prototype._addParent=function(n){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n},t.prototype._removeParent=function(n){var e=this._parentage;e===n?this._parentage=null:Array.isArray(e)&&be(e,n)},t.prototype.remove=function(n){var e=this._finalizers;e&&be(e,n),n instanceof t&&n._removeParent(this)},t.EMPTY=function(){var n=new t;return n.closed=!0,n}(),t}(),St=Z.EMPTY;function bt(t){return t instanceof Z||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function ct(t){$(t)?t():t.unsubscribe()}var ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ie={setTimeout:function(t,n){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];var s=ie.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,ae([t,n],se(e))):setTimeout.apply(void 0,ae([t,n],se(e)))},clearTimeout:function(t){var n=ie.delegate;return((n==null?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function gt(t){ie.setTimeout(function(){var n=ue.onUnhandledError;if(n)n(t);else throw t})}function ut(){}var on=function(){return we("C",void 0,void 0)}();function sn(t){return we("E",void 0,t)}function an(t){return we("N",t,void 0)}function we(t,n,e){return{kind:t,value:n,error:e}}function oe(t){t()}var Ee=function(t){X(n,t);function n(e){var o=t.call(this)||this;return o.isStopped=!1,e?(o.destination=e,bt(e)&&e.add(o)):o.destination=ln,o}return n.create=function(e,o,s){return new ge(e,o,s)},n.prototype.next=function(e){this.isStopped?ye(an(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?ye(sn(e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?ye(on,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(Z),cn=Function.prototype.bind;function he(t,n){return cn.call(t,n)}var un=function(){function t(n){this.partialObserver=n}return t.prototype.next=function(n){var e=this.partialObserver;if(e.next)try{e.next(n)}catch(o){re(o)}},t.prototype.error=function(n){var e=this.partialObserver;if(e.error)try{e.error(n)}catch(o){re(o)}else re(n)},t.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(e){re(e)}},t}(),ge=function(t){X(n,t);function n(e,o,s){var a=t.call(this)||this,c;if($(e)||!e)c={next:e!=null?e:void 0,error:o!=null?o:void 0,complete:s!=null?s:void 0};else{var d;a&&ue.useDeprecatedNextContext?(d=Object.create(e),d.unsubscribe=function(){return a.unsubscribe()},c={next:e.next&&he(e.next,d),error:e.error&&he(e.error,d),complete:e.complete&&he(e.complete,d)}):c=e}return a.destination=new un(c),a}return n}(Ee);function re(t){gt(t)}function fn(t){throw t}function ye(t,n){var e=ue.onStoppedNotification;e&&ie.setTimeout(function(){return e(t,n)})}var ln={closed:!0,next:ut,error:fn,complete:ut},Re=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function mn(t){return t}function dn(t){return t.length===0?mn:t.length===1?t[0]:function(e){return t.reduce(function(o,s){return s(o)},e)}}var A=function(){function t(n){n&&(this._subscribe=n)}return t.prototype.lift=function(n){var e=new t;return e.source=this,e.operator=n,e},t.prototype.subscribe=function(n,e,o){var s=this,a=hn(n)?n:new ge(n,e,o);return oe(function(){var c=s,d=c.operator,h=c.source;a.add(d?d.call(a,h):h?s._subscribe(a):s._trySubscribe(a))}),a},t.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(e){n.error(e)}},t.prototype.forEach=function(n,e){var o=this;return e=ft(e),new e(function(s,a){var c=new ge({next:function(d){try{n(d)}catch(h){a(h),c.unsubscribe()}},error:a,complete:s});o.subscribe(c)})},t.prototype._subscribe=function(n){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(n)},t.prototype[Re]=function(){return this},t.prototype.pipe=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return dn(n)(this)},t.prototype.toPromise=function(n){var e=this;return n=ft(n),new n(function(o,s){var a;e.subscribe(function(c){return a=c},function(c){return s(c)},function(){return o(a)})})},t.create=function(n){return new t(n)},t}();function ft(t){var n;return(n=t!=null?t:ue.Promise)!==null&&n!==void 0?n:Promise}function pn(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function hn(t){return t&&t instanceof Ee||pn(t)&&bt(t)}function yn(t){return $(t==null?void 0:t.lift)}function fe(t){return function(n){if(yn(n))return n.lift(function(e){try{return t(e,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function T(t,n,e,o,s){return new vn(t,n,e,o,s)}var vn=function(t){X(n,t);function n(e,o,s,a,c,d){var h=t.call(this,e)||this;return h.onFinalize=c,h.shouldUnsubscribe=d,h._next=o?function(l){try{o(l)}catch(u){e.error(u)}}:t.prototype._next,h._error=a?function(l){try{a(l)}catch(u){e.error(u)}finally{this.unsubscribe()}}:t.prototype._error,h._complete=s?function(){try{s()}catch(l){e.error(l)}finally{this.unsubscribe()}}:t.prototype._complete,h}return n.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;t.prototype.unsubscribe.call(this),!o&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},n}(Ee),Sn=vt(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),G=function(t){X(n,t);function n(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return n.prototype.lift=function(e){var o=new lt(this,this);return o.operator=e,o},n.prototype._throwIfClosed=function(){if(this.closed)throw new Sn},n.prototype.next=function(e){var o=this;oe(function(){var s,a;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var c=z(o.currentObservers),d=c.next();!d.done;d=c.next()){var h=d.value;h.next(e)}}catch(l){s={error:l}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}}})},n.prototype.error=function(e){var o=this;oe(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=e;for(var s=o.observers;s.length;)s.shift().error(e)}})},n.prototype.complete=function(){var e=this;oe(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var o=e.observers;o.length;)o.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},n.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},n.prototype._innerSubscribe=function(e){var o=this,s=this,a=s.hasError,c=s.isStopped,d=s.observers;return a||c?St:(this.currentObservers=null,d.push(e),new Z(function(){o.currentObservers=null,be(d,e)}))},n.prototype._checkFinalizedStatuses=function(e){var o=this,s=o.hasError,a=o.thrownError,c=o.isStopped;s?e.error(a):c&&e.complete()},n.prototype.asObservable=function(){var e=new A;return e.source=this,e},n.create=function(e,o){return new lt(e,o)},n}(A),lt=function(t){X(n,t);function n(e,o){var s=t.call(this)||this;return s.destination=e,s.source=o,s}return n.prototype.next=function(e){var o,s;(s=(o=this.destination)===null||o===void 0?void 0:o.next)===null||s===void 0||s.call(o,e)},n.prototype.error=function(e){var o,s;(s=(o=this.destination)===null||o===void 0?void 0:o.error)===null||s===void 0||s.call(o,e)},n.prototype.complete=function(){var e,o;(o=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||o===void 0||o.call(e)},n.prototype._subscribe=function(e){var o,s;return(s=(o=this.source)===null||o===void 0?void 0:o.subscribe(e))!==null&&s!==void 0?s:St},n}(G),bn=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function gn(t){return $(t==null?void 0:t.then)}function wn(t){return $(t[Re])}function En(t){return Symbol.asyncIterator&&$(t==null?void 0:t[Symbol.asyncIterator])}function Rn(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Cn(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Dn=Cn();function xn(t){return $(t==null?void 0:t[Dn])}function $n(t){return nn(this,arguments,function(){var e,o,s,a;return yt(this,function(c){switch(c.label){case 0:e=t.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,W(e.read())];case 3:return o=c.sent(),s=o.value,a=o.done,a?[4,W(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,W(s)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function In(t){return $(t==null?void 0:t.getReader)}function J(t){if(t instanceof A)return t;if(t!=null){if(wn(t))return kn(t);if(bn(t))return Nn(t);if(gn(t))return Qn(t);if(En(t))return wt(t);if(xn(t))return An(t);if(In(t))return Mn(t)}throw Rn(t)}function kn(t){return new A(function(n){var e=t[Re]();if($(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Nn(t){return new A(function(n){for(var e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function Qn(t){return new A(function(n){t.then(function(e){n.closed||(n.next(e),n.complete())},function(e){return n.error(e)}).then(null,gt)})}function An(t){return new A(function(n){var e,o;try{for(var s=z(t),a=s.next();!a.done;a=s.next()){var c=a.value;if(n.next(c),n.closed)return}}catch(d){e={error:d}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(e)throw e.error}}n.complete()})}function wt(t){return new A(function(n){_n(t,n).catch(function(e){return n.error(e)})})}function Mn(t){return wt($n(t))}function _n(t,n){var e,o,s,a;return tn(this,void 0,void 0,function(){var c,d;return yt(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),e=rn(t),h.label=1;case 1:return[4,e.next()];case 2:if(o=h.sent(),!!o.done)return[3,4];if(c=o.value,n.next(c),n.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return d=h.sent(),s={error:d},[3,11];case 6:return h.trys.push([6,,9,10]),o&&!o.done&&(a=e.return)?[4,a.call(e)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}function Un(t,n,e,o,s){o===void 0&&(o=0),s===void 0&&(s=!1);var a=n.schedule(function(){e(),s?t.add(this.schedule(null,o)):this.unsubscribe()},o);if(t.add(a),!s)return a}function Et(t,n){return fe(function(e,o){var s=0;e.subscribe(T(o,function(a){o.next(t.call(n,a,s++))}))})}function On(t,n,e,o,s,a,c,d){var h=[],l=0,u=0,f=!1,p=function(){f&&!h.length&&!l&&n.complete()},w=function(C){return l<o?E(C):h.push(C)},E=function(C){a&&n.next(C),l++;var B=!1;J(e(C,u++)).subscribe(T(n,function(_){s==null||s(_),a?w(_):n.next(_)},function(){B=!0},void 0,function(){if(B)try{l--;for(var _=function(){var V=h.shift();c?Un(n,c,function(){return E(V)}):E(V)};h.length&&l<o;)_();p()}catch(V){n.error(V)}}))};return t.subscribe(T(n,w,function(){f=!0,p()})),function(){d==null||d()}}function ce(t,n,e){return e===void 0&&(e=1/0),$(n)?ce(function(o,s){return Et(function(a,c){return n(o,a,s,c)})(J(t(o,s)))},e):(typeof n=="number"&&(e=n),fe(function(o,s){return On(o,s,t,e)}))}function Vn(t,n){return $(n)?ce(t,n,1):ce(t,1)}function Rt(t,n){return n?function(e){return e.pipe(Rt(function(o,s){return J(t(o,s)).pipe(Et(function(a,c){return n(o,a,s,c)}))}))}:fe(function(e,o){var s=0,a=null,c=!1;e.subscribe(T(o,function(d){a||(a=T(o,void 0,function(){a=null,c&&o.complete()}),J(t(d,s++)).subscribe(a))},function(){c=!0,!a&&o.complete()}))})}function jn(t,n){return fe(function(e,o){var s=null,a=0,c=!1,d=function(){return c&&!s&&o.complete()};e.subscribe(T(o,function(h){s==null||s.unsubscribe();var l=0,u=a++;J(t(h,u)).subscribe(s=T(o,function(f){return o.next(n?n(h,f,u,l++):f)},function(){s=null,d()}))},function(){c=!0,d()}))})}var mt=function(n,e,o,s){var a=o?o.call(s,n,e):void 0;if(a!==void 0)return!!a;if(n===e)return!0;if(typeof n!="object"||!n||typeof e!="object"||!e)return!1;var c=Object.keys(n),d=Object.keys(e);if(c.length!==d.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(e),l=0;l<c.length;l++){var u=c[l];if(!h(u))return!1;var f=n[u],p=e[u];if(a=o?o.call(s,f,p,u):void 0,a===!1||a===void 0&&f!==p)return!1}return!0};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function dt(t){return Object.prototype.toString.call(t)==="[object Object]"}function pt(t){var n,e;return dt(t)===!1?!1:(n=t.constructor,n===void 0?!0:(e=n.prototype,!(dt(e)===!1||e.hasOwnProperty("isPrototypeOf")===!1)))}const j=Symbol("RemeshValuePlaceholder");let Tn=0;function Fn(t){var o;const n=Tn++,e=s=>({type:"RemeshEventPayload",arg:s,Event:e});return e.type="RemeshEvent",e.eventId=n,e.eventName=t.name,e.owner=q(),e.inspectable="inspectable"in t&&(o=t.inspectable)!=null?o:!0,"impl"in t&&(e.impl=t.impl),e}const Ln=t=>le({name:t.name,impl:()=>t.default,inspectable:t.inspectable,compare:t.compare}),Wn=t=>le({name:t.name,defer:!0,impl:n=>{throw new Error(`RemeshDeferState: use ${t.name} before setting state`)},inspectable:t.inspectable,compare:t.compare});let zn=0;const Ct=(t,n)=>pt(t)&&pt(n)||Array.isArray(t)&&Array.isArray(n)?mt(t,n):t===n,le=t=>{var s,a,c;const n=zn++;let e=null;const o=d=>{if(d===void 0&&e)return e;const h={type:"RemeshStateItem",arg:d,State:o,new:l=>({type:"RemeshStateSetterPayload",stateItem:h,newState:l})};return d===void 0&&(e=h),h};return o.type="RemeshState",o.stateId=n,o.stateName=t.name,o.impl=t.impl,o.compare=(s=t.compare)!=null?s:Ct,o.owner=q(),o.inspectable=(a=t.inspectable)!=null?a:!0,o.defer=(c=t.defer)!=null?c:!1,o.query=Ce({name:`${t.name}.Query`,inspectable:!1,impl:({get:d},h)=>d(o(h))}),o};let Kn=0;const Ce=t=>{var s,a;const n=Kn++;let e=null;const o=c=>{if(c===void 0&&e)return e;const d={type:"RemeshQueryPayload",Query:o,arg:c};return c===void 0&&(e=d),d};return o.type="RemeshQuery",o.queryId=n,o.queryName=t.name,o.prepare=t.prepare,o.impl=t.impl,o.compare=(s=t.compare)!=null?s:Ct,o.owner=q(),o.inspectable=(a=t.inspectable)!=null?a:!0,o};let Pn=0;const Dt=t=>{var o;const n=Pn++,e=s=>({type:"RemeshCommandPayload",arg:s,Command:e});return e.type="RemeshCommand",e.commandId=n,e.commandName=t.name,e.impl=t.impl,e.owner=q(),e.inspectable=(o=t.inspectable)!=null?o:!0,e};let Yn=0;const De=t=>{var o;const n=Yn++,e=s=>({type:"RemeshCommand$Payload",arg:s,Command$:e});return e.type="RemeshCommand$",e.command$Id=n,e.command$Name=t.name,e.impl=t.impl,e.owner=q(),e.inspectable=(o=t.inspectable)!=null?o:!0,e},xt=t=>De({name:t.name,inspectable:t.inspectable,impl:(e,o)=>{if(!t.mode||t.mode==="switch")return o.pipe(jn(s=>t.impl(e,s)));if(t.mode==="merge")return o.pipe(ce(s=>t.impl(e,s)));if(t.mode==="concat")return o.pipe(Vn(s=>t.impl(e,s)));if(t.mode==="exhaust")return o.pipe(Rt(s=>t.impl(e,s)));throw new Error(`RemeshCommandAsync: invalid mode: ${t.mode}`)}});let Hn=0;const Gn=t=>{const n=e=>({type:"RemeshExternPayload",Extern:n,value:e});return n.externId=Hn++,n.externName=t.name,n.default=t.default,n};let Jn=0;const xe=t=>{var o;let n=null;const e=s=>{if(s===void 0&&n)return n;const a={type:"RemeshDomainPayload",Domain:e,arg:s};return s===void 0&&(n=a),a};return e.type="RemeshDomain",e.domainId=Jn++,e.domainName=t.name,e.impl=t.impl,e.inspectable=(o=t.inspectable)!=null?o:!0,e},q=xe({name:"DefaultDomain",impl:()=>({})}),Q={DomainCreated:"Domain::Created",DomainDestroyed:"Domain::Destroyed",DomainRestored:"Domain::Restored",StateCreated:"State::Created",StateUpdated:"State::Updated",StateDestroyed:"State::Destroyed",StateRestored:"State::Restored",QueryCreated:"Query::Created",QueryUpdated:"Query::Updated",QueryDestroyed:"Query::Destroyed",QueryRestored:"Query::Restored",EventEmitted:"Event::Emitted",CommandReceived:"Command::Received",Command$Received:"Command$::Received"},O=xe({name:"RemeshInspector",impl:t=>{const n=t.event({name:"RemeshDomainStorageEvent"}),e=t.event({name:"RemeshStateStorageEvent"}),o=t.event({name:"RemeshQueryStorageEvent"}),s=t.event({name:"RemeshEventEmitted"}),a=t.event({name:"RemeshCommandReceived"}),c=t.event({name:"RemeshCommand$Received"});return{event:{RemeshDomainStorageEvent:n,RemeshStateStorageEvent:e,RemeshQueryStorageEvent:o,RemeshEventEmittedEvent:s,RemeshCommandReceivedEvent:a,RemeshCommand$ReceivedEvent:c}}}}),L=t=>t.owner?t.owner.Domain.inspectable&&t.inspectable:t.inspectable,Xn=t=>{var n;return((n=t.inspectors)!=null?n:[]).filter(e=>!!e).map(e=>{const a=t,{inspectors:o}=a,s=it(a,["inspectors"]);return e(s)})},Zn=t=>{let n=null;const e=()=>(n||(n=Xn(t)),n);return{destroyInspectors:()=>{if(n){for(const u of n)u.destroy();n=null}},inspectDomainStorage:(u,f)=>{if(L(f.Domain))for(const p of e()){const E=p.getDomain(O()).event.RemeshDomainStorageEvent({type:u,storage:f});p.emitEvent(E)}},inspectStateStorage:(u,f)=>{if(L(f.State))for(const p of e()){const E=p.getDomain(O()).event.RemeshStateStorageEvent({type:u,storage:f});p.emitEvent(E)}},inspectQueryStorage:(u,f)=>{if(L(f.Query))for(const p of e()){const E=p.getDomain(O()).event.RemeshQueryStorageEvent({type:u,storage:f});p.emitEvent(E)}},inspectEventEmitted:(u,f)=>{if(L(f.Event))for(const p of e()){const E=p.getDomain(O()).event.RemeshEventEmittedEvent({type:u,payload:f});p.emitEvent(E)}},inspectCommandReceived:(u,f)=>{if(L(f.Command))for(const p of e()){const E=p.getDomain(O()).event.RemeshCommandReceivedEvent({type:u,payload:f});p.emitEvent(E)}},inspectCommand$Received:(u,f)=>{if(L(f.Command$))for(const p of e()){const E=p.getDomain(O()).event.RemeshCommand$ReceivedEvent({type:u,payload:f});p.emitEvent(E)}}}};let H=0;const $t=t=>{const n=x({},t),e=Zn(n),o=new Set,s=new Set,a=new Set,c=new Map,d=new WeakMap,h=r=>{var i;for(const m of(i=n.externs)!=null?i:[])if(m.Extern===r)return m.value;return r.default},l=r=>{const i=d.get(r);if(i)return i;const m=h(r),y={id:H++,type:"RemeshExternStorage",Extern:r,currentValue:m};return d.set(r,y),y},u=r=>l(r).currentValue,f=new WeakMap,p=r=>{var S;const i=f.get(r);if(i)return i;const m=r.State.stateName,y=(S=JSON.stringify(r.arg))!=null?S:"",v=`State/${r.State.stateId}/${m}:${y}`;return f.set(r,v),v},w=r=>{var S;const i=f.get(r);if(i)return i;const m=r.Query.queryName,y=(S=JSON.stringify(r.arg))!=null?S:"",v=`Query/${r.Query.queryId}/${m}:${y}`;return f.set(r,v),v},E=r=>{var S;const i=f.get(r);if(i)return i;const m=r.Domain.domainName,y=(S=JSON.stringify(r.arg))!=null?S:"",v=`Domain/${r.Domain.domainId}/${m}:${y}`;return f.set(r,v),v},C=r=>r.type==="RemeshStateItem"?p(r):r.type==="RemeshQueryPayload"?w(r):E(r),B=r=>{if(r.currentState===j)throw new Error(`${r.key} is not found`);return r.currentState},_=new WeakMap,V=(r,i)=>r.defer?j:r.impl(i),Mt=r=>{const i=I(r.State.owner),m=p(r),y=V(r.State,r.arg),v={id:H++,type:"RemeshStateStorage",State:r.State,arg:r.arg,key:m,currentState:y,downstreamSet:new Set};return i.stateMap.set(m,v),_.set(r,v),e.inspectStateStorage(Q.StateCreated,v),v},Ie=r=>{const i=I(r.State.owner);i.stateMap.has(r.key)||(r.currentState=V(r.State,r.arg),i.stateMap.set(r.key,r),e.inspectStateStorage(Q.StateRestored,r))},P=r=>{const i=I(r.State.owner),m=p(r),y=i.stateMap.get(m);if(y)return y;const v=_.get(r);return v?(Ie(v),v):Mt(r)},ke=new WeakMap,_t=r=>{const i=I(r.owner),m=new G,y=new A(D=>{const g=m.subscribe(D);return S.refCount+=1,()=>{g.unsubscribe(),S.refCount-=1,a.add(S),ee()}}),v=ke.get(r),S=Object.assign(v!=null?v:{},{type:"RemeshEventStorage",Event:r,subject:m,observable:y,refCount:0});return i.eventMap.set(r,S),ke.set(r,S),S},me=r=>{const m=I(r.owner).eventMap.get(r);return m||_t(r)},Ne=new WeakMap,Qe=r=>{const i=new G,m=new A(y=>{const v=i.subscribe(y),S=r();return S.refCount+=1,()=>{v.unsubscribe(),S.refCount-=1,a.add(S),ee()}});return{subject:i,observable:m}},Ae=(r,i,m)=>{if(!r.prepare)return;const y=r.prepare(i,m);if(!!y){if(Array.isArray(y)){for(const v of y)de(v);return}de(y)}},Ut=r=>{const i=I(r.Query.owner),m=w(r),{subject:y,observable:v}=Qe(()=>D),S=new Set,D={id:H++,type:"RemeshQueryStorage",Query:r.Query,arg:r.arg,currentValue:j,key:m,upstreamSet:S,downstreamSet:new Set,subject:y,observable:v,refCount:0,status:"default",wipUpstreamSet:new Set},{Query:g}=r,R={get:U=>{if(D.upstreamSet!==S)return b.get(U);if(U.type==="RemeshStateItem"){const Y=P(U);return D.upstreamSet.add(Y),Y.downstreamSet.add(D),b.get(U)}if(U.type==="RemeshQueryPayload"){const Y=F(U);return D.upstreamSet.add(Y),Y.downstreamSet.add(D),b.get(U)}return b.get(U)},peek:b.peek,hasNoValue:b.hasNoValue};Ae(g,R,r.arg);const M=g.impl(R,r.arg);return D.currentValue=M,i.queryMap.set(m,D),Ne.set(r,D),e.inspectQueryStorage(Q.QueryCreated,D),D},Me=r=>{const i=I(r.Query.owner);if(i.queryMap.has(r.key))return;const{subject:m,observable:y}=Qe(()=>r);r.status="default",r.subject=m,r.observable=y,i.queryMap.set(r.key,r);for(const v of r.upstreamSet)if(v.downstreamSet.add(r),v.type==="RemeshQueryStorage")Me(v);else if(v.type==="RemeshStateStorage")Ie(v);else throw new Error(`Unknown upstream: ${v}`);Ye(r),e.inspectQueryStorage(Q.QueryRestored,r)},F=r=>{const i=I(r.Query.owner),m=w(r),y=i.queryMap.get(m);if(y)return y;const v=Ne.get(r);return v?(Me(v),v):Ut(r)},_e=new WeakMap,Ot=r=>{const i=I(r.owner),m=new G,y=m.asObservable(),v={id:H++,type:"RemeshCommand$Storage",Command$:r,subject:m,observable:y};return i.command$Map.set(r,v),_e.set(r,v),v},Ue=r=>{const i=I(r.owner),m=i.command$Map.get(r);if(m)return m;const y=_e.get(r);if(y){const v=new G,S=v.asObservable();return y.subject=v,y.observable=S,y.subscription=void 0,i.command$Map.set(r,y),y}return Ot(r)},Oe=new WeakMap,Vt=r=>{const i=E(r),m=new Set,y=new Set,v={state:g=>{if("default"in g){const M=Ln(g);return M.owner=r,M.query.owner=r,M}if(!("impl"in g)){const M=Wn(g);return M.owner=r,M.query.owner=r,M}const R=le(g);return R.owner=r,R.query.owner=r,R},query:g=>{const R=Ce(g);return R.owner=r,R},event:g=>{const R=Fn(g);return R.owner=r,R},command:g=>{const R=Dt(g);return R.owner=r,R},command$:g=>{const R=De(g);return R.owner=r,R},ignite:g=>{S.running?et(g):y.add(g)},commandAsync:g=>{const R=xt(g);return R.owner=r,R},getDomain:g=>{const R=I(g);return m.add(R),R.downstreamSet.add(S),R.domain},getExtern:g=>u(g)},S={id:H++,type:"RemeshDomainStorage",Domain:r.Domain,arg:r.arg,get domain(){return D},domainContext:v,domainPayload:r,key:i,igniteFnSet:y,upstreamSet:m,downstreamSet:new Set,upstreamSubscriptionSet:new Set,domainSubscriptionSet:new Set,stateMap:new Map,queryMap:new Map,eventMap:new Map,command$Map:new Map,refCount:0,running:!1},D=r.Domain.impl(v,r.arg);return c.set(i,S),Oe.set(r,S),e.inspectDomainStorage(Q.DomainCreated,S),S},I=r=>{const i=E(r),m=c.get(i);if(m)return m;const y=Oe.get(r);if(y){y.running=!1,c.set(y.key,y);for(const v of y.upstreamSet)v.downstreamSet.add(y);return e.inspectDomainStorage(Q.DomainRestored,y),y}return Vt(r)},Ve=r=>{const i=I(r.Query.owner);if(!!i.queryMap.has(r.key)){i.queryMap.delete(r.key),e.inspectQueryStorage(Q.QueryDestroyed,r);for(const m of r.upstreamSet)if(m.downstreamSet.delete(r),m.type==="RemeshQueryStorage")je(m);else if(m.type==="RemeshStateStorage")Fe(m);else throw new Error(`Unknown upstream in clearQueryStorageIfNeeded(..): ${m}`);r.subject.complete()}},je=r=>{r.refCount===0&&r.downstreamSet.size===0&&Ve(r)},Te=r=>{const i=I(r.State.owner);!i.stateMap.has(r.key)||(e.inspectStateStorage(Q.StateDestroyed,r),i.stateMap.delete(r.key),r.downstreamSet.clear())},Fe=r=>{r.downstreamSet.size===0&&Te(r)},Le=r=>{const i=I(r.Event.owner);r.subject.complete(),i.eventMap.delete(r.Event)},jt=r=>{r.refCount===0&&Le(r)},Tt=r=>{var m;const i=I(r.Command$.owner);r.subject.complete(),(m=r.subscription)==null||m.unsubscribe(),r.subscription=void 0,i.command$Map.delete(r.Command$)},We=r=>{e.inspectDomainStorage(Q.DomainDestroyed,r),ht(r.domainSubscriptionSet),ht(r.upstreamSubscriptionSet);for(const i of r.eventMap.values())Le(i);for(const i of r.queryMap.values())Ve(i);for(const i of r.stateMap.values())Te(i);for(const i of r.command$Map.values())Tt(i);r.upstreamSubscriptionSet.clear(),r.domainSubscriptionSet.clear(),r.downstreamSet.clear(),r.stateMap.clear(),r.queryMap.clear(),r.eventMap.clear(),r.running=!1,c.delete(r.key);for(const i of r.upstreamSet)i.downstreamSet.delete(r),ze(i)},ze=r=>{r.refCount===0&&r.downstreamSet.size===0&&r.domainSubscriptionSet.size===0&&We(r)},Ft=r=>{const i=P(r);return B(i)},Ke=r=>{const i=F(r),m=i.currentValue;if(m===j)throw new Error(`Query ${i.key} is not ready yet.`);return m},b={get:r=>{if(r.type==="RemeshStateItem")return Ft(r);if(r.type==="RemeshQueryPayload")return Ke(r);throw new Error(`Unexpected input in ctx.get(..): ${r}`)},peek:r=>{if(r.type==="RemeshStateItem")return P(r).currentState;if(r.type==="RemeshQueryPayload")return F(r).currentValue;throw new Error(`Unexpected input in peek(..): ${r}`)},hasNoValue:r=>b.peek(r)===j,fromEvent:r=>me(r).observable,fromQuery:r=>F(r).observable},Pe=r=>{if(r.wipUpstreamSet.size!==0){let m=!1;for(const y of r.wipUpstreamSet)y.type==="RemeshStateStorage"?m=!0:y.type==="RemeshQueryStorage"&&(y.status==="wip"&&Pe(y),y.status==="updated"&&(m=!0));if(r.wipUpstreamSet.clear(),!m){r.status="default";return}}Ye(r)?r.status="updated":r.status="default"},Ye=r=>{const{Query:i}=r;for(const S of r.upstreamSet)S.downstreamSet.delete(r),S.downstreamSet.size===0&&a.add(S);const m=new Set;r.upstreamSet=m;const y={get:S=>{if(r.upstreamSet!==m)return b.get(S);if(S.type==="RemeshStateItem"){const D=P(S);return r.upstreamSet.add(D),D.downstreamSet.add(r),b.get(S)}if(S.type==="RemeshQueryPayload"){const D=F(S);return r.upstreamSet.add(D),D.downstreamSet.add(r),b.get(S)}return b.get(S)},peek:b.peek,hasNoValue:b.hasNoValue};Ae(i,y,r.arg);const v=i.impl(y,r.arg);return r.currentValue!==j&&i.compare(r.currentValue,v)?!1:(r.currentValue=v,o.add(r),e.inspectQueryStorage(Q.QueryUpdated,r),!0)},ee=()=>{if(a.size===0)return;const r=[...a];a.clear();for(const i of r)i.type==="RemeshDomainStorage"?ze(i):i.type==="RemeshEventStorage"?jt(i):i.type==="RemeshQueryStorage"?je(i):i.type==="RemeshStateStorage"&&Fe(i);ee()},He=()=>{if(o.size===0)return;const r=[...o];o.clear();for(const i of r)i.type==="RemeshEventPayload"?Ze(i):i.type==="RemeshQueryStorage"&&(o.has(i)||i.subject.next(i.currentValue));He()},Ge=r=>{if(r.status="wip",r.downstreamSet.size>0)for(const i of r.downstreamSet)i.wipUpstreamSet.has(r)||(i.wipUpstreamSet.add(r),Ge(i));else s.add(r)},Je=()=>{if(s.size===0)return;const r=[...s];s.clear();for(const i of r)Pe(i);Je()},Xe=()=>{Je(),He()},de=r=>{const i=P(r.stateItem);if(!(i.currentState!==j&&r.stateItem.State.compare(i.currentState,r.newState))){i.currentState=r.newState,e.inspectStateStorage(Q.StateUpdated,i);for(const m of i.downstreamSet)m.wipUpstreamSet.add(i),Ge(m)}},Lt=r=>{o.add(r)},Ze=r=>{const{Event:i,arg:m}=r,y=me(i);if(e.inspectEventEmitted(Q.EventEmitted,r),i.impl){const v={get:b.get,peek:b.peek,hasNoValue:b.hasNoValue},S=i.impl(v,m);y.subject.next(S)}else y.subject.next(m)},qe=r=>{e.inspectCommandReceived(Q.CommandReceived,r);const{Command:i,arg:m}=r,y={get:b.get,peek:b.peek,hasNoValue:b.hasNoValue},v=i.impl(y,m);te(v)},Be=(r,i)=>{r.add(i),i.add(()=>{r.delete(i)})},et=r=>{const i={get:b.get,peek:b.peek,hasNoValue:b.hasNoValue};te(r(i))},Wt=r=>{const i=Ue(r);if(i.subscription)return;const m={get:b.get,peek:b.peek,hasNoValue:b.hasNoValue,fromEvent:b.fromEvent,fromQuery:b.fromQuery},v=r.impl(m,i.observable).subscribe(S=>{te(S),Xe()});i.subscription=v},te=r=>{if(!!r){if(Array.isArray(r)){for(const i of r)te(i);return}if(r.type==="RemeshCommandPayload"){qe(r);return}else if(r.type==="RemeshEventPayload"){Lt(r);return}else if(r.type==="RemeshStateSetterPayload"){de(r);return}else if(r.type==="RemeshCommand$Payload"){tt(r);return}throw new Error(`Unknown command output of ${r}`)}},tt=r=>{e.inspectCommand$Received(Q.Command$Received,r);const{Command$:i,arg:m}=r,y=Ue(i);Wt(i),y.subject.next(m)},zt=(r,i)=>{Be(r.domainSubscriptionSet,i),i.add(()=>{a.add(r),ee()})},Kt=(r,i)=>{const m=F(r);return m.observable.subscribe(i)},Pt=(r,i)=>me(r).observable.subscribe(i),Yt=r=>{const i={};for(const m in r.command){const y=r.command[m];i[m]=v=>rt(y(v))}return i},Ht=r=>{const i=I(r);if(i.domainOutput)return i.domainOutput;const m=i.domain,y=Yt(m),v=k(x({},m),{command:y});return i.domainOutput=v,v},Gt=r=>{for(const i of r.igniteFnSet)et(i)},Jt=r=>{if(!r.running){r.running=!0;for(const i of r.upstreamSet){const m=nt(i.domainPayload);Be(r.upstreamSubscriptionSet,m)}Gt(r)}},nt=r=>{const i=I(r),m=new Z;return zt(i,m),Jt(i),m},Xt=()=>{e.destroyInspectors();for(const r of c.values())We(r);c.clear(),o.clear()},rt=r=>{r.type==="RemeshCommandPayload"?(qe(r),Xe()):r.type==="RemeshCommand$Payload"&&tt(r)};return{name:n.name,getDomain:Ht,query:Ke,emitEvent:Ze,sendCommand:rt,destroy:Xt,subscribeQuery:Kt,subscribeEvent:Pt,subscribeDomain:nt,getKey:C}},ht=t=>{for(const n of t)n.unsubscribe()},It={domain:xe,extern:Gn,store:$t,state:le,query:Ce,command:Dt,command$:De,commandAsync:xt};var kt={exports:{}},Nt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K=N.exports;function qn(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Bn=typeof Object.is=="function"?Object.is:qn,er=K.useState,tr=K.useEffect,nr=K.useLayoutEffect,rr=K.useDebugValue;function or(t,n){var e=n(),o=er({inst:{value:e,getSnapshot:n}}),s=o[0].inst,a=o[1];return nr(function(){s.value=e,s.getSnapshot=n,ve(s)&&a({inst:s})},[t,e,n]),tr(function(){return ve(s)&&a({inst:s}),t(function(){ve(s)&&a({inst:s})})},[t]),rr(e),e}function ve(t){var n=t.getSnapshot;t=t.value;try{var e=n();return!Bn(t,e)}catch{return!0}}function sr(t,n){return n()}var ar=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?sr:or;Nt.useSyncExternalStore=K.useSyncExternalStore!==void 0?K.useSyncExternalStore:ar;kt.exports=Nt;const Qt=N.exports.createContext(null),ir=()=>{const t=N.exports.useContext(Qt);if(t===null)throw new Error("You may forget to add <RemeshRoot />");return t},$e=()=>ir().remeshStore,pr=t=>{const n=N.exports.useRef(t.store);n.current||(n.current=$t("options"in t?t.options:{}));const e=n.current,o=N.exports.useMemo(()=>({remeshStore:e}),[e]);return en(Qt.Provider,{value:o,children:t.children})},hr=function(t){cr(t.Query.owner);const n=$e(),e=N.exports.useRef(null),o=N.exports.useCallback(h=>(e.current=h,()=>{e.current=null}),[]),s=N.exports.useCallback(()=>n.query(t),[n,t]),a=kt.exports.useSyncExternalStore(o,s),c=N.exports.useRef(null),d=n.getKey(t);return N.exports.useEffect(()=>()=>{var h;(h=c.current)==null||h.unsubscribe(),c.current=null},[n,d]),N.exports.useEffect(()=>{c.current===null&&(c.current=n.subscribeQuery(t,()=>{var h;(h=e.current)==null||h.call(e)}))},[n,t]),a},yr=function(t,n){const e=$e(),o=N.exports.useRef(n);N.exports.useEffect(()=>{o.current=n}),N.exports.useEffect(()=>{const s=e.subscribeEvent(t,a=>{o.current(a)});return()=>{s.unsubscribe()}},[t,e])},cr=function(t){const n=$e(),e=N.exports.useRef(null),o=n.getDomain(t),s=n.getKey(t);return N.exports.useEffect(()=>()=>{var a;(a=e.current)==null||a.unsubscribe(),e.current=null},[n,s]),N.exports.useEffect(()=>{e.current===null&&(e.current=n.subscribeDomain(t))},[n,t]),o},ur=t=>{const n=t.getHours().toString().padStart(2,"0"),e=t.getMinutes().toString().padStart(2,"0"),o=t.getSeconds().toString().padStart(2,"0"),s=t.getMilliseconds().toString().padStart(3,"0");return`${n}:${e}:${o}.${s}`},fr=()=>{const t=new Date;return ur(t)},At=t=>{const n=x({include:["state","domain","event","command","command$"]},t);return{onActive:(o,s)=>{var a;(a=n.exclude)!=null&&a.includes(o)||(n.include?n.include.includes(o)&&s():s())}}},lr=()=>{if(typeof window!="undefined")return window.__REDUX_DEVTOOLS_EXTENSION__},vr=t=>{const n=lr();if(!!n)return e=>{var l;const o=At(t),s=n.connect({name:e==null?void 0:e.name,features:{pause:!1,lock:!1,persist:!1,export:!1,import:!1,jump:!1,skip:!1,reorder:!1,dispatch:!1,test:!1}}),a=(u,f)=>{s.send(f,null)},c=It.store({name:`RemeshReduxDevtools(${(l=e==null?void 0:e.name)!=null?l:""})`}),d=c.getDomain(O()),h=u=>{const f={domainId:u.Domain.domainId,domainName:u.Domain.domainName};return u.arg!==void 0?k(x({},f),{domainArg:u.arg}):f};return o.onActive("domain",()=>{c.subscribeEvent(d.event.RemeshDomainStorageEvent,u=>{const f=u.storage.Domain,p={type:`${u.type}::${f.domainName}`,domainId:f.domainId,domainName:f.domainName};u.storage.arg!==void 0?a(p.type,k(x({},p),{domainArg:u.storage.arg})):a(p.type,p)})}),o.onActive("state",()=>{c.subscribeEvent(d.event.RemeshStateStorageEvent,u=>{const f=u.storage.State,p={type:`${u.type}::${f.stateName}`,owner:h(f.owner),stateId:f.stateId,stateName:f.stateName,stateValue:u.storage.currentState};u.storage.arg!==void 0?a(p.type,k(x({},p),{stateArg:u.storage.arg})):a(p.type,p)})}),o.onActive("query",()=>{c.subscribeEvent(d.event.RemeshQueryStorageEvent,u=>{const f=u.storage.Query,p={type:`${u.type}::${f.queryName}`,owner:h(f.owner),queryId:f.queryId,queryName:f.queryName};u.storage.arg!==void 0?a(p.type,k(x({},p),{queryArg:u.storage.arg})):a(p.type,p)})}),o.onActive("command",()=>{c.subscribeEvent(d.event.RemeshCommandReceivedEvent,u=>{const f=u.payload.Command,p={type:`${u.type}::${f.commandName}`,owner:h(f.owner),commandId:f.commandId,commandName:f.commandName};u.payload.arg!==void 0?a(p.type,k(x({},p),{commandArg:u.payload.arg})):a(p.type,p)})}),o.onActive("command$",()=>{c.subscribeEvent(d.event.RemeshCommand$ReceivedEvent,u=>{const f=u.payload.Command$,p={type:`${u.type}::${f.command$Name}`,owner:h(f.owner),command$Id:f.command$Id,command$Name:f.command$Name};u.payload.arg!==void 0?a(p.type,k(x({},p),{command$Arg:u.payload.arg})):a(p.type,p)})}),o.onActive("event",()=>{c.subscribeEvent(d.event.RemeshEventEmittedEvent,u=>{const f=u.payload.Event,p={type:`${u.type}::${f.eventName}`,owner:h(f.owner),eventId:f.eventId,eventName:f.eventName};u.payload.arg!==void 0?a(p.type,k(x({},p),{eventArg:u.payload.arg})):a(p.type,p)})}),c}},Sr=t=>n=>{var h;const e=x({collapsed:!0},t),o=At(e),s=(l,u)=>{if(e.collapsed){const f=l.split("::");console.groupCollapsed(`%c${f[0]}%c::%c${f[1]}%c::%c${f[2]}%c @ ${fr()}`,"color:#03A9F4; font-weight: bold","color:#9E9E9E; font-weight: bold","color:#4CAF50; font-weight: bold","color:#9E9E9E; font-weight: bold","color:#AA07DE; font-weight: bold","color:#9E9E9E; font-weight: lighter")}console.log(u),e.collapsed&&console.groupEnd()},a=It.store(k(x({},n),{name:`RemeshLogger(${(h=n==null?void 0:n.name)!=null?h:""})`})),c=a.getDomain(O()),d=l=>{const u={domainId:l.Domain.domainId,domainName:l.Domain.domainName};return l.arg!==void 0?k(x({},u),{domainArg:l.arg}):u};return o.onActive("domain",()=>{a.subscribeEvent(c.event.RemeshDomainStorageEvent,l=>{const u=l.storage.Domain,f={type:`${l.type}::${u.domainName}`,domainId:u.domainId,domainName:u.domainName};l.storage.arg!==void 0?s(f.type,k(x({},f),{domainArg:l.storage.arg})):s(f.type,f)})}),o.onActive("state",()=>{a.subscribeEvent(c.event.RemeshStateStorageEvent,l=>{const u=l.storage.State,f={type:`${l.type}::${u.stateName}`,owner:d(u.owner),stateId:u.stateId,stateName:u.stateName,stateValue:l.storage.currentState};l.storage.arg!==void 0?s(f.type,k(x({},f),{stateArg:l.storage.arg})):s(f.type,f)})}),o.onActive("query",()=>{a.subscribeEvent(c.event.RemeshQueryStorageEvent,l=>{const u=l.storage.Query,f={type:`${l.type}::${u.queryName}`,owner:d(u.owner),queryId:u.queryId,queryName:u.queryName,queryValue:l.storage.currentValue};l.storage.arg!==void 0?s(f.type,k(x({},f),{queryArg:l.storage.arg})):s(f.type,f)})}),o.onActive("command",()=>{a.subscribeEvent(c.event.RemeshCommandReceivedEvent,l=>{const u=l.payload.Command,f={type:`${l.type}::${u.commandName}`,owner:d(u.owner),commandId:u.commandId,commandName:u.commandName};l.payload.arg!==void 0?s(f.type,k(x({},f),{commandArg:l.payload.arg})):s(f.type,f)})}),o.onActive("command$",()=>{a.subscribeEvent(c.event.RemeshCommand$ReceivedEvent,l=>{const u=l.payload.Command$,f={type:`${l.type}::${u.command$Name}`,owner:d(u.owner),command$Id:u.command$Id,command$Name:u.command$Name};l.payload.arg!==void 0?s(f.type,k(x({},f),{command$Arg:l.payload.arg})):s(f.type,f)})}),o.onActive("event",()=>{a.subscribeEvent(c.event.RemeshEventEmittedEvent,l=>{const u=l.payload.Event,f={type:`${l.type}::${u.eventName}`,owner:d(u.owner),eventId:u.eventId,eventName:u.eventName};l.payload.arg!==void 0?s(f.type,k(x({},f),{eventArg:l.payload.arg})):s(f.type,f)})}),a};export{be as A,yr as B,A as O,It as R,Z as S,ae as _,se as a,J as b,T as c,hr as d,vr as e,Sr as f,pr as g,$ as h,mn as i,ce as j,Un as k,Dn as l,Et as m,ut as n,fe as o,wn as p,bn as q,$n as r,jn as s,gn as t,cr as u,En as v,xn as w,In as x,Rn as y,X as z};
//# sourceMappingURL=remesh-logger.7aafe251.js.map
